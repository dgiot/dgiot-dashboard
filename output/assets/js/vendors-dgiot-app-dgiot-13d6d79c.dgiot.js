/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  Time: 2021-12-30 12:46:48
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors-dgiot-app-dgiot-13d6d79c"],{"5ba1":function(t,e,i){},"9fc1":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return o}));const s={ctrlCmd:!1,alt:!1};var n,o;(function(t){t[t["Blur"]=1]="Blur",t[t["Gesture"]=2]="Gesture",t[t["Other"]=3]="Other"})(n||(n={})),function(t){t[t["NONE"]=0]="NONE",t[t["FIRST"]=1]="FIRST",t[t["SECOND"]=2]="SECOND",t[t["LAST"]=3]="LAST"}(o||(o={}))},a20a:function(t,e,i){"use strict";i.d(e,"b",(function(){return c})),i.d(e,"a",(function(){return r}));var s,n=i("4b4a"),o=i("f295"),h=i("92db"),a=i("4d73"),l=function(t,e,i,s){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,o){function h(t){try{l(s.next(t))}catch(e){o(e)}}function a(t){try{l(s["throw"](t))}catch(e){o(e)}}function l(t){t.done?i(t.value):n(t.value).then(h,a)}l((s=s.apply(t,e||[])).next())}))};(function(t){t[t["None"]=0]="None",t[t["Initialized"]=1]="Initialized",t[t["Closed"]=2]="Closed"})(s||(s={}));class c extends h["a"]{constructor(t,e=Object.create(null)){super(),this.database=t,this.options=e,this._onDidChangeStorage=this._register(new o["b"]),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=s.None,this.cache=new Map,this.flushDelayer=new n["f"](c.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(t=>this.onDidChangeItemsExternal(t)))}onDidChangeItemsExternal(t){var e,i;null===(e=t.changed)||void 0===e||e.forEach((t,e)=>this.accept(e,t)),null===(i=t.deleted)||void 0===i||i.forEach(t=>this.accept(t,void 0))}accept(t,e){if(this.state===s.Closed)return;let i=!1;if(Object(a["n"])(e))i=this.cache.delete(t);else{const s=this.cache.get(t);s!==e&&(this.cache.set(t,e),i=!0)}i&&this._onDidChangeStorage.fire(t)}get(t,e){const i=this.cache.get(t);return Object(a["n"])(i)?e:i}getBoolean(t,e){const i=this.get(t);return Object(a["n"])(i)?e:"true"===i}getNumber(t,e){const i=this.get(t);return Object(a["n"])(i)?e:parseInt(i,10)}set(t,e){return l(this,void 0,void 0,(function*(){if(this.state===s.Closed)return;if(Object(a["n"])(e))return this.delete(t);const i=String(e),n=this.cache.get(t);return n!==i?(this.cache.set(t,i),this.pendingInserts.set(t,i),this.pendingDeletes.delete(t),this._onDidChangeStorage.fire(t),this.flushDelayer.trigger(()=>this.flushPending())):void 0}))}delete(t){return l(this,void 0,void 0,(function*(){if(this.state===s.Closed)return;const e=this.cache.delete(t);return e?(this.pendingDeletes.has(t)||this.pendingDeletes.add(t),this.pendingInserts.delete(t),this._onDidChangeStorage.fire(t),this.flushDelayer.trigger(()=>this.flushPending())):void 0}))}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return l(this,void 0,void 0,(function*(){if(!this.hasPending)return;const t={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(t).finally(()=>{var t;if(!this.hasPending)while(this.whenFlushedCallbacks.length)null===(t=this.whenFlushedCallbacks.pop())||void 0===t||t()})}))}dispose(){this.flushDelayer.dispose(),super.dispose()}}c.DEFAULT_FLUSH_DELAY=100;class r{constructor(){this.onDidChangeItemsExternal=o["c"].None,this.items=new Map}updateItems(t){return l(this,void 0,void 0,(function*(){t.insert&&t.insert.forEach((t,e)=>this.items.set(e,t)),t.delete&&t.delete.forEach(t=>this.items.delete(t))}))}}},e845:function(t,e,i){"use strict";i.d(e,"a",(function(){return X}));var s=i("d208"),n=i("be5d"),o=i("dfc8"),h=i("3f08"),a=i("c815"),l=i("905e"),c=i("447b"),r=i("8a8f"),u=i("945a"),d=i("4b4a"),p=i("4163"),g=i("47a8"),b=i("f295"),m=i("92db"),y=i("cb4a"),k=i("250b"),v=i("8ed8");i("5ba1");const f={},C=new v["a"]("quick-input-button-icon-");function _(t){if(!t)return;let e;const i=t.dark.toString();return f[i]?e=f[i]:(e=C.nextId(),s["v"]("."+e,"background-image: "+s["s"](t.light||t.dark)),s["v"](`.vs-dark .${e}, .hc-black .${e}`,"background-image: "+s["s"](t.dark)),f[i]=e),e}var D=i("9fc1"),B=i("d4b5"),x=i("ce14"),E=i("73a4");const I=s["a"];class w extends m["a"]{constructor(t){super(),this.parent=t,this.onKeyDown=t=>s["i"](this.inputBox.inputElement,s["d"].KEY_DOWN,e=>{t(new n["a"](e))}),this.onMouseDown=t=>s["i"](this.inputBox.inputElement,s["d"].MOUSE_DOWN,e=>{t(new x["a"](e))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=s["q"](this.parent,I(".quick-input-box")),this.inputBox=this._register(new E["b"](this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return"password"===this.inputBox.inputElement.type}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,e){this.inputBox.inputElement.setAttribute(t,e)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===k["a"].Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===k["a"].Info?1:t===k["a"].Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===k["a"].Info?1:t===k["a"].Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}var L=i("5474"),S=i("1af1"),O=i("c328"),A=i("07f2"),F=i("95ed"),T=i("450e"),M=i("4d73"),q=function(t,e,i,s){var n,o=arguments.length,h=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(h=(o<3?n(h):o>3?n(e,i,h):n(e,i))||h);return o>3&&h&&Object.defineProperty(e,i,h),h},P=function(t,e,i,s){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,o){function h(t){try{l(s.next(t))}catch(e){o(e)}}function a(t){try{l(s["throw"](t))}catch(e){o(e)}}function l(t){t.done?i(t.value):n(t.value).then(h,a)}l((s=s.apply(t,e||[])).next())}))};const K=s["a"];class j{constructor(t){this.hidden=!1,this._onChecked=new b["b"],this.onChecked=this._onChecked.event,Object.assign(this,t)}get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}dispose(){this._onChecked.dispose()}}class H{get templateId(){return H.ID}renderTemplate(t){const e=Object.create(null);e.toDisposeElement=[],e.toDisposeTemplate=[],e.entry=s["q"](t,K(".quick-input-list-entry"));const i=s["q"](e.entry,K("label.quick-input-list-label"));e.toDisposeTemplate.push(s["o"](i,s["d"].CLICK,t=>{e.checkbox.offsetParent||t.preventDefault()})),e.checkbox=s["q"](i,K("input.quick-input-list-checkbox")),e.checkbox.type="checkbox",e.toDisposeTemplate.push(s["o"](e.checkbox,s["d"].CHANGE,t=>{e.element.checked=e.checkbox.checked}));const n=s["q"](i,K(".quick-input-list-rows")),h=s["q"](n,K(".quick-input-list-row")),a=s["q"](n,K(".quick-input-list-row"));e.label=new S["a"](h,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const l=s["q"](h,K(".quick-input-list-entry-keybinding"));e.keybinding=new O["a"](l,y["a"]);const c=s["q"](a,K(".quick-input-list-label-meta"));return e.detail=new L["a"](c,!0),e.separator=s["q"](e.entry,K(".quick-input-list-separator")),e.actionBar=new o["a"](e.entry),e.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),e.toDisposeTemplate.push(e.actionBar),e}renderElement(t,e,i){i.toDisposeElement=Object(m["f"])(i.toDisposeElement),i.element=t,i.checkbox.checked=t.checked,i.toDisposeElement.push(t.onChecked(t=>i.checkbox.checked=t));const{labelHighlights:s,descriptionHighlights:n,detailHighlights:o}=t,h=Object.create(null);h.matches=s||[],h.descriptionTitle=t.saneDescription,h.descriptionMatches=n||[],h.extraClasses=t.item.iconClasses,h.italic=t.item.italic,h.strikethrough=t.item.strikethrough,i.label.setLabel(t.saneLabel,t.saneDescription,h),i.keybinding.set(t.item.keybinding),i.detail.set(t.saneDetail,o),t.separator&&t.separator.label?(i.separator.textContent=t.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!t.separator),i.actionBar.clear();const a=t.item.buttons;a&&a.length?(i.actionBar.push(a.map((e,i)=>{let s=e.iconClass||(e.iconPath?_(e.iconPath):void 0);e.alwaysVisible&&(s=s?s+" always-visible":"always-visible");const n=new r["a"]("id-"+i,"",s,!0,()=>P(this,void 0,void 0,(function*(){t.fireButtonTriggered({button:e,item:t.item})})));return n.tooltip=e.tooltip||"",n}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(t,e,i){i.toDisposeElement=Object(m["f"])(i.toDisposeElement)}disposeTemplate(t){t.toDisposeElement=Object(m["f"])(t.toDisposeElement),t.toDisposeTemplate=Object(m["f"])(t.toDisposeTemplate)}}H.ID="listelement";class N{getHeight(t){return t.saneDetail?44:22}getTemplateId(t){return H.ID}}var U;(function(t){t[t["First"]=1]="First",t[t["Second"]=2]="Second",t[t["Last"]=3]="Last",t[t["Next"]=4]="Next",t[t["Previous"]=5]="Previous",t[t["NextPage"]=6]="NextPage",t[t["PreviousPage"]=7]="PreviousPage"})(U||(U={}));class V{constructor(t,e,i){this.parent=t,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new b["b"],this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new b["b"],this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new b["b"],this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new b["b"],this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new b["b"],this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new b["b"],this.onKeyDown=this._onKeyDown.event,this._onLeave=new b["b"],this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=e,this.container=s["q"](this.parent,K(".quick-input-list"));const o=new N,h=new W;this.list=i.createList("QuickInput",this.container,o,[new H],{identityProvider:{getId:t=>t.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:h}),this.list.getHTMLElement().id=e,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(t=>{const e=new n["a"](t);switch(e.keyCode){case 10:this.toggleCheckbox();break;case 31:(y["f"]?t.metaKey:t.ctrlKey)&&this.list.setFocus(Object(u["r"])(this.list.length));break;case 16:const e=this.list.getFocus();1===e.length&&0===e[0]&&this._onLeave.fire();break;case 18:const i=this.list.getFocus();1===i.length&&i[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(e)})),this.disposables.push(this.list.onMouseDown(t=>{2!==t.browserEvent.button&&t.browserEvent.preventDefault()})),this.disposables.push(s["i"](this.container,s["d"].CLICK,t=>{(t.x||t.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(t=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(t=>{"number"===typeof t.index&&(t.browserEvent.preventDefault(),this.list.setSelection([t.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return b["c"].map(this.list.onDidChangeFocus,t=>t.elements.map(t=>t.item))}get onDidChangeSelection(){return b["c"].map(this.list.onDidChangeSelection,t=>({items:t.elements.map(t=>t.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,e=!0){for(let i=0,s=t.length;i<s;i++){const s=t[i];if(!s.hidden){if(!s.checked)return!1;e=!0}}return e}getCheckedCount(){let t=0;const e=this.elements;for(let i=0,s=e.length;i<s;i++)e[i].checked&&t++;return t}getVisibleCount(){let t=0;const e=this.elements;for(let i=0,s=e.length;i<s;i++)e[i].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(e=>{e.hidden||(e.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=Object(m["f"])(this.elementDisposables);const e=t=>this.fireButtonTriggered(t);this.inputElements=t,this.elements=t.reduce((i,s,n)=>{var o,h,a;if("separator"!==s.type){const l=n&&t[n-1],c=s.label&&s.label.replace(/\r?\n/g," "),r=s.meta&&s.meta.replace(/\r?\n/g," "),u=s.description&&s.description.replace(/\r?\n/g," "),d=s.detail&&s.detail.replace(/\r?\n/g," "),p=s.ariaLabel||[c,u,d].map(t=>Object(g["c"])(t)).filter(t=>!!t).join(", ");i.push(new j({index:n,item:s,saneLabel:c,saneMeta:r,saneAriaLabel:p,saneDescription:u,saneDetail:d,labelHighlights:null===(o=s.highlights)||void 0===o?void 0:o.label,descriptionHighlights:null===(h=s.highlights)||void 0===h?void 0:h.description,detailHighlights:null===(a=s.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:e}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(t=>t.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((t,e,i)=>(t.set(e.item,i),t),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),t.length>0){const t=this.list.getFocus()[0];"number"===typeof t&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const e=new Set;for(const i of t)e.add(i);for(const t of this.elements)t.checked=e.has(t.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===U.Next&&this.list.getFocus()[0]===this.list.length-1&&(t=U.First),t===U.Previous&&0===this.list.getFocus()[0]&&(t=U.Last),t===U.Second&&this.list.length<2&&(t=U.First),t){case U.First:this.list.focusFirst();break;case U.Second:this.list.focusNth(1);break;case U.Last:this.list.focusLast();break;case U.Next:this.list.focusNext();break;case U.Previous:this.list.focusPrevious();break;case U.NextPage:this.list.focusNextPage();break;case U.PreviousPage:this.list.focusPreviousPage();break}const e=this.list.getFocus()[0];"number"===typeof e&&this.list.reveal(e)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(t){this.list.getHTMLElement().style.maxHeight=t?`calc(${44*Math.floor(t/44)}px)`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(t=t.trim(),t&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let e;this.elements.forEach(i=>{const s=this.matchOnLabel?Object(M["p"])(Object(T["c"])(t,Object(T["d"])(i.saneLabel))):void 0,n=this.matchOnDescription?Object(M["p"])(Object(T["c"])(t,Object(T["d"])(i.saneDescription||""))):void 0,o=this.matchOnDetail?Object(M["p"])(Object(T["c"])(t,Object(T["d"])(i.saneDetail||""))):void 0,h=this.matchOnMeta?Object(M["p"])(Object(T["c"])(t,Object(T["d"])(i.saneMeta||""))):void 0;if(s||n||o||h?(i.labelHighlights=s,i.descriptionHighlights=n,i.detailHighlights=o,i.hidden=!1):(i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!i.item.alwaysShow),i.separator=void 0,!this.sortByLabel){const t=i.index&&this.inputElements[i.index-1];e=t&&"separator"===t.type?t:e,e&&!i.hidden&&(i.separator=e,e=void 0)}})}else this.elements.forEach(t=>{t.labelHighlights=void 0,t.descriptionHighlights=void 0,t.detailHighlights=void 0,t.hidden=!1;const e=t.index&&this.inputElements[t.index-1];t.separator=e&&"separator"===e.type?e:void 0});const e=this.elements.filter(t=>!t.hidden);if(this.sortByLabel&&t){const i=t.toLowerCase();e.sort((t,e)=>R(t,e,i))}return this.elementsToIndexes=e.reduce((t,e,i)=>(t.set(e.item,i),t),new Map),this.list.splice(0,this.list.length,e),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(e.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),e=this.allVisibleChecked(t);for(const i of t)i.checked=!e}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=Object(m["f"])(this.elementDisposables),this.disposables=Object(m["f"])(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}style(t){this.list.style(t)}}function R(t,e,i){const s=t.labelHighlights||[],n=e.labelHighlights||[];return s.length&&!n.length?-1:!s.length&&n.length?1:0===s.length&&0===n.length?0:Object(A["a"])(t.saneLabel,e.saneLabel,i)}q([F["a"]],V.prototype,"onDidChangeFocus",null),q([F["a"]],V.prototype,"onDidChangeSelection",null);class W{getWidgetAriaLabel(){return Object(B["a"])("quickInput","Quick Input")}getAriaLabel(t){return t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}var $=function(t,e,i,s){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,o){function h(t){try{l(s.next(t))}catch(e){o(e)}}function a(t){try{l(s["throw"](t))}catch(e){o(e)}}function l(t){t.done?i(t.value):n(t.value).then(h,a)}l((s=s.apply(t,e||[])).next())}))};const G=s["a"],z=Object(g["e"])("quick-input-back",g["b"].arrowLeft),Y={iconClass:z.classNames,tooltip:Object(B["a"])("quickInput.back","Back"),handle:-1};class Q extends m["a"]{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=Q.noPromptMessage,this._severity=k["a"].Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new b["b"]),this.onDidHideEmitter=this._register(new b["b"]),this.onDisposeEmitter=this._register(new b["b"]),this.visibleDisposables=this._register(new m["b"]),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const e=this._ignoreFocusOut!==t&&!y["c"];this._ignoreFocusOut=t&&!y["c"],e&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{-1!==this.buttons.indexOf(t)&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(t=D["c"].Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){if(!this.visible)return;const t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:t||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=" ");const e=this.getDescription();if(this.ui.description1.textContent!==e&&(this.ui.description1.textContent=e),this.ui.description2.textContent!==e&&(this.ui.description2.textContent=e),this.busy&&!this.busyDelay&&(this.busyDelay=new d["g"],this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const t=this.buttons.filter(t=>t===Y);this.ui.leftActionBar.push(t.map((t,e)=>{const i=new r["a"]("id-"+e,"",t.iconClass||_(t.iconPath),!0,()=>$(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(t)})));return i.tooltip=t.tooltip||"",i}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const e=this.buttons.filter(t=>t!==Y);this.ui.rightActionBar.push(e.map((t,e)=>{const i=new r["a"]("id-"+e,"",t.iconClass||_(t.iconPath),!0,()=>$(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(t)})));return i.tooltip=t.tooltip||"",i}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,s["R"](this.ui.message,...Object(l["a"])(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?Object(B["a"])("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==k["a"].Ignore){const e=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=e.foreground?""+e.foreground:"",this.ui.message.style.backgroundColor=e.background?""+e.background:"",this.ui.message.style.border=e.border?"1px solid "+e.border:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Q.noPromptMessage=Object(B["a"])("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class J extends Q{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new b["b"]),this.onWillAcceptEmitter=this._register(new b["b"]),this.onDidAcceptEmitter=this._register(new b["b"]),this.onDidCustomEmitter=this._register(new b["b"]),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?D["a"].NONE:D["a"].FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new b["b"]),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new b["b"]),this.onDidTriggerItemButtonEmitter=this._register(new b["b"]),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?D["b"]:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(U.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{if(t===this.value)return;this._value=t;const e=this.ui.list.filter(this.filterValue(this.ui.inputBox.value));e&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(t)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus(U.Next),this.canSelectMany&&this.ui.list.domFocus(),s["c"].stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(U.Previous):this.ui.list.focus(U.Last),this.canSelectMany&&this.ui.list.domFocus(),s["c"].stop(t,!0);break;case 12:this.ui.list.focus(U.NextPage),this.canSelectMany&&this.ui.list.domFocus(),s["c"].stop(t,!0);break;case 11:this.ui.list.focus(U.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),s["c"].stop(t,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:!t.ctrlKey&&!t.metaKey||t.shiftKey||t.altKey||(this.ui.list.focus(U.First),s["c"].stop(t,!0));break;case 13:!t.ctrlKey&&!t.metaKey||t.shiftKey||t.altKey||(this.ui.list.focus(U.Last),s["c"].stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Object(u["g"])(t,this._activeItems,(t,e)=>t===e)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:e})=>{this.canSelectMany?t.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&Object(u["g"])(t,this._selectedItems,(t,e)=>t===e)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(e instanceof MouseEvent&&1===e.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&Object(u["g"])(t,this._selectedItems,(t,e)=>t===e)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let e=!1;this.onWillAcceptEmitter.fire({veto:()=>e=!0}),e||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return s["i"](this.ui.container,s["d"].KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const e=new n["a"](t),i=e.keyCode,s=this._quickNavigate.keybindings,o=s.some(t=>{const[s,n]=t.getParts();return!n&&(s.shiftKey&&4===i?!(e.ctrlKey||e.altKey||e.metaKey):!(!s.altKey||6!==i)||(!(!s.ctrlKey||5!==i)||!(!s.metaKey||57!==i)))});o&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,e=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",e&&!this.description);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!e,progressBar:!e,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const s=this.ariaLabel||this.placeholder||J.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==s&&(this.ui.inputBox.ariaLabel=s),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case D["a"].NONE:this._itemActivation=D["a"].FIRST;break;case D["a"].SECOND:this.ui.list.focus(U.Second),this._itemActivation=D["a"].FIRST;break;case D["a"].LAST:this.ui.list.focus(U.Last),this._itemActivation=D["a"].FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(U.First)),this.keepScrollPosition&&(this.scrollTop=t)}}J.DEFAULT_ARIA_LABEL=Object(B["a"])("quickInputBox.ariaLabel","Type to narrow down results.");class X extends m["a"]{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new b["b"]),this.onDidCustomEmitter=this._register(new b["b"]),this.onDidTriggerButtonEmitter=this._register(new b["b"]),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new b["b"]),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new b["b"]),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register(s["i"](window,s["d"].KEY_DOWN,t,!0)),this._register(s["i"](window,s["d"].KEY_UP,t,!0)),this._register(s["i"](window,s["d"].MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=s["q"](this.parentElement,G(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const e=s["w"](t),i=s["q"](t,G(".quick-input-titlebar")),l=this._register(new o["a"](i));l.domNode.classList.add("quick-input-left-action-bar");const r=s["q"](i,G(".quick-input-title")),u=this._register(new o["a"](i));u.domNode.classList.add("quick-input-right-action-bar");const d=s["q"](t,G(".quick-input-description")),p=s["q"](t,G(".quick-input-header")),g=s["q"](p,G("input.quick-input-check-all"));g.type="checkbox",this._register(s["o"](g,s["d"].CHANGE,t=>{const e=g.checked;O.setAllVisibleChecked(e)})),this._register(s["i"](g,s["d"].CLICK,t=>{(t.x||t.y)&&k.setFocus()}));const b=s["q"](p,G(".quick-input-description")),m=s["q"](p,G(".quick-input-and-message")),y=s["q"](m,G(".quick-input-filter")),k=this._register(new w(y));k.setAttribute("aria-describedby",this.idPrefix+"message");const v=s["q"](y,G(".quick-input-visible-count"));v.setAttribute("aria-live","polite"),v.setAttribute("aria-atomic","true");const f=new a["a"](v,{countFormat:Object(B["a"])({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),C=s["q"](y,G(".quick-input-count"));C.setAttribute("aria-live","polite");const _=new a["a"](C,{countFormat:Object(B["a"])({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),x=s["q"](p,G(".quick-input-action")),E=new h["a"](x);E.label=Object(B["a"])("ok","OK"),this._register(E.onDidClick(t=>{this.onDidAcceptEmitter.fire()}));const I=s["q"](p,G(".quick-input-action")),L=new h["a"](I);L.label=Object(B["a"])("custom","Custom"),this._register(L.onDidClick(t=>{this.onDidCustomEmitter.fire()}));const S=s["q"](m,G(`#${this.idPrefix}message.quick-input-message`)),O=this._register(new V(t,this.idPrefix+"list",this.options));this._register(O.onChangedAllVisibleChecked(t=>{g.checked=t})),this._register(O.onChangedVisibleCount(t=>{f.setCount(t)})),this._register(O.onChangedCheckedCount(t=>{_.setCount(t)})),this._register(O.onLeave(()=>{setTimeout(()=>{k.setFocus(),this.controller instanceof J&&this.controller.canSelectMany&&O.clearFocus()},0)})),this._register(O.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const A=new c["a"](t);A.getContainer().classList.add("quick-input-progress");const F=s["Y"](t);return this._register(F),this._register(s["i"](t,s["d"].FOCUS,t=>{this.previousFocusElement=t.relatedTarget instanceof HTMLElement?t.relatedTarget:void 0},!0)),this._register(F.onDidBlur(()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(D["c"].Blur),this.previousFocusElement=void 0})),this._register(s["i"](t,s["d"].FOCUS,t=>{k.setFocus()})),this._register(s["i"](t,s["d"].KEY_DOWN,e=>{const i=new n["a"](e);switch(i.keyCode){case 3:s["c"].stop(e,!0),this.onDidAcceptEmitter.fire();break;case 9:s["c"].stop(e,!0),this.hide(D["c"].Gesture);break;case 2:if(!i.altKey&&!i.ctrlKey&&!i.metaKey){const n=[".action-label.codicon"];t.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list");const o=t.querySelectorAll(n.join(", "));i.shiftKey&&i.target===o[0]?(s["c"].stop(e,!0),o[o.length-1].focus()):i.shiftKey||i.target!==o[o.length-1]||(s["c"].stop(e,!0),o[0].focus())}break}})),this.ui={container:t,styleSheet:e,leftActionBar:l,titleBar:i,title:r,description1:d,description2:b,rightActionBar:u,checkAll:g,filterContainer:y,inputBox:k,visibleCountContainer:v,visibleCount:f,countContainer:C,count:_,okContainer:x,ok:E,message:S,customButtonContainer:I,customButton:L,list:O,progressBar:A,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:t=>this.show(t),hide:()=>this.hide(),setVisibilities:t=>this.setVisibilities(t),setComboboxAccessibility:t=>this.setComboboxAccessibility(t),setEnabled:t=>this.setEnabled(t),setContextKey:t=>this.options.setContextKey(t)},this.updateStyles(),this.ui}pick(t,e={},i=p["a"].None){return new Promise((s,n)=>{let o=t=>{o=s,e.onKeyMods&&e.onKeyMods(h.keyMods),s(t)};if(i.isCancellationRequested)return void o(void 0);const h=this.createQuickPick();let a;const l=[h,h.onDidAccept(()=>{if(h.canSelectMany)o(h.selectedItems.slice()),h.hide();else{const t=h.activeItems[0];t&&(o(t),h.hide())}}),h.onDidChangeActive(t=>{const i=t[0];i&&e.onDidFocus&&e.onDidFocus(i)}),h.onDidChangeSelection(t=>{if(!h.canSelectMany){const e=t[0];e&&(o(e),h.hide())}}),h.onDidTriggerItemButton(t=>e.onDidTriggerItemButton&&e.onDidTriggerItemButton(Object.assign(Object.assign({},t),{removeItem:()=>{const e=h.items.indexOf(t.item);if(-1!==e){const t=h.items.slice(),i=t.splice(e,1),s=h.activeItems.filter(t=>t!==i[0]),n=h.keepScrollPosition;h.keepScrollPosition=!0,h.items=t,s&&(h.activeItems=s),h.keepScrollPosition=n}}}))),h.onDidChangeValue(t=>{!a||t||1===h.activeItems.length&&h.activeItems[0]===a||(h.activeItems=[a])}),i.onCancellationRequested(()=>{h.hide()}),h.onDidHide(()=>{Object(m["f"])(l),o(void 0)})];h.title=e.title,h.canSelectMany=!!e.canPickMany,h.placeholder=e.placeHolder,h.ignoreFocusOut=!!e.ignoreFocusLost,h.matchOnDescription=!!e.matchOnDescription,h.matchOnDetail=!!e.matchOnDetail,h.matchOnLabel=void 0===e.matchOnLabel||e.matchOnLabel,h.autoFocusOnList=void 0===e.autoFocusOnList||e.autoFocusOnList,h.quickNavigate=e.quickNavigate,h.contextKey=e.contextKey,h.busy=!0,Promise.all([t,e.activeItem]).then(([t,e])=>{a=e,h.busy=!1,h.items=t,h.canSelectMany&&(h.selectedItems=t.filter(t=>"separator"!==t.type&&t.picked)),a&&(h.activeItems=[a])}),h.show(),Promise.resolve(t).then(void 0,t=>{n(t),h.hide()})})}createQuickPick(){const t=this.getUI();return new J(t)}show(t){const e=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=t,i&&i.didHide(),this.setEnabled(!0),e.leftActionBar.clear(),e.title.textContent="",e.description1.textContent="",e.description2.textContent="",e.rightActionBar.clear(),e.checkAll.checked=!1,e.inputBox.placeholder="",e.inputBox.password=!1,e.inputBox.showDecoration(k["a"].Ignore),e.visibleCount.setCount(0),e.count.setCount(0),s["R"](e.message),e.progressBar.stop(),e.list.setElements([]),e.list.matchOnDescription=!1,e.list.matchOnDetail=!1,e.list.matchOnLabel=!0,e.list.sortByLabel=!0,e.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),e.inputBox.ariaLabel="";const n=this.options.backKeybindingLabel();Y.tooltip=n?Object(B["a"])("quickInput.backWithKeybinding","Back ({0})",n):Object(B["a"])("quickInput.back","Back"),e.container.style.display="",this.updateLayout(),e.inputBox.setFocus()}setVisibilities(t){const e=this.getUI();e.title.style.display=t.title?"":"none",e.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",e.description2.style.display=!t.description||t.inputBox||t.checkAll?"none":"",e.checkAll.style.display=t.checkAll?"":"none",e.filterContainer.style.display=t.inputBox?"":"none",e.visibleCountContainer.style.display=t.visibleCount?"":"none",e.countContainer.style.display=t.count?"":"none",e.okContainer.style.display=t.ok?"":"none",e.customButtonContainer.style.display=t.customButton?"":"none",e.message.style.display=t.message?"":"none",e.progressBar.getContainer().style.display=t.progressBar?"":"none",e.list.display(!!t.list),e.container.classList[t.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const e=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(e.inputBox.setAttribute("role","combobox"),e.inputBox.setAttribute("aria-haspopup","true"),e.inputBox.setAttribute("aria-autocomplete","list"),e.inputBox.setAttribute("aria-activedescendant",e.list.getActiveDescendant()||"")):(e.inputBox.removeAttribute("role"),e.inputBox.removeAttribute("aria-haspopup"),e.inputBox.removeAttribute("aria-autocomplete"),e.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const e of this.getUI().leftActionBar.viewItems)e.getAction().enabled=t;for(const e of this.getUI().rightActionBar.viewItems)e.getAction().enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var e;const i=this.controller;if(i){const s=!(null===(e=this.ui)||void 0===e?void 0:e.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",s||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),i.didHide(t)}}layout(t,e){this.dimension=t,this.titleBarOffset=e,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=this.titleBarOffset+"px";const t=this.ui.container.style,e=Math.min(.62*this.dimension.width,X.MAX_WIDTH);t.width=e+"px",t.marginLeft="-"+e/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:e,quickInputForeground:i,contrastBorder:s,widgetShadow:n}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=e?e.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=s?"1px solid "+s:"",this.ui.container.style.boxShadow=n?"0 0 8px 2px "+n:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const o=[];this.styles.list.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(o.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&o.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&o.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&o.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&o.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&o.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),o.push("}"));const h=o.join("\n");h!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=h)}}}X.MAX_WIDTH=600}}]);