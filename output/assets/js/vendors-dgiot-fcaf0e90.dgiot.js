/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  Time: 2022-01-13 09:57:28
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors-dgiot-fcaf0e90"],{"0ac4":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("450e"),o=i("23bc");class n extends o["a"]{constructor(e,t,i,s,o,n){super(e,t,i,s,o,n)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:Object(s["e"])(i.label)||i.id});return t}}},1447:function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return g}));class s{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e,t=this.pos,i=0,o=this.value.charCodeAt(t);if(e=s._table[o],"number"===typeof e)return this.pos+=1,{type:e,pos:t,len:1};if(s.isDigitCharacter(o)){e=8;do{i+=1,o=this.value.charCodeAt(t+i)}while(s.isDigitCharacter(o));return this.pos+=i,{type:e,pos:t,len:i}}if(s.isVariableCharacter(o)){e=9;do{o=this.value.charCodeAt(t+ ++i)}while(s.isVariableCharacter(o)||s.isDigitCharacter(o));return this.pos+=i,{type:e,pos:t,len:i}}e=10;do{i+=1,o=this.value.charCodeAt(t+i)}while(!isNaN(o)&&"undefined"===typeof s._table[o]&&!s.isDigitCharacter(o)&&!s.isVariableCharacter(o));return this.pos+=i,{type:e,pos:t,len:i}}}s._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class o{constructor(){this._children=[]}appendChild(e){return e instanceof n&&this._children[this._children.length-1]instanceof n?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,s=i.children.indexOf(e),o=i.children.slice(0);o.splice(s,1,...t),i._children=o,function e(t,i){for(const s of t)s.parent=i,e(s.children,s)}(t,i)}get children(){return this._children}get snippet(){let e=this;while(1){if(!e)return;if(e instanceof p)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class n extends o{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new n(this.value)}}class r extends o{}class a extends r{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof c?this._children[0]:void 0}clone(){let e=new a(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(e=>e.clone()),e}}class c extends o{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof n&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new c;return this.options.forEach(e.appendChild,e),e}}class l extends o{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,s=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some(e=>e instanceof d&&Boolean(e.elseValue))&&(s=this._replace([])),s}_replace(e){let t="";for(const i of this._children)if(i instanceof d){let s=e[i.index]||"";s=i.resolve(s),t+=s}else t+=i.toString();return t}toString(){return""}clone(){let e=new l;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(e=>e.clone()),e}}class d extends o{constructor(e,t,i,s){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=s}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"===typeof this.ifValue?this.ifValue:Boolean(e)||"string"!==typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join(""):e}clone(){let e=new d(this.index,this.shorthandName,this.ifValue,this.elseValue);return e}}class h extends r{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new n(t)],!0)}clone(){const e=new h(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(e=>e.clone()),e}}function u(e,t){const i=[...e];while(i.length>0){const e=i.shift(),s=t(e);if(!s)break;i.unshift(...e.children)}}class p extends o{get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk((function(i){return i instanceof a&&(t.push(i),e=!e||e.index<i.index?i:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk(s=>s===e?(i=!0,!1):(t+=s.len(),!0)),i?t:-1}fullLen(e){let t=0;return u([e],e=>(t+=e.len(),!0)),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;while(i)i instanceof a&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof h&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new p;return this._children=this.children.map(e=>e.clone()),e}walk(e){u(this.children,e)}}class g{constructor(){this._scanner=new s,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){this._scanner.text(e),this._token=this._scanner.next();const s=new p;while(this._parse(s));const o=new Map,n=[];let r=0;s.walk(e=>(e instanceof a&&(r+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):n.push(e)),!0));for(const c of n){const e=o.get(c.index);if(e){const t=new a(c.index);t.transform=c.transform;for(const i of e)t.appendChild(i.clone());s.replace(c,[t])}}return i||(i=r>0&&t),!o.has(0)&&i&&s.appendChild(new a(0)),s}_accept(e,t){if(void 0===e||this._token.type===e){let e=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),e}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;while(this._token.type!==e){if(14===this._token.type)return!1;if(5===this._token.type){const e=this._scanner.next();if(0!==e.type&&4!==e.type&&5!==e.type)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new n(t)),!0)}_parseTabstopOrVariableName(e){let t;const i=this._token,s=this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0));return s?(e.appendChild(/^\d+$/.test(t)?new a(Number(t)):new h(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token,s=this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0));if(!s)return this._backTo(i);const o=new a(Number(t));if(this._accept(1))while(1){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new n("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else{if(!(o.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i);{const t=new c;while(1){if(this._parseChoiceElement(t)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(t),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}}}_parseChoiceElement(e){const t=this._token,i=[];while(1){if(2===this._token.type||7===this._token.type)break;let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;i.push(e)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new n(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token,s=this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0));if(!s)return this._backTo(i);const o=new h(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i);while(1){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new n("${"+t+":")),o.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new l,i="",s="";while(1){if(this._accept(6))break;let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,i+=e;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}while(1){if(this._accept(6))break;let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new n(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}while(1){if(this._accept(4))break;if(14===this._token.type)return!1;s+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,s)}catch(o){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let s=this._accept(8,!0);if(!s)return this._backTo(t),!1;if(!i)return e.appendChild(new d(Number(s))),!0;if(this._accept(4))return e.appendChild(new d(Number(s))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){let i=this._accept(9,!0);return i&&this._accept(4)?(e.appendChild(new d(Number(s),i)),!0):(this._backTo(t),!1)}if(this._accept(11)){let t=this._until(4);if(t)return e.appendChild(new d(Number(s),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return e.appendChild(new d(Number(s),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let i=this._until(4);if(i)return e.appendChild(new d(Number(s),void 0,t,i)),!0}}else{let t=this._until(4);if(t)return e.appendChild(new d(Number(s),void 0,void 0,t)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new n(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},"15f3":function(e,t,i){},"2ce9":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("d208"),o=i("3d8c"),n=i("f295"),r=i("92db");class a{constructor(){let e;this._onDidWillResize=new n["b"],this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new n["b"],this.onDidResize=this._onDidResize.event,this._sashListener=new r["b"],this._size=new s["b"](0,0),this._minSize=new s["b"](0,0),this._maxSize=new s["b"](Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new o["b"](this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new o["b"](this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new o["b"](this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:o["a"].North}),this._southSash=new o["b"](this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:o["a"].South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,i=0;this._sashListener.add(n["c"].any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)})),this._sashListener.add(n["c"].any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==e&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{e&&(i=s.currentX-s.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{e&&(i=-(s.currentX-s.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{e&&(t=-(s.currentY-s.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{e&&(t=s.currentY-s.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(n["c"].any(this._eastSash.onDidReset,this._westSash.onDidReset)(e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(n["c"].any(this._northSash.onDidReset,this._southSash.onDidReset)(e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,s){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=s?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:o}=this._minSize,{height:n,width:r}=this._maxSize;e=Math.max(i,Math.min(n,e)),t=Math.max(o,Math.min(r,t));const a=new s["b"](t,e);s["b"].equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}},"2d6d":function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var s=i("4163"),o=i("47a8"),n=i("b8a2"),r=i("92db"),a=i("1537"),c=i("d8b0"),l=i("d778"),d=i("ca7e"),h=i("f1a2"),u=i("c602"),p=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function r(e){try{c(s.next(e))}catch(t){n(t)}}function a(e){try{c(s["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):o(e.value).then(r,a)}c((s=s.apply(e,t||[])).next())}))};class g extends h["a"]{constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),r["a"].None}provideWithTextEditor(e,t,i){const s=e.editor,o=this.getModel(s);return o?l["m"].has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):r["a"].None}doProvideWithoutEditorSymbols(e,t,i,s){const o=new r["b"];return this.provideLabelPick(i,Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{p(this,void 0,void 0,(function*(){const n=yield this.waitForLanguageSymbolRegistry(t,o);n&&!s.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(e,t,i,s))}))})(),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return p(this,void 0,void 0,(function*(){if(l["m"].has(e))return!0;let i;const s=new Promise(e=>i=e),o=t.add(l["m"].onDidChange(()=>{l["m"].has(e)&&(o.dispose(),i(!0))}));return t.add(Object(r["i"])(()=>i(!1))),s}))}doProvideWithEditorSymbols(e,t,i,o){const a=e.editor,c=new r["b"];c.add(i.onDidAccept(t=>{const[s]=i.selectedItems;s&&s.range&&(this.gotoLocation(e,{range:s.range.selection,keyMods:i.keyMods,preserveFocus:t.inBackground}),t.inBackground||i.hide())})),c.add(i.onDidTriggerItemButton(({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const l=this.getDocumentSymbols(t,o);let d=void 0;const h=()=>p(this,void 0,void 0,(function*(){null===d||void 0===d||d.dispose(!0),i.busy=!1,d=new s["b"](o),i.busy=!0;try{const e=Object(n["b"])(i.value.substr(g.PREFIX.length).trim()),t=yield this.doGetSymbolPicks(l,e,void 0,d.token);if(o.isCancellationRequested)return;t.length>0?i.items=t:e.original.length>0?this.provideLabelPick(i,Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(i.busy=!1)}}));c.add(i.onDidChangeValue(()=>h())),h();let m=!0;return c.add(i.onDidChangeActive(()=>{const[e]=i.activeItems;if(e&&e.range){if(m)return void(m=!1);a.revealRangeInCenter(e.range.selection,0),this.addDecorations(a,e.range.decoration)}})),c}doGetSymbolPicks(e,t,i,s){return p(this,void 0,void 0,(function*(){const r=yield e;if(s.isCancellationRequested)return[];const d=0===t.original.indexOf(g.SCOPE_PREFIX),h=d?1:0;let p,_;t.values&&t.values.length>1?(p=Object(n["a"])(t.values[0]),_=Object(n["a"])(t.values.slice(1))):p=t;const f=[];for(let e=0;e<r.length;e++){const s=r[e],d=Object(a["U"])(s.name),g=`$(symbol-${l["D"].toString(s.kind)||"property"}) ${d}`,m=g.length-d.length;let b=s.containerName;(null===i||void 0===i?void 0:i.extraContainerLabel)&&(b=b?`${i.extraContainerLabel} • ${b}`:i.extraContainerLabel);let v=void 0,S=void 0,C=void 0,w=void 0;if(t.original.length>h){let e=!1;if(p!==t&&([v,S]=Object(n["c"])(g,Object.assign(Object.assign({},t),{values:void 0}),h,m),"number"===typeof v&&(e=!0)),"number"!==typeof v&&([v,S]=Object(n["c"])(g,p,h,m),"number"!==typeof v))continue;if(!e&&_){if(b&&_.original.length>0&&([C,w]=Object(n["c"])(b,_)),"number"!==typeof C)continue;"number"===typeof v&&(v+=C)}}const y=s.tags&&s.tags.indexOf(1)>=0;f.push({index:e,kind:s.kind,score:v,label:g,ariaLabel:d,description:b,highlights:y?void 0:{label:S,description:w},range:{selection:c["a"].collapseToStart(s.selectionRange),decoration:s.range},strikethrough:y,buttons:(()=>{var e,t;const i=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=this.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(i)return[{iconClass:"right"===i?o["b"].splitHorizontal.classNames:o["b"].splitVertical.classNames,tooltip:"right"===i?Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","openToSide","Open to the Side"):Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","openToBottom","Open to the Bottom")}]})()})}const v=f.sort((e,t)=>d?this.compareByKindAndScore(e,t):this.compareByScore(e,t));let S=[];if(d){let e=void 0,t=void 0,i=0;function C(){t&&"number"===typeof e&&i>0&&(t.label=Object(a["v"])(b[e]||m,i))}for(const s of v)e!==s.kind?(C(),e=s.kind,i=1,t={type:"separator"},S.push(t)):i++,S.push(s);C()}else v.length>0&&(S=[{label:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","symbols","symbols ({0})",f.length),type:"separator"},...v]);return S}))}compareByScore(e,t){if("number"!==typeof e.score&&"number"===typeof t.score)return 1;if("number"===typeof e.score&&"number"!==typeof t.score)return-1;if("number"===typeof e.score&&"number"===typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=b[e.kind]||m,s=b[t.kind]||m,o=i.localeCompare(s);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return p(this,void 0,void 0,(function*(){const i=yield d["a"].create(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}))}}g.PREFIX="@",g.SCOPE_PREFIX=":",g.PREFIX_BY_CATEGORY=`${g.PREFIX}${g.SCOPE_PREFIX}`;const m=Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","property","properties ({0})"),b={[5]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","method","methods ({0})"),[11]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","function","functions ({0})"),[8]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","_constructor","constructors ({0})"),[12]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","variable","variables ({0})"),[4]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","class","classes ({0})"),[22]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","struct","structs ({0})"),[23]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","event","events ({0})"),[24]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","operator","operators ({0})"),[10]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","interface","interfaces ({0})"),[2]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","namespace","namespaces ({0})"),[3]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","package","packages ({0})"),[25]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","typeParameter","type parameters ({0})"),[1]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","modules","modules ({0})"),[6]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","property","properties ({0})"),[9]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","enum","enumerations ({0})"),[21]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","enumMember","enumeration members ({0})"),[14]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","string","strings ({0})"),[0]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","file","files ({0})"),[17]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","array","arrays ({0})"),[15]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","number","numbers ({0})"),[16]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","boolean","booleans ({0})"),[18]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","object","objects ({0})"),[19]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","key","keys ({0})"),[7]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","field","fields ({0})"),[13]:Object(u["localize"])("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","constant","constants ({0})")}},"5dad":function(e,t,i){"use strict";i.r(t),i.d(t,"TriggerParameterHintsAction",(function(){return K}));var s=i("92db"),o=i("ae58"),n=i("7c05"),r=i("d778"),a=i("4163"),c=i("f123"),l=i("4d73"),d=i("c189"),h=i("e0ab"),u=i("d00e"),p=i("d5b7"),g=i("6ad4"),m=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function r(e){try{c(s.next(e))}catch(t){n(t)}}function a(e){try{c(s["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):o(e.value).then(r,a)}c((s=s.apply(e,t||[])).next())}))};const b={Visible:new g["c"]("parameterHintsVisible",!1),MultipleSignatures:new g["c"]("parameterHintsMultipleSignatures",!1)};function _(e,t,i,s){return m(this,void 0,void 0,(function*(){const o=r["B"].ordered(e);for(const r of o)try{const o=yield r.provideSignatureHelp(e,t,s,i);if(o)return o}catch(n){Object(c["g"])(n)}}))}p["a"].registerCommand("_executeSignatureHelpProvider",(e,...t)=>m(void 0,void 0,void 0,(function*(){const[i,s,o]=t;Object(l["c"])(d["a"].isUri(i)),Object(l["c"])(h["a"].isIPosition(s)),Object(l["c"])("string"===typeof o||!o);const n=yield e.get(u["a"]).createModelReference(i);try{const e=yield _(n.object.textEditorModel,h["a"].lift(s),{triggerKind:r["C"].Invoke,isRetrigger:!1,triggerCharacter:o},a["a"].None);if(!e)return;return setTimeout(()=>e.dispose(),0),e.value}finally{n.dispose()}})));var f,v=i("c602"),S=i("bf32"),C=i("d208"),w=i("4d3c"),y=i("adab"),k=i("47a8"),x=i("f295"),O=i("1537"),N=(i("8599"),i("05a3")),M=i("12fe"),T=i("4b4a"),R=i("37e9"),L=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function r(e){try{c(s.next(e))}catch(t){n(t)}}function a(e){try{c(s["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):o(e.value).then(r,a)}c((s=s.apply(e,t||[])).next())}))};(function(e){e.Default={type:0};class t{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}}e.Pending=t;class i{constructor(e){this.hints=e,this.type=1}}e.Active=i})(f||(f={}));class E extends s["a"]{constructor(e,t=E.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new x["b"]),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=f.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new s["d"]),this.triggerChars=new R["b"],this.retriggerChars=new R["b"],this.triggerId=0,this.editor=e,this.throttledDelayer=new T["a"](t),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(e=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(e=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(e=>this.onCursorChange(e))),this._register(this.editor.onDidChangeModelContent(e=>this.onModelContentChange())),this._register(r["B"].onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(e=>this.onDidType(e))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=f.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!r["B"].has(i))return;const s=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(s),t).catch(c["f"])}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,s=this.editor.getOption(75).cycle;!(e<2||i)||s?this.updateActiveSignature(i&&s?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,s=this.editor.getOption(75).cycle;!(e<2||i)||s?this.updateActiveSignature(i&&s?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new f.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return L(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const s=this._pendingTriggers.reduce(I);this._pendingTriggers=[];const o={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const n=this.editor.getModel(),r=this.editor.getPosition();this.state=new f.Pending(Object(T["h"])(e=>_(n,r,o,e)),i);try{const t=yield this.state.request;return e!==this.triggerId?(null===t||void 0===t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new f.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null===t||void 0===t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(a){return e===this.triggerId&&(this.state=f.Default),Object(c["f"])(a),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new R["b"],this.retriggerChars=new R["b"];const e=this.editor.getModel();if(e)for(const t of r["B"].ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:r["C"].TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:r["C"].ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:r["C"].ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function I(e,t){switch(t.triggerKind){case r["C"].Invoke:return t;case r["C"].ContentChange:return e;case r["C"].TriggerCharacter:default:return t}}E.DEFAULT_DELAY=120;var A=i("0aba"),P=i("f7fb"),D=i("6276"),j=i("040a"),z=i("d1e2"),V=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},F=function(e,t){return function(i,s){t(i,s,e)}};const H=C["a"],W=Object(D["b"])("parameter-hints-next",k["b"].chevronDown,v["localize"]("vs/editor/contrib/parameterHints/parameterHintsWidget","parameterHintsNextIcon","Icon for show next parameter hint.")),B=Object(D["b"])("parameter-hints-previous",k["b"].chevronUp,v["localize"]("vs/editor/contrib/parameterHints/parameterHintsWidget","parameterHintsPreviousIcon","Icon for show previous parameter hint."));let q=class e extends s["a"]{constructor(e,t,i,o){super(),this.editor=e,this.renderDisposeables=this._register(new s["b"]),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new N["a"]({editor:e},o,i)),this.model=this._register(new E(e)),this.keyVisible=b.Visible.bindTo(t),this.keyMultipleSignatures=b.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(e=>{e?(this.show(),this.render(e)):this.hide()}))}createParameterHintDOMNodes(){const e=H(".editor-widget.parameter-hints-widget"),t=C["q"](e,H(".phwrapper"));t.tabIndex=-1;const i=C["q"](t,H(".controls")),s=C["q"](i,H(".button"+z["d"].asCSSSelector(B))),o=C["q"](i,H(".overloads")),n=C["q"](i,H(".button"+z["d"].asCSSSelector(W)));this._register(C["i"](s,"click",e=>{C["c"].stop(e),this.previous()})),this._register(C["i"](n,"click",e=>{C["c"].stop(e),this.next()}));const r=H(".body"),a=new y["a"](r,{});this._register(a),t.appendChild(a.getDomNode());const c=C["q"](r,H(".signature")),l=C["q"](r,H(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:o,docs:l,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(e=>{this.visible&&this.editor.layoutContentWidget(this)}));const d=()=>{if(!this.domNodes)return;const e=this.editor.getOption(43);this.domNodes.element.style.fontSize=e.fontSize+"px",this.domNodes.element.style.lineHeight=""+e.lineHeight/e.fontSize};d(),this._register(x["c"].chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(e=>e.hasChanged(43)).on(d,null)),this._register(this.editor.onDidLayoutChange(e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const s=e.signatures[e.activeSignature];if(!s)return;const o=C["q"](this.domNodes.signature,H(".code")),n=this.editor.getOption(43);o.style.fontSize=n.fontSize+"px",o.style.fontFamily=n.fontFamily;const r=s.parameters.length>0,a=null!==(t=s.activeParameter)&&void 0!==t?t:e.activeParameter;if(r)this.renderParameters(o,s,a);else{const e=C["q"](o,H("span"));e.textContent=s.label}const c=s.parameters[a];if(null===c||void 0===c?void 0:c.documentation){const e=H("span.documentation");if("string"===typeof c.documentation)e.textContent=c.documentation;else{const t=this.renderMarkdownDocs(c.documentation);e.appendChild(t.element)}C["q"](this.domNodes.docs,H("p",{},e))}if(void 0===s.documentation);else if("string"===typeof s.documentation)C["q"](this.domNodes.docs,H("p",{},s.documentation));else{const e=this.renderMarkdownDocs(s.documentation);C["q"](this.domNodes.docs,e.element)}const l=this.hasDocs(s,c);if(this.domNodes.signature.classList.toggle("has-docs",l),this.domNodes.docs.classList.toggle("empty",!l),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let e="";const t=s.parameters[a];e=Array.isArray(t.label)?s.label.substring(t.label[0],t.label[1]):t.label,t.documentation&&(e+="string"===typeof t.documentation?", "+t.documentation:", "+t.documentation.value),s.documentation&&(e+="string"===typeof s.documentation?", "+s.documentation:", "+s.documentation.value),this.announcedLabel!==e&&(w["a"](v["localize"]("vs/editor/contrib/parameterHints/parameterHintsWidget","hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"===typeof t.documentation&&Object(l["a"])(t.documentation).length>0)||(!!(t&&"object"===typeof t.documentation&&Object(l["a"])(t.documentation).value.length>0)||(!!(e.documentation&&"string"===typeof e.documentation&&Object(l["a"])(e.documentation).length>0)||!!(e.documentation&&"object"===typeof e.documentation&&Object(l["a"])(e.documentation.value).length>0)))}renderParameters(e,t,i){const[s,o]=this.getParameterLabelOffsets(t,i),n=document.createElement("span");n.textContent=t.label.substring(0,s);const r=document.createElement("span");r.textContent=t.label.substring(s,o),r.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(o),C["q"](e,n,r,a)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const t=new RegExp(`(\\W|^)${Object(O["t"])(i.label)}(?=\\W|$)`,"g");t.test(e.label);const s=t.lastIndex-i.label.length;return s>=0?[s,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=Math.max(this.editor.getLayoutInfo().height/4,250),t=e+"px";this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};q.ID="editor.widget.parameterHintsWidget",q=V([F(1,g["b"]),F(2,A["a"]),F(3,M["a"])],q);const G=Object(P["Cc"])("editorHoverWidget.highlightForeground",{dark:P["Ob"],light:P["Ob"],hc:P["Ob"]},v["localize"]("vs/editor/contrib/parameterHints/parameterHintsWidget","editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));Object(z["f"])((e,t)=>{const i=e.getColor(P["F"]);if(i){const s=e.type===j["a"].HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${s}px solid ${i}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${i.transparent(.5)}; }`)}const s=e.getColor(P["E"]);s&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${s}; }`);const o=e.getColor(P["Pc"]);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const n=e.getColor(P["Oc"]);n&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${n}; }`);const r=e.getColor(P["G"]);r&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const a=e.getColor(P["Nc"]);a&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);const c=e.getColor(G);c&&t.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${c}}`)});var $=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},U=function(e,t){return function(i,s){t(i,s,e)}};let Q=class e extends s["a"]{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(q,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};Q.ID="editor.controller.parameterHints",Q=$([U(1,S["a"])],Q);class K extends o["b"]{constructor(){super({id:"editor.action.triggerParameterHints",label:v["localize"]("vs/editor/contrib/parameterHints/parameterHints","parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:n["a"].hasSignatureHelpProvider,kbOpts:{kbExpr:n["a"].editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=Q.get(t);i&&i.trigger({triggerKind:r["C"].Invoke})}}Object(o["l"])(Q.ID,Q),Object(o["j"])(K);const Y=175,X=o["c"].bindToContribution(Q.get);Object(o["k"])(new X({id:"closeParameterHints",precondition:b.Visible,handler:e=>e.cancel(),kbOpts:{weight:Y,kbExpr:n["a"].focus,primary:9,secondary:[1033]}})),Object(o["k"])(new X({id:"showPrevParameterHint",precondition:g["a"].and(b.Visible,b.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:Y,kbExpr:n["a"].focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(o["k"])(new X({id:"showNextParameterHint",precondition:g["a"].and(b.Visible,b.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:Y,kbExpr:n["a"].focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},"5e3e":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("bbbb"),o=i("e0ab"),n=i("d8b0"),r=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function r(e){try{c(s.next(e))}catch(t){n(t)}}function a(e){try{c(s["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):o(e.value).then(r,a)}c((s=s.apply(e,t||[])).next())}))};class a{provideSelectionRanges(e,t){return r(this,void 0,void 0,(function*(){const i=[];for(const s of t){const t=[];i.push(t);const o=new Map;yield new Promise(t=>a._bracketsRightYield(t,0,e,s,o)),yield new Promise(i=>a._bracketsLeftYield(i,0,e,s,o,t))}return i}))}static _bracketsRightYield(e,t,i,o,n){const r=new Map,c=Date.now();while(1){if(t>=a._maxRounds){e();break}if(!o){e();break}let l=i.findNextBracket(o);if(!l){e();break}let d=Date.now()-c;if(d>a._maxDuration){setTimeout(()=>a._bracketsRightYield(e,t+1,i,o,n));break}const h=l.close[0];if(l.isOpen){let e=r.has(h)?r.get(h):0;r.set(h,e+1)}else{let e=r.has(h)?r.get(h):0;if(e-=1,r.set(h,Math.max(0,e)),e<0){let e=n.get(h);e||(e=new s["a"],n.set(h,e)),e.push(l.range)}}o=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,s,o,r){const c=new Map,l=Date.now();while(1){if(t>=a._maxRounds&&0===o.size){e();break}if(!s){e();break}let d=i.findPrevBracket(s);if(!d){e();break}let h=Date.now()-l;if(h>a._maxDuration){setTimeout(()=>a._bracketsLeftYield(e,t+1,i,s,o,r));break}const u=d.close[0];if(d.isOpen){let e=c.has(u)?c.get(u):0;if(e-=1,c.set(u,Math.max(0,e)),e<0){let e=o.get(u);if(e){let t=e.shift();0===e.size&&o.delete(u);const s=n["a"].fromPositions(d.range.getEndPosition(),t.getStartPosition()),c=n["a"].fromPositions(d.range.getStartPosition(),t.getEndPosition());r.push({range:s}),r.push({range:c}),a._addBracketLeading(i,c,r)}}}else{let e=c.has(u)?c.get(u):0;c.set(u,e+1)}s=d.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const s=t.startLineNumber,r=e.getLineFirstNonWhitespaceColumn(s);0!==r&&r!==t.startColumn&&(i.push({range:n["a"].fromPositions(new o["a"](s,r),t.getEndPosition())}),i.push({range:n["a"].fromPositions(new o["a"](s,1),t.getEndPosition())}));const a=s-1;if(a>0){const s=e.getLineFirstNonWhitespaceColumn(a);s===t.startColumn&&s!==e.getLineLastNonWhitespaceColumn(a)&&(i.push({range:n["a"].fromPositions(new o["a"](a,s),t.getEndPosition())}),i.push({range:n["a"].fromPositions(new o["a"](a,1),t.getEndPosition())}))}}}a._maxDuration=30,a._maxRounds=2},"637e":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("92db"),o=i("80f8"),n=i("f1a2"),r=i("c602");class a extends n["a"]{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=Object(r["localize"])("vs/editor/contrib/quickAccess/gotoLineQuickAccess","cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,s["a"].None}provideWithTextEditor(e,t,i){const n=e.editor,r=new s["b"];r.add(t.onDidAccept(i=>{const[s]=t.selectedItems;if(s){if(!this.isValidLineNumber(n,s.lineNumber))return;this.gotoLocation(e,{range:this.toRange(s.lineNumber,s.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}}));const c=()=>{const e=this.parsePosition(n,t.value.trim().substr(a.PREFIX.length)),i=this.getPickLabel(n,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(n,e.lineNumber))return void this.clearDecorations(n);const s=this.toRange(e.lineNumber,e.column);n.revealRangeInCenter(s,0),this.addDecorations(n,s)};c(),r.add(t.onDidChangeValue(()=>c()));const l=Object(o["a"])(n);if(l){const e=l.getOptions(),t=e.get(59);2===t.renderType&&(l.updateOptions({lineNumbers:"on"}),r.add(Object(s["i"])(()=>l.updateOptions({lineNumbers:"relative"}))))}return r}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),s=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:s+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?Object(r["localize"])("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):Object(r["localize"])("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabel","Go to line {0}.",t);const s=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?Object(r["localize"])("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,o):Object(r["localize"])("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(e,t){return!(!t||"number"!==typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,i){if(!i||"number"!==typeof i)return!1;const s=this.getModel(e);if(!s)return!1;const o={lineNumber:t,column:i};return s.validatePosition(o).equals(o)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}a.PREFIX=":"},7584:function(e,t,i){"use strict";i.r(t),i.d(t,"InsertCursorAbove",(function(){return w})),i.d(t,"InsertCursorBelow",(function(){return y})),i.d(t,"MultiCursorSessionResult",(function(){return N})),i.d(t,"MultiCursorSession",(function(){return M})),i.d(t,"MultiCursorSelectionController",(function(){return T})),i.d(t,"MultiCursorSelectionControllerAction",(function(){return R})),i.d(t,"AddSelectionToNextFindMatchAction",(function(){return L})),i.d(t,"AddSelectionToPreviousFindMatchAction",(function(){return E})),i.d(t,"MoveSelectionToNextFindMatchAction",(function(){return I})),i.d(t,"MoveSelectionToPreviousFindMatchAction",(function(){return A})),i.d(t,"SelectHighlightsAction",(function(){return P})),i.d(t,"CompatChangeAll",(function(){return D})),i.d(t,"SelectionHighlighter",(function(){return z}));var s=i("4d3c"),o=i("4b4a"),n=i("d3a2"),r=i("92db"),a=i("ae58"),c=i("6d98"),l=i("d8b0"),d=i("17e0"),h=i("7c05"),u=i("3a12"),p=i("2f07"),g=i("d778"),m=i("9678"),b=i("c602"),_=i("cd62"),f=i("6ad4"),v=i("f7fb"),S=i("d1e2");function C(e,t){const i=t.filter(t=>!e.find(e=>e.equals(t)));if(i.length>=1){const e=i.map(e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`).join(", "),t=1===i.length?b["localize"]("vs/editor/contrib/multicursor/multicursor","cursorAdded","Cursor added: {0}",e):b["localize"]("vs/editor/contrib/multicursor/multicursor","cursorsAdded","Cursors added: {0}",e);Object(s["c"])(t)}}class w extends a["b"]{constructor(){super({id:"editor.action.insertCursorAbove",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:h["a"].editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"3_multi",title:b["localize"]("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let s=!0;i&&!1===i.logicalLine&&(s=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const n=o.getCursorStates();o.setCursorStates(i.source,3,c["b"].addCursorUp(o,n,s)),o.revealTopMostCursor(i.source),C(n,o.getCursorStates())}}class y extends a["b"]{constructor(){super({id:"editor.action.insertCursorBelow",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:h["a"].editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"3_multi",title:b["localize"]("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let s=!0;i&&!1===i.logicalLine&&(s=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const n=o.getCursorStates();o.setCursorStates(i.source,3,c["b"].addCursorDown(o,n,s)),o.revealBottomMostCursor(i.source),C(n,o.getCursorStates())}}class k extends a["b"]{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:h["a"].editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"3_multi",title:b["localize"]("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let s=e.startLineNumber;s<e.endLineNumber;s++){let e=t.getLineMaxColumn(s);i.push(new d["a"](s,e,s,e))}e.endColumn>1&&i.push(new d["a"](e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),s=t.getSelections(),o=t._getViewModel(),n=o.getCursorStates();let r=[];s.forEach(e=>this.getCursorsForSelection(e,i,r)),r.length>0&&t.setSelections(r),C(n,o.getCursorStates())}}class x extends a["b"]{constructor(){super({id:"editor.action.addCursorsToBottom",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),s=t.getModel().getLineCount();let o=[];for(let a=i[0].startLineNumber;a<=s;a++)o.push(new d["a"](a,i[0].startColumn,a,i[0].endColumn));const n=t._getViewModel(),r=n.getCursorStates();o.length>0&&t.setSelections(o),C(r,n.getCursorStates())}}class O extends a["b"]{constructor(){super({id:"editor.action.addCursorsToTop",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections();let s=[];for(let r=i[0].startLineNumber;r>=1;r--)s.push(new d["a"](r,i[0].startColumn,r,i[0].endColumn));const o=t._getViewModel(),n=o.getCursorStates();s.length>0&&t.setSelections(s),C(n,o.getCursorStates())}}class N{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class M{constructor(e,t,i,s,o,n,r){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=s,this.wholeWord=o,this.matchCase=n,this.currentMatch=r}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new M(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let s,o,n=!1;const r=e.getSelections();1===r.length&&r[0].isEmpty()?(n=!0,s=!0,o=!0):(s=i.wholeWord,o=i.matchCase);const a=e.getSelection();let c,l=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;c=t.word,l=new d["a"](a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else c=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new M(e,t,n,c,s,o,l)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new N(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new N(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return i?new d["a"](i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new N(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new N(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return i?new d["a"](i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}class T extends r["a"]{constructor(e){super(),this._sessionDispose=this._register(new r["b"]),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(T.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=M.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(e=>{(e.matchCase||e.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new d["a"](t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const i=e.getState(),s=i.matchCase,o=V(this._editor.getModel(),t,s);if(!o){const e=this._editor.getModel();let i=[];for(let s=0,o=t.length;s<o;s++)i[s]=this._expandEmptyToWord(e,t[s]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){const e=i.searchScope;let s=[];t.forEach(t=>{e.forEach(e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&s.push(t)})}),t=s}if(t.length>0){const e=this._editor.getSelection();for(let i=0,s=t.length;i<s;i++){const s=t[i],o=s.range.intersectRanges(e);if(o){t[i]=t[0],t[0]=s;break}}this._setSelections(t.map(e=>new d["a"](e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)))}}}T.ID="editor.contrib.multiCursorController";class R extends a["b"]{run(e,t){const i=T.get(t);if(!i)return;const s=m["CommonFindController"].get(t);if(!s)return;const o=t._getViewModel();if(o){const e=o.getCursorStates();this._run(i,s),C(e,o.getCursorStates())}}}class L extends R{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h["a"].focus,primary:2082,weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"3_multi",title:b["localize"]("vs/editor/contrib/multicursor/multicursor",{key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class E extends R{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"3_multi",title:b["localize"]("vs/editor/contrib/multicursor/multicursor",{key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class I extends R{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h["a"].focus,primary:Object(n["c"])(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class A extends R{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class P extends R{constructor(){super({id:"editor.action.selectHighlights",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:h["a"].focus,primary:3114,weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"3_multi",title:b["localize"]("vs/editor/contrib/multicursor/multicursor",{key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class D extends R{constructor(){super({id:"editor.action.changeAll",label:b["localize"]("vs/editor/contrib/multicursor/multicursor","changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:f["a"].and(h["a"].writable,h["a"].editorTextFocus),kbOpts:{kbExpr:h["a"].editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class j{constructor(e,t,i,s){this.searchText=e,this.matchCase=t,this.wordSeparators=i,this.modelVersionId=s}static softEquals(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}}class z extends r["a"]{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(96),this.decorations=[],this.updateSoon=this._register(new o["e"](()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(96)})),this._register(e.onDidChangeCursorSelection(e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(e=>{this._setState(null)})),this._register(e.onDidChangeModelContent(e=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(m["CommonFindController"].get(e).getState().onFindReplaceStateChange(e=>{this._update()}))}_update(){this._setState(z._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;const i=t.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;const s=T.get(t);if(!s)return null;const o=m["CommonFindController"].get(t);if(!o)return null;let n=s.getSession(o);if(!n){const e=t.getSelections();if(e.length>1){const i=o.getState(),s=i.matchCase,n=V(t.getModel(),e,s);if(!n)return null}n=M.create(t,o)}if(!n)return null;if(n.currentMatch)return null;if(/^[ \t]+$/.test(n.searchText))return null;if(n.searchText.length>200)return null;const r=o.getState(),a=r.matchCase;if(r.isRevealed){let e=r.searchString;a||(e=e.toLowerCase());let t=n.searchText;if(a||(t=t.toLowerCase()),e===t&&n.matchCase===r.matchCase&&n.wholeWord===r.wholeWord&&!r.isRegex)return null}return new j(n.searchText,n.matchCase,n.wholeWord?t.getOption(115):null,t.getModel().getVersionId())}_setState(e){if(j.softEquals(this.state,e))return void(this.state=e);if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=g["i"].has(t)&&this.editor.getOption(71);let s=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(e=>e.range);s.sort(l["a"].compareRangesUsingStarts);let o=this.editor.getSelections();o.sort(l["a"].compareRangesUsingStarts);let n=[];for(let a=0,c=0,d=s.length,h=o.length;a<d;){const e=s[a];if(c>=h)n.push(e),a++;else{const t=l["a"].compareRangesUsingStarts(e,o[c]);t<0?(!o[c].isEmpty()&&l["a"].areIntersecting(e,o[c])||n.push(e),a++):(t>0||a++,c++)}}const r=n.map(e=>({range:e,options:i?z._SELECTION_HIGHLIGHT:z._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,r)}dispose(){this._setState(null),super.dispose()}}function V(e,t,i){const s=F(e,t[0],!i);for(let o=1,n=t.length;o<n;o++){const n=t[o];if(n.isEmpty())return!1;const r=F(e,n,!i);if(s!==r)return!1}return!0}function F(e,t,i){const s=e.getValueInRange(t);return i?s.toLowerCase():s}z.ID="editor.contrib.selectionHighlighter",z._SELECTION_HIGHLIGHT_OVERVIEW=p["b"].register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:Object(S["g"])(v["ic"]),position:u["f"].Inline},overviewRuler:{color:Object(S["g"])(v["pc"]),position:u["g"].Center}}),z._SELECTION_HIGHLIGHT=p["b"].register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Object(a["l"])(T.ID,T),Object(a["l"])(z.ID,z),Object(a["j"])(w),Object(a["j"])(y),Object(a["j"])(k),Object(a["j"])(L),Object(a["j"])(E),Object(a["j"])(I),Object(a["j"])(A),Object(a["j"])(P),Object(a["j"])(D),Object(a["j"])(x),Object(a["j"])(O)},7772:function(e,t,i){},8599:function(e,t,i){},"8ec0":function(e,t,i){"use strict";i.d(t,"a",(function(){return w})),i.d(t,"b",(function(){return y})),i.d(t,"d",(function(){return x})),i.d(t,"c",(function(){return N})),i.d(t,"p",(function(){return M})),i.d(t,"q",(function(){return T})),i.d(t,"r",(function(){return R})),i.d(t,"e",(function(){return L})),i.d(t,"j",(function(){return E})),i.d(t,"l",(function(){return I})),i.d(t,"k",(function(){return A})),i.d(t,"n",(function(){return P})),i.d(t,"o",(function(){return D})),i.d(t,"f",(function(){return j})),i.d(t,"g",(function(){return z})),i.d(t,"m",(function(){return V})),i.d(t,"h",(function(){return F})),i.d(t,"i",(function(){return H}));var s=i("d208"),o=i("dfc8"),n=i("8a8f"),r=i("47a8"),a=i("98ef"),c=i("f295"),l=i("91f4"),d=(i("7772"),i("ae58")),h=i("47f8"),u=i("22a8"),p=i("c2b7"),g=i("c602"),m=i("5b7f"),b=i("6ad4"),_=i("3f3e"),f=i("bf32"),v=i("f7fb"),S=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},C=function(e,t){return function(i,s){t(i,s,e)}};const w=Object(f["c"])("IPeekViewService");var y;Object(_["b"])(w,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());const s=()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))};this._widgets.set(e,{widget:t,listener:t.onDidClose(s)})}}),function(e){e.inPeekEditor=new b["c"]("inReferenceSearchEditor",!0,g["localize"]("vs/editor/contrib/peekView/peekView","inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),e.notInPeekEditor=e.inPeekEditor.toNegated()}(y||(y={}));let k=class{constructor(e,t){e instanceof u["a"]&&y.inPeekEditor.bindTo(t)}dispose(){}};function x(e){let t=e.get(h["a"]).getFocusedCodeEditor();return t instanceof u["a"]?t.getParentEditor():t}k.ID="editor.contrib.referenceController",k=S([C(1,b["b"])],k),Object(d["l"])(k.ID,k);const O={headerBackgroundColor:a["a"].white,primaryHeadingColor:a["a"].fromHex("#333333"),secondaryHeadingColor:a["a"].fromHex("#6c6c6cb3")};let N=class extends p["a"]{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new c["b"],this.onDidClose=this._onDidClose.event,l["f"](this.options,O,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=s["a"](".head"),this._bodyElement=s["a"](".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=s["a"](".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),s["o"](i,"click",e=>this._onTitleClick(e))),s["q"](this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=s["a"]("span.filename"),this._secondaryHeading=s["a"]("span.dirname"),this._metaHeading=s["a"]("span.meta"),s["q"](i,this._primaryHeading,this._secondaryHeading,this._metaHeading);const a=s["a"](".peekview-actions");s["q"](this._headElement,a);const c=this._getActionBarOptions();this._actionbarWidget=new o["a"](a,c),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new n["a"]("peekview.close",g["localize"]("vs/editor/contrib/peekView/peekView","label.close","Close"),r["b"].close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:m["b"].bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:s["t"](this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,s["W"](this._metaHeading)):s["K"](this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const i=Math.ceil(1.2*this.editor.getOption(58)),s=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(s,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=e+"px",this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=e+"px")}};N=S([C(2,f["a"])],N);const M=Object(v["Cc"])("peekViewTitle.background",{dark:Object(v["Rc"])(v["M"],.1),light:Object(v["Rc"])(v["M"],.1),hc:null},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewTitleBackground","Background color of the peek view title area.")),T=Object(v["Cc"])("peekViewTitleLabel.foreground",{dark:a["a"].white,light:a["a"].black,hc:a["a"].white},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewTitleForeground","Color of the peek view title.")),R=Object(v["Cc"])("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewTitleInfoForeground","Color of the peek view title info.")),L=Object(v["Cc"])("peekView.border",{dark:v["M"],light:v["M"],hc:v["h"]},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewBorder","Color of the peek view borders and arrow.")),E=Object(v["Cc"])("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:a["a"].black},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewResultsBackground","Background color of the peek view result list.")),I=Object(v["Cc"])("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:a["a"].white},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),A=Object(v["Cc"])("peekViewResult.fileForeground",{dark:a["a"].white,light:"#1E1E1E",hc:a["a"].white},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),P=Object(v["Cc"])("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),D=Object(v["Cc"])("peekViewResult.selectionForeground",{dark:a["a"].white,light:"#6C6C6C",hc:a["a"].white},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),j=Object(v["Cc"])("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:a["a"].black},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewEditorBackground","Background color of the peek view editor.")),z=Object(v["Cc"])("peekViewEditorGutter.background",{dark:j,light:j,hc:j},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),V=Object(v["Cc"])("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),F=Object(v["Cc"])("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),H=Object(v["Cc"])("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:v["b"]},g["localize"]("vs/editor/contrib/peekView/peekView","peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},"90d4":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var s=i("4d3c"),o=i("4b4a"),n=i("92db"),r=(i("c4d7"),i("ae58")),a=i("d8b0"),c=i("c602"),l=i("6ad4"),d=i("f7fb"),h=i("040a"),u=i("d1e2"),p=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},g=function(e,t){return function(i,s){t(i,s,e)}};let m=class e{constructor(t,i){this._messageWidget=new n["d"],this._messageListeners=new n["b"],this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(e.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let i;Object(s["a"])(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new _(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new o["g"](()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new a["a"](t.lineNumber-3,1,e.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(_.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(c["localize"]("vs/editor/contrib/message/messageController","editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};m.ID="editor.contrib.messageController",m.MESSAGE_VISIBLE=new l["c"]("messageVisible",!1,c["localize"]("vs/editor/contrib/message/messageController","messageVisible","Whether the editor is currently showing an inline message")),m=p([g(1,l["b"])],m);const b=r["c"].bindToContribution(m.get);Object(r["k"])(new b({id:"leaveEditorMessage",precondition:m.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class _{constructor(e,{lineNumber:t,column:i},s){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const n=document.createElement("div");n.classList.add("message"),n.textContent=s,this._domNode.appendChild(n);const r=document.createElement("div");r.classList.add("anchor","below"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}Object(r["l"])(m.ID,m),Object(u["f"])((e,t)=>{const i=e.getColor(d["ub"]);if(i){let s=e.type===h["a"].HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${s}px solid ${i}; }`)}const s=e.getColor(d["tb"]);s&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${s}; }`);const o=e.getColor(d["vb"]);o&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${o}; }`)})},9170:function(e,t,i){},"9ac5":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i("945a"),o=i("d535"),n=i("1537");class r{constructor(e,t,i,s,o,n,a){this.clipboardText=a,this._snippetCompareFn=r._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=s,this._options=o,this._refilterKind=1,this._lineContext=i,"top"===n?this._snippetCompareFn=r._compareCompletionItemsSnippetsUp:"bottom"===n&&(this._snippetCompareFn=r._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,i]of this._providerInfo)i&&e.add(t);return e}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let r="",a="";const c=1===this._refilterKind?this._items:this._filteredItems,l=[],d=!this._options.filterGraceful||c.length>2e3?o["d"]:o["e"];for(let s=0;s<c.length;s++){const h=c[s];if(h.isInvalid)continue;this._providerInfo.set(h.provider,Boolean(h.container.incomplete));const u=h.position.column-h.editStart.column,p=u+i-(h.position.column-this._column);if(r.length!==p&&(r=0===p?"":t.slice(-p),a=r.toLowerCase()),h.word=r,0===p)h.score=o["a"].Default;else{let e=0;while(e<u){const t=r.charCodeAt(e);if(32!==t&&9!==t)break;e+=1}if(e>=p)h.score=o["a"].Default;else if("string"===typeof h.completion.filterText){let t=d(r,a,e,h.completion.filterText,h.filterTextLow,0,!1);if(!t)continue;0===Object(n["g"])(h.completion.filterText,h.textLabel)?h.score=t:(h.score=Object(o["b"])(r,a,e,h.textLabel,h.labelLow,0),h.score[0]=t[0])}else{let t=d(r,a,e,h.textLabel,h.labelLow,0,!1);if(!t)continue;h.score=t}}h.idx=s,h.distance=this._wordDistance.distance(h.position,h.completion),l.push(h),e.push(h.textLabel.length)}this._filteredItems=l.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?Object(s["q"])(e.length-.85,e,(e,t)=>e-t):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return r._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return r._compareCompletionItems(e,t)}}},ad22:function(e,t,i){"use strict";i.d(t,"a",(function(){return E}));var s=i("945a"),o=i("92db"),n=i("1537"),r=(i("9170"),i("ae41")),a=i("d8b0"),c=i("17e0"),l=i("2f07"),d=i("3c41"),h=i("f7fb"),u=i("d1e2"),p=i("3a2d"),g=i("1447"),m=i("f55d"),b=i("98ae"),_=i("1ff1"),f=i("97b4"),v=i("6b8c"),S=i("c602"),C=i("b364");class w{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let i=t.resolve(e);if(void 0!==i)return i}}}class y{constructor(e,t,i,s){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=s}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,i=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){const e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(t=e.value,i=e.multiline)}if(t&&i&&e.snippet){const i=this._model.getLineContent(this._selection.startLineNumber),s=Object(n["x"])(i,0,this._selection.startColumn-1);let o=s;e.snippet.walk(t=>t!==e&&(t instanceof g["d"]&&(o=Object(n["x"])(Object(n["Q"])(t.value).pop())),!0));const r=Object(n["d"])(o,s);t=t.replace(/(\r\n|\r|\n)(.*)/g,(e,t,i)=>`${t}${o.substr(r)}${i}`)}return t}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return e&&e.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}class k{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return b["a"](this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const e=b["a"](this._model.uri.fsPath),t=e.lastIndexOf(".");return t<=0?e:e.slice(0,t)}return"TM_DIRECTORY"===t?"."===b["b"](this._model.uri.fsPath)?"":this._labelService.getUriLabel(Object(_["d"])(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class x{constructor(e,t,i,s){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=s}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const e=t.split(/\r\n|\n|\r/).filter(e=>!Object(n["C"])(e));if(e.length===this._selectionCount)return e[this._selectionIdx]}return t}}}class O{constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),s=v["b"].getComments(i);if(s)return"LINE_COMMENT"===t?s.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?s.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&s.blockCommentEndToken||void 0}}class N{constructor(){this._date=new Date}resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===t?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===t?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?N.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===t?N.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===t?N.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?N.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(this._date.getTime()/1e3)):void 0}}N.dayNames=[S["localize"]("vs/editor/contrib/snippet/snippetVariables","Sunday","Sunday"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","Monday","Monday"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","Tuesday","Tuesday"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","Wednesday","Wednesday"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","Thursday","Thursday"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","Friday","Friday"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","Saturday","Saturday")],N.dayNamesShort=[S["localize"]("vs/editor/contrib/snippet/snippetVariables","SundayShort","Sun"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","MondayShort","Mon"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","TuesdayShort","Tue"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","WednesdayShort","Wed"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","ThursdayShort","Thu"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","FridayShort","Fri"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","SaturdayShort","Sat")],N.monthNames=[S["localize"]("vs/editor/contrib/snippet/snippetVariables","January","January"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","February","February"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","March","March"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","April","April"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","May","May"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","June","June"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","July","July"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","August","August"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","September","September"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","October","October"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","November","November"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","December","December")],N.monthNamesShort=[S["localize"]("vs/editor/contrib/snippet/snippetVariables","JanuaryShort","Jan"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","FebruaryShort","Feb"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","MarchShort","Mar"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","AprilShort","Apr"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","MayShort","May"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","JuneShort","Jun"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","JulyShort","Jul"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","AugustShort","Aug"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","SeptemberShort","Sep"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","OctoberShort","Oct"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","NovemberShort","Nov"),S["localize"]("vs/editor/contrib/snippet/snippetVariables","DecemberShort","Dec")];class M{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=Object(C["c"])(this._workspaceService.getWorkspace());return t?"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0:void 0}_resolveWorkspaceName(e){if(Object(C["b"])(e))return b["a"](e.uri.path);let t=b["a"](e.configPath.path);return t.endsWith(C["a"])&&(t=t.substr(0,t.length-C["a"].length-1)),t}_resoveWorkspacePath(e){if(Object(C["b"])(e))return Object(m["b"])(e.uri.fsPath);let t=b["a"](e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?Object(m["b"])(i):"/"}}class T{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?Object(f["a"])():void 0}}Object(u["f"])((e,t)=>{function i(t){const i=e.getColor(t);return i?i.toString():"transparent"}t.addRule(`.monaco-editor .snippet-placeholder { background-color: ${i(h["Kc"])}; outline-color: ${i(h["Lc"])}; }`),t.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${i(h["Ic"])}; outline-color: ${i(h["Jc"])}; }`)});class R{constructor(e,t,i,o){this._editor=e,this._snippet=t,this._offset=i,this._snippetLineLeadingWhitespace=o,this._nestingLevel=1,this._placeholderGroups=Object(s["l"])(t.placeholders,g["b"].compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const i of this._snippet.placeholders){const s=this._snippet.offset(i),o=this._snippet.fullLen(i),n=a["a"].fromPositions(e.getPositionAt(this._offset+s),e.getPositionAt(this._offset+s+o)),r=i.isFinalTabstop?R._decor.inactiveFinal:R._decor.inactive,c=t.addDecoration(n,r);this._placeholderDecorations.set(i,c)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let e=[];for(const t of this._placeholderGroups[this._placeholderGroupsIdx])if(t.transform){const i=this._placeholderDecorations.get(t),s=this._editor.getModel().getDecorationRange(i),o=this._editor.getModel().getValueInRange(s),n=t.transform.resolve(o).split(/\r\n|\r|\n/);for(let e=1;e<n.length;e++)n[e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+n[e]);e.push(r["a"].replace(s,n.join(this._editor.getModel().getEOL())))}e.length>0&&this._editor.executeEdits("snippet.placeholderTransform",e)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations(e=>{const i=new Set,s=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const n=this._placeholderDecorations.get(o),r=this._editor.getModel().getDecorationRange(n);s.push(new c["a"](r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(o),e.changeDecorationOptions(n,o.isFinalTabstop?R._decor.activeFinal:R._decor.active),i.add(o);for(const t of this._snippet.enclosingPlaceholders(o)){const s=this._placeholderDecorations.get(t);e.changeDecorationOptions(s,t.isFinalTabstop?R._decor.activeFinal:R._decor.active),i.add(t)}}for(const[t,o]of this._placeholderDecorations)i.has(t)||e.changeDecorationOptions(o,t.isFinalTabstop?R._decor.inactiveFinal:R._decor.inactive);return s});return t?this.move(e):null!==i&&void 0!==i?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;while(t){if(t instanceof g["b"]){const e=this._placeholderDecorations.get(t),i=this._editor.getModel().getDecorationRange(e);if(i.isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const s of t){if(s.isFinalTabstop)break;i||(i=[],e.set(s.index,i));const t=this._placeholderDecorations.get(s),o=this._editor.getModel().getDecorationRange(t);if(!o){e.delete(s.index);break}i.push(o)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(i=>{for(const s of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(!o._placeholderDecorations);const n=o._snippet.placeholderInfo.last.index;for(const e of o._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=s.index+(n+1)/this._nestingLevel:e.index=s.index+e.index/this._nestingLevel;this._snippet.replace(s,o._snippet.children);const r=this._placeholderDecorations.get(s);i.removeDecoration(r),this._placeholderDecorations.delete(s);for(const e of o._snippet.placeholders){const s=o._snippet.offset(e),n=o._snippet.fullLen(e),r=a["a"].fromPositions(t.getPositionAt(o._offset+s),t.getPositionAt(o._offset+s+n)),c=i.addDecoration(r,R._decor.inactive);this._placeholderDecorations.set(e,c)}}this._placeholderGroups=Object(s["l"])(this._snippet.placeholders,g["b"].compareByIndex)})}}R._decor={active:l["b"].register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:l["b"].register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:l["b"].register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:l["b"].register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const L={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class E{constructor(e,t,i=L){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}static adjustWhitespace(e,t,i,s,o){const r=e.getLineContent(t.lineNumber),a=Object(n["x"])(r,0,t.column-1);let c;return i.walk(t=>{if(!(t instanceof g["d"])||t.parent instanceof g["a"])return!0;const o=t.value.split(/\r\n|\r|\n/);if(s){const s=i.offset(t);if(0===s)o[0]=e.normalizeIndentation(o[0]);else{c=null!==c&&void 0!==c?c:i.toString();let t=c.charCodeAt(s-1);10!==t&&13!==t||(o[0]=e.normalizeIndentation(a+o[0]))}for(let t=1;t<o.length;t++)o[t]=e.normalizeIndentation(a+o[t])}const n=o.join(e.getEOL());return n!==t.value&&(t.parent.replace(t,[new g["d"](n)]),c=void 0),!0}),a}static adjustSelection(e,t,i,s){if(0!==i||0!==s){const{positionLineNumber:o,positionColumn:n}=t,r=n-i,a=n+s,l=e.validateRange({startLineNumber:o,startColumn:r,endLineNumber:o,endColumn:a});t=c["a"].createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,i,s,o,n,c,l){const h=[],u=[];if(!e.hasModel())return{edits:h,snippets:u};const m=e.getModel(),b=e.invokeWithinContext(e=>e.get(p["a"])),_=e.invokeWithinContext(e=>new k(e.get(d["a"]),m)),f=()=>c;let v=0,S=m.getValueInRange(E.adjustSelection(m,e.getSelection(),i,0)),C=m.getValueInRange(E.adjustSelection(m,e.getSelection(),0,s)),L=m.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const I=e.getSelections().map((e,t)=>({selection:e,idx:t})).sort((e,t)=>a["a"].compareRangesUsingStarts(e.selection,t.selection));for(const{selection:a,idx:d}of I){let c=E.adjustSelection(m,a,i,0),p=E.adjustSelection(m,a,0,s);S!==m.getValueInRange(c)&&(c=a),C!==m.getValueInRange(p)&&(p=a);const k=a.setStartPosition(c.startLineNumber,c.startColumn).setEndPosition(p.endLineNumber,p.endColumn),A=(new g["c"]).parse(t,!0,o),P=k.getStartPosition(),D=E.adjustWhitespace(m,P,A,n||d>0&&L!==m.getLineFirstNonWhitespaceColumn(a.positionLineNumber),!0);A.resolveVariables(new w([_,new x(f,d,I.length,"spread"===e.getOption(70)),new y(m,a,d,l),new O(m,a),new N,new M(b),new T]));const j=m.getOffsetAt(P)+v;v+=A.toString().length-m.getValueLengthInRange(k),h[d]=r["a"].replace(k,A.toString()),h[d].identifier={major:d,minor:0},u[d]=new R(e,A,j,D)}return{edits:h,snippets:u}}dispose(){Object(o["f"])(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=E.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,e=>this._snippets[0].hasPlaceholder?this._move(!0):e.filter(e=>!!e.identifier).map(e=>c["a"].fromPositions(e.range.getEndPosition()))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=L){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:s}=E.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",i,e=>{for(const t of this._snippets)t.merge(s);return console.assert(0===s.length),this._snippets[0].hasPlaceholder?this._move(void 0):e.filter(e=>!!e.identifier).map(e=>c["a"].fromPositions(e.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const s=i.move(e);t.push(...s)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const i of this._snippets){const s=i.computePossibleSelections();if(0===t.size)for(const[i,o]of s){o.sort(a["a"].compareRangesUsingStarts);for(const s of e)if(o[0].containsRange(s)){t.set(i,[]);break}}if(0===t.size)return!1;t.forEach((e,t)=>{e.push(...s.get(t))})}e.sort(a["a"].compareRangesUsingStarts);for(let[i,s]of t)if(s.length===e.length){s.sort(a["a"].compareRangesUsingStarts);for(let o=0;o<s.length;o++)s[o].containsRange(e[o])||t.delete(i)}else t.delete(i);return t.size>0}}},b720:function(e,t,i){"use strict";i.r(t),i.d(t,"SnippetController2",(function(){return b}));var s=i("92db"),o=i("ae58"),n=i("d8b0"),r=i("17e0"),a=i("7c05"),c=i("042f"),l=i("c602"),d=i("6ad4"),h=i("2059"),u=i("ad22"),p=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},g=function(e,t){return function(i,s){t(i,s,e)}};const m={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let b=class e{constructor(t,i,o){this._editor=t,this._logService=i,this._snippetListener=new s["b"],this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(o),this._hasNextTabstop=e.HasNextTabstop.bindTo(o),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(o)}static get(t){return t.getContribution(e.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,"undefined"===typeof t?m:Object.assign(Object.assign({},m),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new u["a"](this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(e=>e.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState())))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:e}=this._session;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map(e=>r["a"].fromPositions(e.getStartPosition())));const[t]=e.options;Object(c["f"])(this._editor,e.options.map((e,i)=>({kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(i+1),range:n["a"].fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))})))}}else this._currentChoice=void 0}finish(){while(this._inSnippet.get())this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};b.ID="snippetController2",b.InSnippetMode=new d["c"]("inSnippetMode",!1,Object(l["localize"])("vs/editor/contrib/snippet/snippetController2","inSnippetMode","Whether the editor in current in snippet mode")),b.HasNextTabstop=new d["c"]("hasNextTabstop",!1,Object(l["localize"])("vs/editor/contrib/snippet/snippetController2","hasNextTabstop","Whether there is a next tab stop when in snippet mode")),b.HasPrevTabstop=new d["c"]("hasPrevTabstop",!1,Object(l["localize"])("vs/editor/contrib/snippet/snippetController2","hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),b=p([g(1,h["b"]),g(2,d["b"])],b),Object(o["l"])(b.ID,b);const _=o["c"].bindToContribution(b.get);Object(o["k"])(new _({id:"jumpToNextSnippetPlaceholder",precondition:d["a"].and(b.InSnippetMode,b.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:a["a"].editorTextFocus,primary:2}})),Object(o["k"])(new _({id:"jumpToPrevSnippetPlaceholder",precondition:d["a"].and(b.InSnippetMode,b.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:a["a"].editorTextFocus,primary:1026}})),Object(o["k"])(new _({id:"leaveSnippet",precondition:b.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:a["a"].editorTextFocus,primary:9,secondary:[1033]}})),Object(o["k"])(new _({id:"acceptSnippet",precondition:b.InSnippetMode,handler:e=>e.finish()}))},b938:function(e,t,i){},c26af:function(e,t,i){"use strict";i.r(t),i.d(t,"provideSelectionRanges",(function(){return k}));var s=i("945a"),o=i("4163"),n=i("f123"),r=i("ae58"),a=i("e0ab"),c=i("d8b0"),l=i("17e0"),d=i("7c05"),h=i("d778"),u=i("5e3e"),p=i("1537");class g{provideSelectionRanges(e,t){const i=[];for(const s of t){const t=[];i.push(t),this._addInWordRanges(t,e,s),this._addWordRanges(t,e,s),this._addWhitespaceLine(t,e,s),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const s=t.getWordAtPosition(i);if(!s)return;let{word:o,startColumn:n}=s,r=i.column-n,a=r,l=r,d=0;for(;a>=0;a--){let e=o.charCodeAt(a);if(a!==r&&(95===e||45===e))break;if(Object(p["G"])(e)&&Object(p["H"])(d))break;d=e}for(a+=1;l<o.length;l++){let e=o.charCodeAt(l);if(Object(p["H"])(e)&&Object(p["G"])(d))break;if(95===e||45===e)break;d=e}a<l&&e.push({range:new c["a"](i.lineNumber,n+a,i.lineNumber,n+l)})}_addWordRanges(e,t,i){const s=t.getWordAtPosition(i);s&&e.push({range:new c["a"](i.lineNumber,s.startColumn,i.lineNumber,s.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new c["a"](i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var m=i("c602"),b=i("cd62"),_=i("d5b7"),f=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function r(e){try{c(s.next(e))}catch(t){n(t)}}function a(e){try{c(s["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):o(e.value).then(r,a)}c((s=s.apply(e,t||[])).next())}))};class v{constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new v(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}class S{constructor(e){this._editor=e,this._ignoreSelection=!1}static get(e){return e.getContribution(S.ID)}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return f(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(!h["A"].has(i))return;if(this._state||(yield k(i,t.map(e=>e.getPosition()),this._editor.getOption(101),o["a"].None).then(e=>{var i;if(s["n"](e)&&e.length===t.length&&this._editor.hasModel()&&s["g"](this._editor.getSelections(),t,(e,t)=>e.equalsSelection(t))){for(let i=0;i<e.length;i++)e[i]=e[i].filter(e=>e.containsPosition(t[i].getStartPosition())&&e.containsPosition(t[i].getEndPosition())),e[i].unshift(t[i]);this._state=e.map(e=>new v(0,e)),null===(i=this._selectionListener)||void 0===i||i.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var e;this._ignoreSelection||(null===(e=this._selectionListener)||void 0===e||e.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(t=>t.mov(e));const n=this._state.map(e=>l["a"].fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(n)}finally{this._ignoreSelection=!1}}))}}S.ID="editor.contrib.smartSelectController";class C extends r["b"]{constructor(e,t){super(t),this._forward=e}run(e,t){return f(this,void 0,void 0,(function*(){let e=S.get(t);e&&(yield e.run(this._forward))}))}}class w extends C{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:m["localize"]("vs/editor/contrib/smartSelect/smartSelect","smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:d["a"].editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:b["b"].MenubarSelectionMenu,group:"1_basic",title:m["localize"]("vs/editor/contrib/smartSelect/smartSelect",{key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}_["a"].registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class y extends C{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:m["localize"]("vs/editor/contrib/smartSelect/smartSelect","smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:d["a"].editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:b["b"].MenubarSelectionMenu,group:"1_basic",title:m["localize"]("vs/editor/contrib/smartSelect/smartSelect",{key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}function k(e,t,i,o){return f(this,void 0,void 0,(function*(){const r=h["A"].all(e);1===r.length&&r.unshift(new u["a"]);let l=[],d=[];for(const i of r)l.push(Promise.resolve(i.provideSelectionRanges(e,t,o)).then(e=>{if(s["n"](e)&&e.length===t.length)for(let i=0;i<t.length;i++){d[i]||(d[i]=[]);for(const s of e[i])c["a"].isIRange(s.range)&&c["a"].containsPosition(s.range,t[i])&&d[i].push(c["a"].lift(s.range))}},n["g"]));return yield Promise.all(l),d.map(t=>{if(0===t.length)return[];t.sort((e,t)=>a["a"].isBefore(e.getStartPosition(),t.getStartPosition())?1:a["a"].isBefore(t.getStartPosition(),e.getStartPosition())||a["a"].isBefore(e.getEndPosition(),t.getEndPosition())?-1:a["a"].isBefore(t.getEndPosition(),e.getEndPosition())?1:0);let s,o=[];for(const e of t)(!s||c["a"].containsRange(e,s)&&!c["a"].equalsRange(e,s))&&(o.push(e),s=e);if(!i.selectLeadingAndTrailingWhitespace)return o;let n=[o[0]];for(let i=1;i<o.length;i++){const t=o[i-1],s=o[i];if(s.startLineNumber!==t.startLineNumber||s.endLineNumber!==t.endLineNumber){const i=new c["a"](t.startLineNumber,e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,e.getLineLastNonWhitespaceColumn(t.endLineNumber));i.containsRange(t)&&!i.equalsRange(t)&&s.containsRange(i)&&!s.equalsRange(i)&&n.push(i);const o=new c["a"](t.startLineNumber,1,t.endLineNumber,e.getLineMaxColumn(t.endLineNumber));o.containsRange(t)&&!o.equalsRange(i)&&s.containsRange(o)&&!s.equalsRange(o)&&n.push(o)}n.push(s)}return n})}))}Object(r["l"])(S.ID,S),Object(r["j"])(w),Object(r["j"])(y),h["A"].register("*",new g),Object(r["o"])("_executeSelectionRangeProvider",(function(e,...t){const[i]=t;return k(e,i,{selectLeadingAndTrailingWhitespace:!0},o["a"].None)}))},c4d7:function(e,t,i){},f1a2:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s=i("1dc1"),o=i("92db"),n=i("4d73"),r=i("80f8"),a=i("3a12"),c=i("59e4"),l=i("d1e2");class d{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const s=new o["b"];e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const n=s.add(new o["d"]);return n.value=this.doProvide(e,t),s.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(e,t)})),s}doProvide(e,t){const i=new o["b"],a=this.activeTextEditorControl;if(a&&this.canProvideWithTextEditor(a)){const c={editor:a},l=Object(r["a"])(a);if(l){let e=Object(n["p"])(a.saveViewState());i.add(l.onDidChangeCursorPosition(()=>{e=Object(n["p"])(a.saveViewState())})),c.restoreViewState=()=>{e&&a===this.activeTextEditorControl&&a.restoreViewState(e)},i.add(Object(s["a"])(t.onCancellationRequested)(()=>{var e;return null===(e=c.restoreViewState)||void 0===e?void 0:e.call(c)}))}i.add(Object(o["i"])(()=>this.clearDecorations(a))),i.add(this.provideWithTextEditor(c,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return Object(r["c"])(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const s=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Object(l["g"])(c["N"]),position:a["g"].Full}}}],[o,n]=e.deltaDecorations(i,s);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:n}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},f5bc:function(e,t,i){"use strict";i.r(t),i.d(t,"rename",(function(){return V})),i.d(t,"RenameAction",(function(){return H}));var s=i("4d3c"),o=i("4b4a"),n=i("4163"),r=i("f123"),a=i("92db"),c=i("4d73"),l=i("c189"),d=i("5e2a"),h=i("ae58"),u=i("10ec"),p=i("47f8"),g=i("e0ab"),m=i("d8b0"),b=i("7c05"),_=i("d778"),f=i("4099"),v=i("90d4"),S=i("c602"),C=i("c8b9"),w=i("6ad4"),y=i("bf32"),k=i("2059"),x=i("eb8f"),O=i("b5f6"),N=i("e3d2"),M=(i("15f3"),i("5365")),T=i("f7fb"),R=i("d1e2"),L=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},E=function(e,t){return function(i,s){t(i,s,e)}};const I=new w["c"]("renameInputVisible",!1,Object(S["localize"])("vs/editor/contrib/rename/renameInputField","renameInputVisible","Whether the rename input widget is visible"));let A=class{constructor(e,t,i,s,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=s,this._disposables=new a["b"],this.allowEditorOverflow=!0,this._visibleContextKey=I.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(e=>{e.hasChanged(43)&&this._updateFont()})),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",Object(S["localize"])("vs/editor/contrib/rename/renameInputField","renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var e,t;const[i,s]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(i),this._label.innerText=Object(S["localize"])("vs/editor/contrib/rename/renameInputField",{key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(i))||void 0===e?void 0:e.getLabel(),null===(t=this._keybindingService.lookupKeybinding(s))||void 0===t?void 0:t.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,s,o;if(!this._input||!this._domNode)return;const n=e.getColor(T["Tc"]);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(T["cb"]))&&void 0!==t?t:""),this._domNode.style.boxShadow=n?" 0 0 8px 2px "+n:"",this._domNode.style.color=String(null!==(i=e.getColor(T["pb"]))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(s=e.getColor(T["nb"]))&&void 0!==s?s:"");const r=e.getColor(T["ob"]);this._input.style.borderWidth=r?"1px":"0px",this._input.style.borderStyle=r?"solid":"none",this._input.style.borderColor=null!==(o=null===r||void 0===r?void 0:r.toString())&&void 0!==o?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(43);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=e.fontSize+"px",this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,i,s,o,n){this._domNode.classList.toggle("preview",o),this._position=new g["a"](e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",s.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const r=new a["b"];return new Promise(e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=i=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:o&&i})):this.cancelInput(!0)},n.onCancellationRequested(()=>this.cancelInput(!0)),r.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{r.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};A=L([E(2,R["b"]),E(3,M["a"]),E(4,w["b"])],A);var P=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},D=function(e,t){return function(i,s){t(i,s,e)}},j=function(e,t,i,s){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function r(e){try{c(s.next(e))}catch(t){n(t)}}function a(e){try{c(s["throw"](e))}catch(t){n(t)}}function c(e){e.done?i(e.value):o(e.value).then(r,a)}c((s=s.apply(e,t||[])).next())}))};class z{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=_["z"].ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return j(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const i=this._providers[this._providerRenameIdx];if(!i.resolveRenameLocation)break;let s=yield i.resolveRenameLocation(this.model,this.position,e);if(s){if(!s.rejectReason)return s;t.push(s.rejectReason)}}const i=this.model.getWordAtPosition(this.position);return i?{range:new m["a"](this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:m["a"].fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return j(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,t,i,s){return j(this,void 0,void 0,(function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join("\n")};const n=yield o.provideRenameEdits(this.model,this.position,e,s);return n?n.rejectReason?this._provideRenameEdits(e,t+1,i.concat(n.rejectReason),s):n:this._provideRenameEdits(e,t+1,i.concat(S["localize"]("vs/editor/contrib/rename/rename","no result","No result.")),s)}))}}function V(e,t,i){return j(this,void 0,void 0,(function*(){const s=new z(e,t),o=yield s.resolveRenameLocation(n["a"].None);return(null===o||void 0===o?void 0:o.rejectReason)?{edits:[],rejectReason:o.rejectReason}:s.provideRenameEdits(i,n["a"].None)}))}let F=class e{constructor(e,t,i,s,r,c,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=s,this._progressService=r,this._logService=c,this._configService=l,this._dispoableStore=new a["b"],this._cts=new n["b"],this._renameInputField=this._dispoableStore.add(new o["b"](()=>this._dispoableStore.add(this._instaService.createInstance(A,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(t){return t.getContribution(e.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return j(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const e=this.editor.getPosition(),t=new z(this.editor.getModel(),e);if(!t.hasProvider())return;let i;this._cts=new d["b"](this.editor,5);try{const e=t.resolveRenameLocation(this._cts.token);this._progressService.showWhile(e,250),i=yield e}catch(p){return void v["a"].get(this.editor).showMessage(p||S["localize"]("vs/editor/contrib/rename/rename","resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e)}if(!i)return;if(i.rejectReason)return void v["a"].get(this.editor).showMessage(i.rejectReason,e);if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new d["b"](this.editor,5,i.range);let n=this.editor.getSelection(),r=0,a=i.text.length;m["a"].isEmpty(n)||m["a"].spansMultipleLines(n)||!m["a"].containsRange(i.range,n)||(r=Math.max(0,n.startColumn-i.range.startColumn),a=Math.min(i.range.endColumn,n.endColumn)-i.range.startColumn);const c=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),l=yield this._renameInputField.value.getInput(i.range,i.text,r,a,c,this._cts.token);if("boolean"===typeof l)return void(l&&this.editor.focus());this.editor.focus();const h=Object(o["l"])(t.provideRenameEdits(l.newName,this._cts.token),this._cts.token).then(e=>j(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):(this.editor.setSelection(m["a"].fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(u["b"].convert(e),{editor:this.editor,showPreview:l.wantsPreview,label:S["localize"]("vs/editor/contrib/rename/rename","label","Renaming '{0}'",null===i||void 0===i?void 0:i.text),quotableLabel:S["localize"]("vs/editor/contrib/rename/rename","quotableLabel","Renaming {0}",null===i||void 0===i?void 0:i.text)}).then(e=>{e.ariaSummary&&Object(s["a"])(S["localize"]("vs/editor/contrib/rename/rename","aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",i.text,l.newName,e.ariaSummary))}).catch(e=>{this._notificationService.error(S["localize"]("vs/editor/contrib/rename/rename","rename.failedApply","Rename failed to apply edits")),this._logService.error(e)})))})),e=>{this._notificationService.error(S["localize"]("vs/editor/contrib/rename/rename","rename.failed","Rename failed to compute edits")),this._logService.error(e)});return this._progressService.showWhile(h,250),h}))}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};F.ID="editor.contrib.renameController",F=P([D(1,y["a"]),D(2,x["a"]),D(3,u["a"]),D(4,O["a"]),D(5,k["b"]),D(6,f["a"])],F);class H extends h["b"]{constructor(){super({id:"editor.action.rename",label:S["localize"]("vs/editor/contrib/rename/rename","rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:w["a"].and(b["a"].writable,b["a"].hasRenameProvider),kbOpts:{kbExpr:b["a"].editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(p["a"]),[s,o]=Array.isArray(t)&&t||[void 0,void 0];return l["a"].isUri(s)&&g["a"].isIPosition(o)?i.openCodeEditor({resource:s},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},r["f"]):super.runCommand(e,t)}run(e,t){const i=F.get(t);return i?i.run():Promise.resolve()}}Object(h["l"])(F.ID,F),Object(h["j"])(H);const W=h["c"].bindToContribution(F.get);Object(h["k"])(new W({id:"acceptRenameInput",precondition:I,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:b["a"].focus,primary:3}})),Object(h["k"])(new W({id:"acceptRenameInputWithPreview",precondition:w["a"].and(I,w["a"].has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:b["a"].focus,primary:1027}})),Object(h["k"])(new W({id:"cancelRenameInput",precondition:I,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:b["a"].focus,primary:9,secondary:[1033]}})),Object(h["n"])("_executeDocumentRenameProvider",(function(e,t,...i){const[s]=i;return Object(c["c"])("string"===typeof s),V(e,t,s)})),Object(h["n"])("_executePrepareRename",(function(e,t){return j(this,void 0,void 0,(function*(){const i=new z(e,t),s=yield i.resolveRenameLocation(n["a"].None);if(null===s||void 0===s?void 0:s.rejectReason)throw new Error(s.rejectReason);return s}))})),N["a"].as(C["a"].Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:S["localize"]("vs/editor/contrib/rename/rename","enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})}}]);