/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  Time: 2021-12-31 05:59:03
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors-dgiot-app-dgiot-a6608125"],{"40da":function(e,t,n){"use strict";n.r(t),n.d(t,"GhostTextController",(function(){return Ue})),n.d(t,"ActiveGhostTextController",(function(){return Ve})),n.d(t,"commitInlineSuggestionAction",(function(){return ze})),n.d(t,"ShowNextInlineSuggestionAction",(function(){return Ke})),n.d(t,"ShowPreviousInlineSuggestionAction",(function(){return He})),n.d(t,"TriggerInlineSuggestionAction",(function(){return Be}));var i=n("92db"),o=n("1537"),s=n("ae58"),r=n("51cd"),a=n("7c05");const l="editor.action.inlineSuggest.commit";var d=n("f295"),c=n("e0ab"),u=n("d778"),h=n("4b4a"),g=n("4163"),p=n("f123"),m=n("09c9"),f=n("ae41"),b=n("d8b0");class v{constructor(e,t,n=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=n}renderForScreenReader(e){if(0===this.parts.length)return"";const t=this.parts[this.parts.length-1],n=e.substr(0,t.column-1),i=L(n,this.parts.map(e=>({range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")})));return i.substring(this.parts[0].column-1)}}class C{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}function L(e,t){const n=new C(e),i=t.map(e=>{const t=b["a"].lift(e.range);return{startOffset:n.getOffset(t.getStartPosition()),endOffset:n.getOffset(t.getEndPosition()),text:e.text}});i.sort((e,t)=>t.startOffset-e.startOffset);for(const o of i)e=e.substring(0,o.startOffset)+o.text+e.substring(o.endOffset);return e}class S{constructor(e,t,n){this.column=e,this.lines=t,this.preview=n}}class w extends i["a"]{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new d["b"],this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(105)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var I=n("d5b7"),x=n("ea26");function _(e,t){return e===t||!(!e||!t)&&(e.range.equalsRange(t.range)&&e.text===t.text&&e.command===t.command)}function O(e,t,n,i,s=0){if(e.range.startLineNumber!==e.range.endLineNumber)return;const r=t.getLineContent(e.range.startLineNumber),a=o["x"](r).length,l=e.range.startColumn-1<=a;if(l){const t=o["x"](e.text).length,n=r.substring(e.range.startColumn-1,a),i=b["a"].fromPositions(e.range.getStartPosition().delta(0,n.length),e.range.getEndPosition()),s=e.text.startsWith(n)?e.text.substring(n.length):e.text.substring(t);e={range:i,text:s,command:e.command}}const d=t.getValueInRange(e.range),c=D(d,e.text);if(!c)return;const u=e.range.startLineNumber,h=new Array;if("prefix"===n){const e=c.filter(e=>0===e.originalLength);if(e.length>1||1===e.length&&e[0].originalStart!==d.length)return}const g=e.text.length-s;for(const p of c){const t=e.range.startColumn+p.originalStart+p.originalLength;if("subwordSmart"===n&&i&&i.lineNumber===e.range.startLineNumber&&t<i.column)return;if(p.originalLength>0)return;if(0===p.modifiedLength)continue;const s=p.modifiedStart+p.modifiedLength,r=Math.max(p.modifiedStart,Math.min(s,g)),a=e.text.substring(p.modifiedStart,r),l=e.text.substring(r,Math.max(p.modifiedStart,s));if(a.length>0){const e=o["Q"](a);h.push(new S(t,e,!1))}if(l.length>0){const e=o["Q"](l);h.push(new S(t,e,!0))}}return new v(u,h,0)}let y=void 0;function D(e,t){if((null===y||void 0===y?void 0:y.originalValue)===e&&(null===y||void 0===y?void 0:y.newValue)===t)return null===y||void 0===y?void 0:y.changes;{const n=N(e,t);return y={originalValue:e,newValue:t,changes:n},n}}function N(e,t){if(e.length>5e3||t.length>5e3)return;function n(e){let t=0;for(let n=0,i=e.length;n<i;n++){const i=e.charCodeAt(n);i>t&&(t=i)}return t}const i=Math.max(n(e),n(t));function o(e){if(e<0)throw new Error("unexpected");return i+e+1}function s(e){let t=0,n=0;const i=new Int32Array(e.length);for(let s=0,r=e.length;s<r;s++){const r=100*n+t;"("===e[s]?(i[s]=o(2*r),t++):")"===e[s]?(i[s]=o(2*r+1),1===t&&n++,t=Math.max(t-1,0)):i[s]=e.charCodeAt(s)}return i}const r=s(e),a=s(t);return new x["a"]({getElements:()=>r},{getElements:()=>a}).ComputeDiff(!1).changes}var M=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},T=function(e,t){return function(n,i){t(n,i,e)}},E=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};let R=class extends i["a"]{constructor(e,t,n){super(),this.editor=e,this.cache=t,this.commandService=n,this.onDidChangeEmitter=new d["b"],this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new i["d"]),this.active=!1,this.disposed=!1,this._register(n.onDidExecuteCommand(t=>{const n=new Set([s["i"].id,s["g"].id,m["CoreEditingCommands"].Tab.id,m["CoreEditingCommands"].DeleteLeft.id,m["CoreEditingCommands"].DeleteRight.id,l,"acceptSelectedSuggestion"]);n.has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.session&&!this.session.isValid&&this.hide()})),this._register(Object(i["i"])(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){const e=this.editor.getOption(54);e.enabled&&(this.session&&this.session.isValid||this.trigger(u["t"].Automatic))}trigger(e){this.completionSession.value?e===u["t"].Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new k(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return E(this,void 0,void 0,(function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};R=M([T(2,I["b"])],R);class k extends w{constructor(e,t,n,o,s,r){super(e),this.triggerPosition=t,this.shouldUpdate=n,this.commandService=o,this.cache=s,this.initialTriggerKind=r,this.minReservedLineCount=0,this.updateOperation=this._register(new i["d"]),this.updateSoon=this._register(new h["e"](()=>{let e=this.initialTriggerKind;return this.initialTriggerKind=u["t"].Automatic,this.update(e)},50)),this.currentlySelectedCompletionId=void 0;let a=void 0;this._register(this.onDidChange(()=>{const e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==a){a=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,a)}})),this._register(Object(i["i"])(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(e=>{this.scheduleAutomaticUpdate()})),this._register(u["u"].onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return E(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return E(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return E(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===u["t"].Explicit?yield this.updateOperation.value.promise:yield this.update(u["t"].Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==u["t"].Explicit&&(yield this.update(u["t"].Explicit))}))}hasMultipleInlineCompletions(){var e;return E(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1}))}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(54).mode;return e?O(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return E(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),n=Object(h["h"])(n=>E(this,void 0,void 0,(function*(){let i;try{i=yield W(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},n)}catch(o){return void Object(p["f"])(o)}n.isCancellationRequested||(this.cache.setValue(this.editor,i,e),this.onDidChangeEmitter.fire())}))),i=new A(n,e);this.updateOperation.value=i,yield n,this.updateOperation.value===i&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[f["a"].replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null===t||void 0===t||t.dispose()}).then(void 0,p["g"]):null===t||void 0===t||t.dispose(),this.onDidChangeEmitter.fire()}}class A{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class P extends i["a"]{constructor(e,t,n,o){super(),this.triggerKind=o;const s=e.deltaDecorations([],t.items.map(e=>({range:e.range,options:{description:"inline-completion-tracking-range"}})));this._register(Object(i["i"])(()=>{e.deltaDecorations(s,[])})),this.completions=t.items.map((e,t)=>new j(e,s[t])),this._register(e.onDidChangeModelContent(()=>{let t=!1;const i=e.getModel();for(const e of this.completions){const n=i.getDecorationRange(e.decorationId);n?e.synchronizedRange.equalsRange(n)||(t=!0,e.synchronizedRange=n):Object(p["f"])(new Error("Decoration has no range"))}t&&n()})),this._register(t)}}class j{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function U(e,t){const n=t.getWordAtPosition(e),i=t.getLineMaxColumn(e.lineNumber);return n?new b["a"](e.lineNumber,n.startColumn,e.lineNumber,i):b["a"].fromPositions(e,e.with(void 0,i))}function W(e,t,n,i=g["a"].None){return E(this,void 0,void 0,(function*(){const o=U(e,t),s=u["u"].all(t),r=yield Promise.all(s.map(o=>E(this,void 0,void 0,(function*(){const s=yield o.provideInlineCompletions(t,e,n,i);return{completions:s,provider:o,dispose:()=>{s&&o.freeInlineCompletions(s)}}})))),a=new Map;for(const e of r){const t=e.completions;if(t)for(const n of t.items.map(n=>({text:n.text,range:n.range?b["a"].lift(n.range):o,command:n.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:n})))n.range.startLineNumber===n.range.endLineNumber&&a.set(JSON.stringify({text:n.text,range:n.range}),n)}return{items:[...a.values()],dispose:()=>{for(const e of r)e.dispose()}}}))}function V(e,t){if(!t)return t;const n=e.getValueInRange(t.range),i=Object(o["d"])(n,t.text),s=e.getOffsetAt(t.range.getStartPosition())+i,r=e.getPositionAt(s),a=n.substr(i),l=Object(o["e"])(a,t.text),d=e.getPositionAt(Math.max(s,e.getOffsetAt(t.range.getEndPosition())-l));return{range:b["a"].fromPositions(r,d),text:t.text.substr(i,t.text.length-i-l)}}var F=n("1447"),z=n("ad22"),K=n("defa");function H(e,t){return{object:e,dispose:()=>null===t||void 0===t?void 0:t.dispose()}}function B(e,t){return(n,i)=>t(e(n),e(i))}function $(){return(e,t)=>e-t}function q(e,t){let n=void 0;for(const i of e)(void 0===n||t(i,n)>0)&&(n=i);return n}class G extends i["a"]{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new d["b"],this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new h["e"](()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const n=K["SuggestController"].get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(e,t,i)=>{const o=this.editor.getModel(),s=V(o,this.suggestControllerPreselector());if(!s)return-1;const r=c["a"].lift(t),a=i.map((e,t)=>{const i=J(n,r,e,this.isShiftKeyPressed),a=V(o,i);if(!a)return;const l=Z(s.range,a.range)&&s.text.startsWith(a.text);return{index:t,valid:l,prefixLength:a.text.length,suggestItem:e}}).filter(e=>e&&e.valid),l=q(a,B(e=>e.prefixLength,$()));return l?l.index:-1}}));let e=!1;const t=()=>{e||(e=!0,this._register(n.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(n.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(n.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(d["c"].once(n.model.onDidTrigger)(e=>{t()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(e){const t=this.getInlineCompletion();let n=!1;_(this._currentInlineCompletion,t)||(this._currentInlineCompletion=t,n=!0),this._isActive!==e&&(this._isActive=e,n=!0),n&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const e=K["SuggestController"].get(this.editor);if(!e)return;if(!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();return t?J(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=K["SuggestController"].get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=K["SuggestController"].get(this.editor);e&&e.forceRenderingAbove()}}function Z(e,t){return e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&(e.endLineNumber<t.endLineNumber||e.endLineNumber===t.endLineNumber&&e.endColumn<=t.endColumn)}function J(e,t,n,i){if(Array.isArray(n.completion.additionalTextEdits)&&n.completion.additionalTextEdits.length>0)return{text:"",range:b["a"].fromPositions(t,t)};let{insertText:o}=n.completion;if(4&n.completion.insertTextRules){const n=(new F["c"]).parse(o),i=e.editor.getModel();if(n.children.length>100)return;z["a"].adjustWhitespace(i,t,n,!0,!0),o=n.toString()}const s=e.getOverwriteInfo(n,i);return{text:o,range:b["a"].fromPositions(t.delta(0,-s.overwriteBefore),t.delta(0,Math.max(s.overwriteAfter,0)))}}var Q=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class X extends w{constructor(e,t){super(e),this.cache=t,this.suggestionInlineCompletionSource=this._register(new G(this.editor,()=>{var e,t;return null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()})),this.updateOperation=this._register(new i["d"]),this.updateCacheSoon=this._register(new h["e"](()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule();const e=this.suggestionInlineCompletionSource.state;e||(this.minReservedLineCount=0);const t=this.ghostText;t&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,Y(t.parts.map(e=>e.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register(Object(i["i"])(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){const e=this.editor.getOption(105);return e.preview}updateCache(){return Q(this,void 0,void 0,(function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItemAsInlineCompletion)return;const t={text:e.selectedItemAsInlineCompletion.text,range:e.selectedItemAsInlineCompletion.range},n=this.editor.getPosition(),i=Object(h["h"])(e=>Q(this,void 0,void 0,(function*(){let i;try{i=yield W(n,this.editor.getModel(),{triggerKind:u["t"].Automatic,selectedSuggestionInfo:t},e)}catch(o){return void Object(p["f"])(o)}e.isCancellationRequested||(this.cache.setValue(this.editor,i,u["t"].Automatic),this.onDidChangeEmitter.fire())}))),o=new A(i,u["t"].Automatic);this.updateOperation.value=o,yield i,this.updateOperation.value===o&&this.updateOperation.clear()}))}get ghostText(){var e,t;if(!this.isSuggestionPreviewEnabled())return;const n=this.suggestionInlineCompletionSource.state,i=V(this.editor.getModel(),null===n||void 0===n?void 0:n.selectedItemAsInlineCompletion),o=V(this.editor.getModel(),null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),s=o&&i&&o.text.startsWith(i.text)&&o.range.equalsRange(i.range)?o:i||o,r=i?((null===s||void 0===s?void 0:s.text.length)||0)-i.text.length:0,a=e=>{const t=this.editor.getOptions().get(105).previewMode;return e?O(e,this.editor.getModel(),t,this.editor.getPosition(),r)||new v(e.range.endLineNumber,[],this.minReservedLineCount):void 0},l=a(s);return l}}function Y(e){return e.reduce((e,t)=>e+t,0)}var ee=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},te=function(e,t){return function(n,i){t(n,i,e)}},ne=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class ie extends i["a"]{constructor(){super(...arguments),this.onDidChangeEmitter=new d["b"],this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new i["d"])}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?H(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let oe=class extends ie{constructor(e,t){super(),this.editor=e,this.commandService=t,this.sharedCache=this._register(new se),this.suggestWidgetAdapterModel=this._register(new X(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new R(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const n=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!n&&n.parts.some(t=>e.containsPosition(new c["a"](n.lineNumber,t.column)))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(u["t"].Explicit)}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return ne(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};oe=ee([te(1,I["b"])],oe);class se extends i["a"]{constructor(){super(...arguments),this.onDidChangeEmitter=new d["b"],this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new i["d"])}get value(){return this.cache.value}setValue(e,t,n){this.cache.value=new P(e,t,()=>this.onDidChangeEmitter.fire(),n)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var re,ae=n("d208"),le=n("98ef"),de=(n("71bf"),n("a3d3")),ce=n("47f8"),ue=n("7be4"),he=n("966d"),ge=n("b521"),pe=n("0535"),me=n("12fe"),fe=n("59e4"),be=n("7a2d"),ve=n("e2ac"),Ce=n("6ad4"),Le=n("bf32"),Se=n("d1e2"),we=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Ie=function(e,t){return function(n,i){t(n,i,e)}};const xe=null===(re=window.trustedTypes)||void 0===re?void 0:re.createPolicy("editorGhostText",{createHTML:e=>e});let _e=class extends i["a"]{constructor(e,t,n,o){super(),this.editor=e,this.model=t,this.instantiationService=n,this.modeService=o,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Oe,this.editor)),this.additionalLinesWidget=this._register(new De(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(e=>{(e.hasChanged(29)||e.hasChanged(104)||e.hasChanged(87)||e.hasChanged(82)||e.hasChanged(44)||e.hasChanged(43)||e.hasChanged(58))&&this.update()})),this._register(Object(i["i"])(()=>{var e;this.disposed=!0,this.update(),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const n=new Array,i=new Array;function o(e,t){if(i.length>0){const n=i[i.length-1];t&&n.decorations.push(new be["a"](n.content.length+1,n.content.length+1+e[0].length,t,0)),n.content+=e[0],e=e.slice(1)}for(const n of e)i.push({content:n,decorations:t?[new be["a"](1,n.length+1,t,0)]:[]})}const s=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let r=void 0,a=0;for(const l of t.parts){let e=l.lines;void 0===r?(n.push({column:l.column,text:e[0],preview:l.preview}),e=e.slice(1)):o([s.substring(a,l.column-1)],void 0),e.length>0&&(o(e,"ghost-text"),void 0===r&&l.column<=s.length&&(r=l.column)),a=l.column-1}void 0!==r&&o([s.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,n,void 0!==r?{column:r,length:s.length+1-r}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,i,t.additionalReservedLineCount),t.parts.some(e=>e.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new c["a"](t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,n){const o=this.editor.getOption(43),s=document.createElement("div");s.className="suggest-preview-additional-widget",de["a"].applyFontInfoSlow(s,o);const r=document.createElement("span");r.className="content-spacer",r.append(t),s.append(r);const a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("⏎  "),s.append(a);const l=new i["b"],d=document.createElement("div");return d.className="button suggest-preview-text",d.append(`+${n} lines…`),l.add(ae["o"](d,"mousedown",e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()})),s.append(d),new Ee(this.editor,e,s,l)}};_e=we([Ie(2,Le["a"]),Ie(3,me["a"])],_e);let Oe=class{constructor(e,t,n,o){this.editor=e,this.codeEditorService=t,this.themeService=n,this.contextKeyService=o,this.decorationIds=[],this.disposableStore=new i["b"]}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,n){this.disposableStore.clear();const i=this.themeService.getColorTheme(),o=i.getColor(fe["K"]);let s=void 0,r=void 0;o&&(s=String(o.rgba.a),r=le["a"].Format.CSS.format(ye(o)));const a=i.getColor(fe["J"]);let l=void 0;a&&(l="2px dashed "+a);const d=this.editor.getModel();if(!d)return;const{tabSize:u}=d.getOptions(),h=d.getLineContent(e)||"";let g=0,p="";const m=new Array;n&&m.push({range:b["a"].fromPositions(new c["a"](e,n.column),new c["a"](e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const f=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),v=void 0===f||!!f;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(t=>{p+=h.substring(g,t.column-1),g=t.column-1;const n=v?t.text:this.renderSingleLineText(t.text,p,u,!1),i=this.disposableStore.add(Te(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:n,opacity:s,color:r,border:l,fontWeight:t.preview?"bold":"normal"}}));return{range:b["a"].fromPositions(new c["a"](e,t.column)),options:v?{description:"ghost-text",after:{content:n,inlineClassName:t.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},i.resolve())}}).concat(m))}renderSingleLineText(e,t,n,i){const o=t+e,s=he["a"].visibleColumnsByColumns(o,n);let r="",a=t.length+1;for(const l of e){if("\t"===l){const e=s[a+1]-s[a];if(i){r+="→";for(let t=1;t<e;t++)r+=" "}else for(let t=0;t<e;t++)r+=" "}else r+=" "===l?i?"·":" ":l;a+=1}return r}};function ye(e){const{r:t,b:n,g:i}=e.rgba;return new le["a"](new le["c"](t,i,n,255))}Oe=we([Ie(1,ce["a"]),Ie(2,Se["b"]),Ie(3,Ce["b"])],Oe);class De{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,n){const i=this.editor.getModel();if(!i)return;const{tabSize:o}=i.getOptions();this.editor.changeViewZones(i=>{this._viewZoneId&&(i.removeZone(this._viewZoneId),this._viewZoneId=void 0);const s=Math.max(t.length,n);if(s>0){const n=document.createElement("div");Ne(n,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=i.addZone({afterLineNumber:e,heightInLines:s,domNode:n})}})}}function Ne(e,t,n,i,s){const r=i.get(29),a=i.get(104),l="none",d=i.get(82),c=i.get(44),u=i.get(43),h=i.get(58),g=Object(pe["a"])(1e4);g.appendASCIIString('<div class="suggest-preview-text">');for(let f=0,b=n.length;f<b;f++){const e=n[f],i=e.content;g.appendASCIIString('<div class="view-line'),g.appendASCIIString('" style="top:'),g.appendASCIIString(String(f*h)),g.appendASCIIString('px;width:1000000px;">');const p=o["A"](i),m=o["m"](i),b=ge["a"].createEmpty(i,s);Object(ve["d"])(new ve["c"](u.isMonospace&&!r,u.canUseHalfwidthRightwardsArrow,i,!1,p,m,0,b,e.decorations,t,0,u.spaceWidth,u.middotWidth,u.wsmiddotWidth,a,l,d,c!==ue["e"].OFF,null),g),g.appendASCIIString("</div>")}g.appendASCIIString("</div>"),de["a"].applyFontInfoSlow(e,u);const p=g.build(),m=xe?xe.createHTML(p):p;e.innerHTML=m}let Me=0;function Te(e,t,n,i){const o=n+Me++;return e.registerDecorationType(t,o,i),{dispose(){e.removeDecorationType(o)},resolve(){return e.resolveDecorationOptions(o,!0)}}}class Ee extends i["a"]{constructor(e,t,n,o){super(),this.editor=e,this.position=t,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(o),this._register(Object(i["i"])(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Object(Se["f"])((e,t)=>{const n=e.getColor(fe["K"]);if(n){const e=String(n.rgba.a),i=le["a"].Format.CSS.format(ye(n));t.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${e} !important; color: ${i} !important; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${n.toString()} !important; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${e} !important; color: ${i} !important; }`)}const i=e.getColor(fe["J"]);i&&(t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${i}; }`),t.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${i}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${i}; }`))});var Re=n("d4b5"),ke=n("f3a5"),Ae=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},Pe=function(e,t){return function(n,i){t(n,i,e)}},je=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};let Ue=class e extends i["a"]{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new i["d"]),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(105)&&this.updateModelController(),e.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(105),t=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Ve,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,n;return(null===(n=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===n?void 0:n.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return je(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};Ue.inlineSuggestionVisible=new Ce["c"]("inlineSuggestionVisible",!1,Re["a"]("inlineSuggestionVisible","Whether an inline suggestion is visible")),Ue.inlineSuggestionHasIndentation=new Ce["c"]("inlineSuggestionHasIndentation",!1,Re["a"]("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Ue.inlineSuggestionHasIndentationLessThanTabSize=new Ce["c"]("inlineSuggestionHasIndentationLessThanTabSize",!0,Re["a"]("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Ue.ID="editor.contrib.ghostTextController",Ue=Ae([Pe(1,Le["a"])],Ue);class We{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=Ue.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Ue.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Ue.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Ve=class extends i["a"]{constructor(e,t,n){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=n,this.contextKeys=new We(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(oe,this.editor)),this.widget=this._register(this.instantiationService.createInstance(_e,this.editor,this.model)),this._register(Object(i["i"])(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));let t=!1,n=!0;const i=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&i&&i.parts.length>0){const{column:e,lines:s}=i.parts[0],a=s[0],l=this.editor.getModel().getLineIndentColumn(i.lineNumber),d=e<=l;if(d){let e=Object(o["u"])(a);-1===e&&(e=a.length-1),t=e>0;const i=this.editor.getModel().getOptions().tabSize,s=r["a"].visibleColumnFromColumn(a,e+1,i);n=s<i}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}};Ve=Ae([Pe(1,Le["a"]),Pe(2,Ce["b"])],Ve);const Fe=s["c"].bindToContribution(Ue.get),ze=new Fe({id:l,precondition:Ue.inlineSuggestionVisible,handler(e){e.commit(),e.editor.focus()}});Object(s["k"])(ze),ke["a"].registerKeybindingRule({primary:2,weight:200,id:ze.id,when:Ce["a"].and(ze.precondition,a["a"].tabMovesFocus.toNegated(),Ue.inlineSuggestionHasIndentationLessThanTabSize)}),Object(s["k"])(new Fe({id:"editor.action.inlineSuggest.hide",precondition:Ue.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class Ke extends s["b"]{constructor(){super({id:Ke.ID,label:Re["a"]("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Ce["a"].and(a["a"].writable,Ue.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return je(this,void 0,void 0,(function*(){const e=Ue.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}Ke.ID="editor.action.inlineSuggest.showNext";class He extends s["b"]{constructor(){super({id:He.ID,label:Re["a"]("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Ce["a"].and(a["a"].writable,Ue.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return je(this,void 0,void 0,(function*(){const e=Ue.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}He.ID="editor.action.inlineSuggest.showPrevious";class Be extends s["b"]{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Re["a"]("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:a["a"].writable})}run(e,t){return je(this,void 0,void 0,(function*(){const e=Ue.get(t);e&&e.trigger()}))}}Object(s["l"])(Ue.ID,Ue),Object(s["j"])(Be),Object(s["j"])(Ke),Object(s["j"])(He)},"470c":function(e,t,n){"use strict";n.r(t),n.d(t,"LinkDetector",(function(){return P}));var i=n("4b4a"),o=n("4163"),s=n("f123"),r=n("6b5e"),a=n("92db"),l=n("dbd6"),d=n("cb4a"),c=n("1ff1"),u=n("c189"),h=(n("7c96"),n("ae58")),g=n("2f07"),p=n("d778"),m=n("9c55"),f=n("945a"),b=n("4d73"),v=n("d8b0"),C=n("1edf"),L=n("d5b7"),S=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};class w{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return S(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"===typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}))}}class I{constructor(e){this._disposables=new a["b"];let t=[];for(const[n,i]of e){const e=n.links.map(e=>new w(e,i));t=I._union(t,e),Object(a["g"])(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let n,i,o,s,r=[];for(n=0,o=0,i=e.length,s=t.length;n<i&&o<s;){const i=e[n],s=t[o];if(v["a"].areIntersectingOrTouching(i.range,s.range)){n++;continue}const a=v["a"].compareRangesUsingStarts(i.range,s.range);a<0?(r.push(i),n++):(r.push(s),o++)}for(;n<i;n++)r.push(e[n]);for(;o<s;o++)r.push(t[o]);return r}}function x(e,t){const n=[],i=p["v"].ordered(e).reverse().map((i,o)=>Promise.resolve(i.provideLinks(e,t)).then(e=>{e&&(n[o]=[e,i])},s["g"]));return Promise.all(i).then(()=>{const e=new I(Object(f["e"])(n));return t.isCancellationRequested?(e.dispose(),new I([])):e})}L["a"].registerCommand("_executeLinkProvider",(e,...t)=>S(void 0,void 0,void 0,(function*(){let[n,i]=t;Object(b["c"])(n instanceof u["a"]),"number"!==typeof i&&(i=0);const s=e.get(C["a"]).getModel(n);if(!s)return[];const r=yield x(s,o["a"].None);if(!r)return[];for(let e=0;e<Math.min(i,r.links.length);e++)yield r.links[e].resolve(o["a"].None);const a=r.links.slice(0);return r.dispose(),a})));var _=n("d4b5"),O=n("eb8f"),y=n("0aba"),D=n("f7fb"),N=n("d1e2"),M=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},T=function(e,t){return function(n,i){t(n,i,e)}},E=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};function R(e,t){const n=e.url&&/^command:/i.test(e.url.toString()),i=e.tooltip?e.tooltip:n?_["a"]("links.navigate.executeCmd","Execute command"):_["a"]("links.navigate.follow","Follow link"),o=t?d["f"]?_["a"]("links.navigate.kb.meta.mac","cmd + click"):_["a"]("links.navigate.kb.meta","ctrl + click"):d["f"]?_["a"]("links.navigate.kb.alt.mac","option + click"):_["a"]("links.navigate.kb.alt","alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const n=e.url.toString().match(/^command:([^?#]+)/);if(n){const e=n[1],i=_["a"]("tooltip.explanation","Execute command {0}",e);t=` "${i}"`}}const n=new r["a"]("",!0).appendMarkdown(`[${i}](${e.url.toString(!0).replace(/ /g,"%20")}${t}) (${o})`);return n}return(new r["a"]).appendText(`${i} (${o})`)}const k={general:g["b"].register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:g["b"].register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class A{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:A._getOptions(e,t,!1)}}static _getOptions(e,t,n){const i=Object.assign({},n?k.active:k.general);return i.hoverMessage=R(e,t),i}activate(e,t){e.changeDecorationOptions(this.decorationId,A._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,A._getOptions(this.link,t,!1))}}let P=class e{constructor(e,t,n){this.listenersToRemove=new a["b"],this.editor=e,this.openerService=t,this.notificationService=n;let o=new m["a"](e);this.listenersToRemove.add(o),this.listenersToRemove.add(o.onMouseMoveOrRelevantKeyDown(([e,t])=>{this._onEditorMouseMove(e,t)})),this.listenersToRemove.add(o.onExecute(e=>{this.onEditorMouseUp(e)})),this.listenersToRemove.add(o.onCancel(e=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(62),this.listenersToRemove.add(e.onDidChangeConfiguration(t=>{const n=e.getOption(62);this.enabled!==n&&(this.enabled=n,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(e=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(e=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(e=>this.onModelModeChanged())),this.listenersToRemove.add(p["v"].onDidChange(e=>this.onModelModeChanged())),this.timeout=new i["g"],this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),e.RECOMPUTE_TIME)}beginCompute(){return E(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(p["v"].has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=i["h"](t=>x(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){Object(s["f"])(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(69);let n=[],i=Object.keys(this.currentOccurrences);for(let r=0,a=i.length;r<a;r++){let e=i[r],t=this.currentOccurrences[e];n.push(t.decorationId)}let o=[];if(e)for(const r of e)o.push(A.decoration(r,t));let s=this.editor.deltaDecorations(n,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let r=0,a=s.length;r<a;r++){let t=new A(e[r],s[r]);this.currentOccurrences[t.decorationId]=t}}_onEditorMouseMove(e,t){const n="altKey"===this.editor.getOption(69);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations(e=>{t.activate(e,n),this.activeLinkDecorationId=t.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(69);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(n=>{t.deactivate(n,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,n=!1){if(!this.openerService)return;const{link:i}=e;i.resolve(o["a"].None).then(e=>{if("string"===typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===l["c"].file&&e.startsWith(l["c"].file+":")){const n=u["a"].parse(e);if(n.scheme===l["c"].file){const i=c["i"](n);let o=null;i.startsWith("/./")?o="."+i.substr(1):i.startsWith("//./")&&(o="."+i.substr(2)),o&&(e=c["g"](t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0})},e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(_["a"]("invalid.url","Failed to open this link because it is not well-formed: {0}",i.url.toString())):"missing"===t?this.notificationService.warn(_["a"]("missing.url","Failed to open this link because its target is missing.")):Object(s["f"])(e)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const n of t){const e=this.currentOccurrences[n.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};P.ID="editor.linkDetector",P.RECOMPUTE_TIME=1e3,P=M([T(1,y["a"]),T(2,O["a"])],P);class j extends h["b"]{constructor(){super({id:"editor.action.openLink",label:_["a"]("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let n=P.get(t);if(!n)return;if(!t.hasModel())return;let i=t.getSelections();for(let o of i){let e=n.getLinkOccurrence(o.getEndPosition());e&&n.openLinkOccurrence(e,!1)}}}Object(h["l"])(P.ID,P),Object(h["j"])(j),Object(N["f"])((e,t)=>{const n=e.getColor(D["q"]);n&&t.addRule(`.monaco-editor .detected-link-active { color: ${n} !important; }`)})},"644f":function(e,t,n){"use strict";n.r(t),n.d(t,"getReindentEditOperations",(function(){return b})),n.d(t,"IndentationToSpacesAction",(function(){return v})),n.d(t,"IndentationToTabsAction",(function(){return C})),n.d(t,"ChangeIndentationSizeAction",(function(){return L})),n.d(t,"IndentUsingTabs",(function(){return S})),n.d(t,"IndentUsingSpaces",(function(){return w})),n.d(t,"DetectIndentation",(function(){return I})),n.d(t,"ReindentLinesAction",(function(){return x})),n.d(t,"ReindentSelectedLinesAction",(function(){return _})),n.d(t,"AutoIndentOnPasteCommand",(function(){return O})),n.d(t,"AutoIndentOnPaste",(function(){return y})),n.d(t,"IndentationToSpacesCommand",(function(){return N})),n.d(t,"IndentationToTabsCommand",(function(){return M}));var i=n("92db"),o=n("1537"),s=n("ae58"),r=n("8e1a"),a=n("ae41"),l=n("d8b0"),d=n("17e0"),c=n("7c05"),u=n("2f07"),h=n("6b8c"),g=n("1edf"),p=n("a7ad"),m=n("d4b5"),f=n("60a0");function b(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];const s=h["b"].getIndentationRules(e.getLanguageId());if(!s)return[];n=Math.min(n,e.getLineCount());while(t<=n){if(!s.unIndentedLinePattern)break;let n=e.getLineContent(t);if(!s.unIndentedLinePattern.test(n))break;t++}if(t>n-1)return[];const{tabSize:l,indentSize:c,insertSpaces:g}=e.getOptions(),p=(e,t)=>(t=t||1,r["a"].shiftIndent(e,e.length+t,l,c,g)),m=(e,t)=>(t=t||1,r["a"].unshiftIndent(e,e.length+t,l,c,g));let f,b=[],v=e.getLineContent(t),C=v;if(void 0!==i&&null!==i){f=i;let e=o["x"](v);C=f+v.substring(e.length),s.decreaseIndentPattern&&s.decreaseIndentPattern.test(C)&&(f=m(f),C=f+v.substring(e.length)),v!==C&&b.push(a["a"].replaceMove(new d["a"](t,1,t,e.length+1),u["c"].normalizeIndentation(f,c,g)))}else f=o["x"](v);let L=f;s.increaseIndentPattern&&s.increaseIndentPattern.test(C)?(L=p(L),f=p(f)):s.indentNextLinePattern&&s.indentNextLinePattern.test(C)&&(L=p(L)),t++;for(let r=t;r<=n;r++){let t=e.getLineContent(r),n=o["x"](t),i=L+t.substring(n.length);s.decreaseIndentPattern&&s.decreaseIndentPattern.test(i)&&(L=m(L),f=m(f)),n!==L&&b.push(a["a"].replaceMove(new d["a"](r,1,r,n.length+1),u["c"].normalizeIndentation(L,c,g))),s.unIndentedLinePattern&&s.unIndentedLinePattern.test(t)||(s.increaseIndentPattern&&s.increaseIndentPattern.test(i)?(f=p(f),L=f):L=s.indentNextLinePattern&&s.indentNextLinePattern.test(i)?p(L):f)}return b}class v extends s["b"]{constructor(){super({id:v.ID,label:m["a"]("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:c["a"].writable})}run(e,t){let n=t.getModel();if(!n)return;let i=n.getOptions(),o=t.getSelection();if(!o)return;const s=new N(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}v.ID="editor.action.indentationToSpaces";class C extends s["b"]{constructor(){super({id:C.ID,label:m["a"]("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:c["a"].writable})}run(e,t){let n=t.getModel();if(!n)return;let i=n.getOptions(),o=t.getSelection();if(!o)return;const s=new M(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}C.ID="editor.action.indentationToTabs";class L extends s["b"]{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get(f["a"]),i=e.get(g["a"]);let o=t.getModel();if(!o)return;const s=i.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),r=[1,2,3,4,5,6,7,8].map(e=>({id:e.toString(),label:e.toString(),description:e===s.tabSize?m["a"]("configuredTabSize","Configured Tab Size"):void 0})),a=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(r,{placeHolder:m["a"]({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:r[a]}).then(e=>{e&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})})},50)}}class S extends L{constructor(){super(!1,{id:S.ID,label:m["a"]("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}S.ID="editor.action.indentUsingTabs";class w extends L{constructor(){super(!0,{id:w.ID,label:m["a"]("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}w.ID="editor.action.indentUsingSpaces";class I extends s["b"]{constructor(){super({id:I.ID,label:m["a"]("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const n=e.get(g["a"]);let i=t.getModel();if(!i)return;const o=n.getCreationOptions(i.getLanguageId(),i.uri,i.isForSimpleWidget);i.detectIndentation(o.insertSpaces,o.tabSize)}}I.ID="editor.action.detectIndentation";class x extends s["b"]{constructor(){super({id:"editor.action.reindentlines",label:m["a"]("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:c["a"].writable})}run(e,t){let n=t.getModel();if(!n)return;let i=b(n,1,n.getLineCount());i.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,i),t.pushUndoStop())}}class _ extends s["b"]{constructor(){super({id:"editor.action.reindentselectedlines",label:m["a"]("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:c["a"].writable})}run(e,t){let n=t.getModel();if(!n)return;let i=t.getSelections();if(null===i)return;let o=[];for(let s of i){let e=s.startLineNumber,t=s.endLineNumber;if(e!==t&&1===s.endColumn&&t--,1===e){if(e===t)continue}else e--;let i=b(n,e,t);o.push(...i)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class O{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let n of e)n.range&&"string"===typeof n.text&&this._edits.push(n)}getEditOperations(e,t){for(let i of this._edits)t.addEditOperation(l["a"].lift(i.range),i.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class y{constructor(e){this.callOnDispose=new i["b"],this.callOnModel=new i["b"],this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(47)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const n=this.editor.getModel();if(!n)return;if(!n.isCheapToTokenize(e.getStartPosition().lineNumber))return;const i=this.editor.getOption(9),{tabSize:s,indentSize:a,insertSpaces:d}=n.getOptions();let c=[],u={shiftIndent:e=>r["a"].shiftIndent(e,e.length+1,s,a,d),unshiftIndent:e=>r["a"].unshiftIndent(e,e.length+1,s,a,d)},g=e.startLineNumber;while(g<=e.endLineNumber){if(!this.shouldIgnoreLine(n,g))break;g++}if(g>e.endLineNumber)return;let m=n.getLineContent(g);if(!/\S/.test(m.substring(0,e.startColumn-1))){const e=h["b"].getGoodIndentForLine(i,n,n.getLanguageId(),g,u);if(null!==e){let t=o["x"](m),i=p["b"](e,s),r=p["b"](t,s);if(i!==r){let e=p["a"](i,s,d);c.push({range:new l["a"](g,1,g,t.length+1),text:e}),m=e+m.substr(t.length)}else{let e=h["b"].getIndentMetadata(n,g);if(0===e||8===e)return}}}const f=g;while(g<e.endLineNumber){if(/\S/.test(n.getLineContent(g+1)))break;g++}if(g!==e.endLineNumber){let t={getLineTokens:e=>n.getLineTokens(e),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(e,t)=>n.getLanguageIdAtPosition(e,t),getLineContent:e=>e===f?m:n.getLineContent(e)},r=h["b"].getGoodIndentForLine(i,t,n.getLanguageId(),g+1,u);if(null!==r){let t=p["b"](r,s),i=p["b"](o["x"](n.getLineContent(g+1)),s);if(t!==i){let r=t-i;for(let t=g+1;t<=e.endLineNumber;t++){let e=n.getLineContent(t),i=o["x"](e),a=p["b"](i,s),u=a+r,h=p["a"](u,s,d);h!==i&&c.push({range:new l["a"](t,1,t,i.length+1),text:h})}}}}if(c.length>0){this.editor.pushUndoStop();let e=new O(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;let i=e.getLineTokens(t);if(i.getCount()>0){let e=i.findTokenIndexAtOffset(n);if(e>=0&&1===i.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function D(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let r=0;r<n;r++)o+=" ";let s=new RegExp(o,"gi");for(let r=1,a=e.getLineCount();r<=a;r++){let n=e.getLineFirstNonWhitespaceColumn(r);if(0===n&&(n=e.getLineMaxColumn(r)),1===n)continue;const a=new l["a"](r,1,r,n),d=e.getValueInRange(a),c=i?d.replace(/\t/gi,o):d.replace(s,"\t");t.addEditOperation(a,c)}}y.ID="editor.contrib.autoIndentOnPaste";class N{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),D(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class M{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),D(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Object(s["l"])(y.ID,y),Object(s["j"])(v),Object(s["j"])(C),Object(s["j"])(S),Object(s["j"])(w),Object(s["j"])(I),Object(s["j"])(x),Object(s["j"])(_)},"71bf":function(e,t,n){},"71d9":function(e,t,n){"use strict";n.r(t);var i=n("4b4a"),o=n("f123"),s=n("5e2a"),r=n("ae58"),a=n("d8b0"),l=n("17e0"),d=n("7c05"),c=n("2f07"),u=n("6fc9"),h=n("59e4"),g=n("d4b5"),p=n("d1e2");class m{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations(),i=n[0].range;return this._originalSelection.isEmpty()?new l["a"](i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new l["a"](i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}var f=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},b=function(e,t){return function(n,i){t(n,i,e)}};let v=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,n){this.currentRequest&&this.currentRequest.cancel();const r=this.editor.getSelection(),d=this.editor.getModel();if(!d||!r)return;let c=r;if(c.startLineNumber!==c.endLineNumber)return;const u=new s["a"](this.editor,5),h=d.uri;return this.editorWorkerService.canNavigateValueSet(h)?(this.currentRequest=Object(i["h"])(e=>this.editorWorkerService.navigateValueSet(h,c,n)),this.currentRequest.then(n=>{if(!n||!n.range||!n.value)return;if(!u.validate(this.editor))return;let s=a["a"].lift(n.range),r=n.range,d=n.value.length-(c.endColumn-c.startColumn);r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.startColumn+n.value.length},d>1&&(c=new l["a"](c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+d-1));const h=new m(s,c,n.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,h),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:r,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Object(i["n"])(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(o["f"])}).catch(o["f"])):Promise.resolve(void 0)}};v.ID="editor.contrib.inPlaceReplaceController",v.DECORATION=c["b"].register({description:"in-place-replace",className:"valueSetReplacement"}),v=f([b(1,u["a"])],v);class C extends r["b"]{constructor(){super({id:"editor.action.inPlaceReplace.up",label:g["a"]("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:d["a"].writable,kbOpts:{kbExpr:d["a"].editorTextFocus,primary:3154,weight:100}})}run(e,t){const n=v.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}class L extends r["b"]{constructor(){super({id:"editor.action.inPlaceReplace.down",label:g["a"]("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:d["a"].writable,kbOpts:{kbExpr:d["a"].editorTextFocus,primary:3156,weight:100}})}run(e,t){const n=v.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}Object(r["l"])(v.ID,v),Object(r["j"])(C),Object(r["j"])(L),Object(p["f"])((e,t)=>{const n=e.getColor(h["k"]);n&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${n}; }`)})},"7c96":function(e,t,n){},8008:function(e,t,n){"use strict";n.r(t),n.d(t,"CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE",(function(){return O})),n.d(t,"LinkedEditingContribution",(function(){return D})),n.d(t,"LinkedEditingAction",(function(){return N})),n.d(t,"editorLinkedEditingBackground",(function(){return E}));var i=n("945a"),o=n("4b4a"),s=n("4163"),r=n("98ef"),a=n("f123"),l=n("92db"),d=n("1537"),c=n("c189"),u=n("ae58"),h=n("47f8"),g=n("e0ab"),p=n("d8b0"),m=n("7c05"),f=n("2f07"),b=n("d778"),v=n("6b8c"),C=n("d4b5"),L=n("6ad4"),S=n("f7fb"),w=n("d1e2"),I=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},x=function(e,t){return function(n,i){t(n,i,e)}},_=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const O=new L["c"]("LinkedEditingInputVisible",!1),y="linked-editing-decoration";let D=class e extends l["a"]{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new l["b"]),this._editor=e,this._enabled=!1,this._visibleContextKey=O.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new l["b"]),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(61)||e.hasChanged(81))&&this.reinitialize(!1)})),this._register(b["w"].onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),n=null!==t&&(this._editor.getOption(61)||this._editor.getOption(81))&&b["w"].has(t);if(n===this._enabled&&!e)return;if(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||null===t)return;this._languageWordPattern=v["b"].getWordDefinition(t.getLanguageId()),this._localToDispose.add(t.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=v["b"].getWordDefinition(t.getLanguageId())}));const i=new o["a"](this._debounceDuration),s=()=>{this._rangeUpdateTriggerPromise=i.trigger(()=>this.updateRanges(),this._debounceDuration)},r=new o["a"](0),a=e=>{this._rangeSyncTriggerPromise=r.trigger(()=>this._syncRanges(e))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{s()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const n=t.getDecorationRange(this._currentDecorations[0]);if(n&&e.changes.every(e=>n.intersectRanges(e.range)))return void a(this._currentDecorations)}s()})),this._localToDispose.add({dispose:()=>{i.cancel(),r.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),n=t.getDecorationRange(e[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const i=t.getValueInRange(n);if(this._currentWordPattern){const e=i.match(this._currentWordPattern),t=e?e[0].length:0;if(t!==i.length)return this.clearRanges()}let o=[];for(let s=1,r=e.length;s<r;s++){const n=t.getDecorationRange(e[s]);if(n)if(n.startLineNumber!==n.endLineNumber)o.push({range:n,text:i});else{let e=t.getValueInRange(n),s=i,r=n.startColumn,a=n.endColumn;const l=d["d"](e,s);r+=l,e=e.substr(l),s=s.substr(l);const c=d["e"](e,s);a-=c,e=e.substr(0,e.length-c),s=s.substr(0,s.length-c),r===a&&0===s.length||o.push({range:new p["a"](n.startLineNumber,r,n.endLineNumber,a),text:s})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return _(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const n=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const i=this._editor.getModel(),s=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(n.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=i.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(n))return}}this._currentRequestPosition=n,this._currentRequestModelVersion=s;const r=Object(o["h"])(t=>_(this,void 0,void 0,(function*(){try{const o=yield T(i,n,t);if(r!==this._currentRequest)return;if(this._currentRequest=null,s!==i.getVersionId())return;let a=[];(null===o||void 0===o?void 0:o.ranges)&&(a=o.ranges),this._currentWordPattern=(null===o||void 0===o?void 0:o.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=a.length;e<t;e++)if(p["a"].containsPosition(a[e],n)){if(l=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!l)return void this.clearRanges();const d=a.map(t=>({range:t,options:e.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,d)}catch(o){Object(a["e"])(o)||Object(a["f"])(o),this._currentRequest!==r&&this._currentRequest||this.clearRanges()}})));return this._currentRequest=r,r}))}};D.ID="editor.contrib.linkedEditing",D.DECORATION=f["b"].register({description:"linked-editing",stickiness:0,className:y}),D=I([x(1,L["b"])],D);class N extends u["b"]{constructor(){super({id:"editor.action.linkedEditing",label:C["a"]("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:L["a"].and(m["a"].writable,m["a"].hasRenameProvider),kbOpts:{kbExpr:m["a"].editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(h["a"]),[i,o]=Array.isArray(t)&&t||[void 0,void 0];return c["a"].isUri(i)&&g["a"].isIPosition(o)?n.openCodeEditor({resource:i},n.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},a["f"]):super.runCommand(e,t)}run(e,t){const n=D.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}const M=u["c"].bindToContribution(D.get);function T(e,t,n){const s=b["w"].ordered(e);return Object(o["j"])(s.map(i=>()=>_(this,void 0,void 0,(function*(){try{return yield i.provideLinkedEditingRanges(e,t,n)}catch(o){return void Object(a["g"])(o)}}))),e=>!!e&&i["n"](null===e||void 0===e?void 0:e.ranges))}Object(u["k"])(new M({id:"cancelLinkedEditingInput",precondition:O,handler:e=>e.clearRanges(),kbOpts:{kbExpr:m["a"].editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const E=Object(S["Cc"])("editor.linkedEditingBackground",{dark:r["a"].fromHex("#f00").transparent(.3),light:r["a"].fromHex("#f00").transparent(.3),hc:r["a"].fromHex("#f00").transparent(.3)},C["a"]("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Object(w["f"])((e,t)=>{const n=e.getColor(E);n&&t.addRule(`.monaco-editor .${y} { background: ${n}; border-left-color: ${n}; }`)}),Object(u["n"])("_executeLinkedEditingProvider",(e,t)=>T(e,t,s["a"].None)),Object(u["l"])(D.ID,D),Object(u["j"])(N)},"9ef8":function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n("d208"),o=n("6b5e"),s=n("92db"),r=n("05a3"),a=n("d8b0"),l=n("12fe"),d=n("d93f"),c=n("40da"),u=n("d4b5"),h=n("0af7"),g=n("cd62"),p=n("d5b7"),m=n("6ad4"),f=n("0aba"),b=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},v=function(e,t){return function(n,i){t(n,i,e)}};class C{constructor(e,t,n){this.owner=e,this.range=t,this.controller=n}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let L=class{constructor(e,t,n,i,o,s,r,a){this._editor=e,this._hover=t,this._commandService=n,this._menuService=i,this._contextKeyService=o,this._modeService=s,this._openerService=r,this.accessibilityService=a}suggestHoverAnchor(e){const t=c["GhostTextController"].get(this._editor);if(!t)return null;if(8===e.target.type){const n=e.target.detail;if(t.shouldShowHoverAtViewZone(n.viewZoneId))return new d["a"](1e3,this,a["a"].fromPositions(n.positionBefore||n.position,n.positionBefore||n.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new d["a"](1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail){const n=e.target.detail.mightBeForeignElement;if(n&&t.shouldShowHoverAt(e.target.range))return new d["a"](1e3,this,e.target.range)}return null}computeSync(e,t){const n=c["GhostTextController"].get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new C(this,e.range,n)]:[]}renderHoverParts(e,t,n){const i=new s["b"],o=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(o,t,i);const r=i.add(this._menuService.createMenu(g["b"].InlineCompletionsActions,this._contextKeyService)),a=n.addAction({label:u["a"]("showNextInlineSuggestion","Next"),commandId:c["ShowNextInlineSuggestionAction"].ID,run:()=>this._commandService.executeCommand(c["ShowNextInlineSuggestionAction"].ID)}),l=n.addAction({label:u["a"]("showPreviousInlineSuggestion","Previous"),commandId:c["ShowPreviousInlineSuggestionAction"].ID,run:()=>this._commandService.executeCommand(c["ShowPreviousInlineSuggestionAction"].ID)});n.addAction({label:u["a"]("acceptInlineSuggestion","Accept"),commandId:c["commitInlineSuggestionAction"].id,run:()=>this._commandService.executeCommand(c["commitInlineSuggestionAction"].id)});const d=[a,l];for(const s of d)s.setEnabled(!1);o.hasMultipleSuggestions().then(e=>{for(const t of d)t.setEnabled(e)});for(const[s,c]of r.getActions())for(const e of c)e instanceof g["c"]&&n.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return i}renderScreenReaderText(e,t,n){var s,a;const l=i["a"],d=l("div.hover-row.markdown-hover"),c=i["q"](d,l("div.hover-contents")),h=n.add(new r["a"]({editor:this._editor},this._modeService,this._openerService)),g=e=>{n.add(h.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const t=u["a"]("inlineSuggestionFollows","Suggestion:"),i=n.add(h.render((new o["a"]).appendText(t).appendCodeblock("text",e)));c.replaceChildren(i.element)},p=null===(a=null===(s=e.controller.activeModel)||void 0===s?void 0:s.inlineCompletionsModel)||void 0===a?void 0:a.ghostText;if(p){const e=this._editor.getModel().getLineContent(p.lineNumber);g(p.renderForScreenReader(e))}t.appendChild(d)}};L=b([v(2,p["b"]),v(3,g["a"]),v(4,m["b"]),v(5,l["a"]),v(6,f["a"]),v(7,h["b"])],L)},a7ad:function(e,t,n){"use strict";function i(e,t){let n=0;for(let i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function o(e,t,n){e=e<0?0:e;let i="";if(!n){let n=Math.floor(e/t);e%=t;for(let e=0;e<n;e++)i+="\t"}for(let o=0;o<e;o++)i+=" ";return i}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},b309:function(e,t,n){"use strict";n.r(t),n.d(t,"getInlayHints",(function(){return y})),n.d(t,"InlayHintsController",(function(){return N}));var i=n("4b4a"),o=n("4163"),s=n("f123"),r=n("f28f"),a=n("92db"),l=n("1a26"),d=n("4d73"),c=n("c189"),u=n("ae58"),h=n("47f8"),g=n("7be4"),p=n("e0ab"),m=n("d8b0"),f=n("d778"),b=n("0650"),v=n("d00e"),C=n("d5b7"),L=n("f7fb"),S=n("d1e2"),w=function(e,t,n,i){var o,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,n,r):o(t,n))||r);return s>3&&r&&Object.defineProperty(t,n,r),r},I=function(e,t){return function(n,i){t(n,i,e)}},x=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function r(e){try{l(i.next(e))}catch(t){s(t)}}function a(e){try{l(i["throw"](e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(r,a)}l((i=i.apply(e,t||[])).next())}))};const _=1500;class O{constructor(){this._data=new l["b"]}push(e,t){const n=this._data.get(e.uri);void 0===n?this._data.set(e.uri,new Set([t])):n.add(t)}pop(e,t){const n=this._data.get(e.uri);n&&(n.delete(t),0===n.size&&this._data.delete(e.uri))}has(e,t){var n;return Boolean(null===(n=this._data.get(e.uri))||void 0===n?void 0:n.has(t))}}function y(e,t,n,i){return x(this,void 0,void 0,(function*(){const o=[],r=f["s"].ordered(e).reverse(),a=r.map(r=>t.map(t=>x(this,void 0,void 0,(function*(){try{n.push(e,r);const s=yield r.provideInlayHints(e,t,i);(null===s||void 0===s?void 0:s.length)&&o.push(s.filter(e=>t.containsPosition(e.position)))}catch(a){Object(s["g"])(a)}finally{n.pop(e,r)}}))));return yield Promise.all(a.flat()),o.flat().sort((e,t)=>p["a"].compare(e.position,t.position))}))}class D{constructor(){this._entries=new l["a"](50)}get(e){const t=D._key(e);return this._entries.get(t)}set(e,t){const n=D._key(e);this._entries.set(n,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}let N=class e{constructor(t,n){this._editor=t,this._codeEditorService=n,this._decorationOwnerId=++e._decorationOwnerIdPool,this._disposables=new a["b"],this._sessionDisposables=new a["b"],this._getInlayHintsDelays=new b["b"](f["s"],25,500),this._cache=new D,this._decorations=new Map,this._disposables.add(f["s"].onDidChange(()=>this._update())),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(e=>{e.hasChanged(125)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(125).enabled)return;const e=this._editor.getModel();if(!e||!f["s"].has(e))return;const t=this._cache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t);const n=new O,s=new i["e"](()=>x(this,void 0,void 0,(function*(){const t=Date.now(),i=new o["b"];this._sessionDisposables.add(Object(a["i"])(()=>i.dispose(!0)));const r=this._getHintsRanges(),l=yield y(e,r,n,i.token);s.delay=this._getInlayHintsDelays.update(e,Date.now()-t),i.token.isCancellationRequested||(this._updateHintsDecorators(r,l),this._cache.set(e,Array.from(this._decorations.values()).map(e=>e.hint)))})),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(s),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>s.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>s.schedule())),s.schedule();const r=new a["b"];this._sessionDisposables.add(r);for(const i of f["s"].all(e))"function"===typeof i.onDidChangeInlayHints&&r.add(i.onDidChangeInlayHints(()=>{n.has(e,i)||s.schedule()}))}_getHintsRanges(){const e=30,t=this._editor.getModel(),n=this._editor.getVisibleRangesPlusViewportAboveBelow(),i=[];for(const o of n.sort(m["a"].compareRangesUsingStarts)){const n=t.validateRange(new m["a"](o.startLineNumber-e,o.startColumn,o.endLineNumber+e,o.endColumn));0!==i.length&&m["a"].areIntersectingOrTouching(i[i.length-1],n)?i[i.length-1]=m["a"].plusRange(i[i.length-1],n):i.push(n)}return i}_updateHintsDecorators(e,t){const{fontSize:n,fontFamily:i}=this._getLayoutInfo(),o=this._editor.getModel(),s=[],a=[],l="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(l,i);for(const u of t){const{text:e,position:t,whitespaceBefore:i,whitespaceAfter:d}=u,c=i?n/3|0:0,h=d?n/3|0:0,p={contentText:T(e),fontSize:n+"px",margin:`0px ${h}px 0px ${c}px`,fontFamily:`var(${l}), ${g["c"].fontFamily}`,padding:`1px ${0|Math.max(1,n/4)}px`,borderRadius:(n/4|0)+"px",verticalAlign:"middle",backgroundColor:Object(S["g"])(L["N"]),color:Object(S["g"])(L["O"])};u.kind===f["r"].Parameter?(p.backgroundColor=Object(S["g"])(L["P"]),p.color=Object(S["g"])(L["Q"])):u.kind===f["r"].Type&&(p.backgroundColor=Object(S["g"])(L["R"]),p.color=Object(S["g"])(L["S"]));let b={beforeInjectedText:Object.assign(Object.assign({},p),{affectsLetterSpacing:!0})},v=m["a"].fromPositions(t),C=o.getWordAtPosition(t),w=!1;C&&(C.endColumn===t.column?(b.afterInjectedText=b.beforeInjectedText,b.beforeInjectedText=void 0,w=!0,v=M(C,t.lineNumber)):C.startColumn===t.column&&(w=!0,v=M(C,t.lineNumber)));const I="inlayHints-"+Object(r["c"])(b).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",I,b,void 0,this._editor),s.push(I);const x=a.push({range:v,options:Object.assign(Object.assign({},this._codeEditorService.resolveDecorationOptions(I,!0)),{showIfCollapsed:!w,stickiness:0})});if(x>_)break}const d=[];for(const r of e)for(const{id:e}of o.getDecorationsInRange(r,this._decorationOwnerId,!0)){const t=this._decorations.get(e);t&&(d.push(e),this._codeEditorService.removeDecorationType(t.decorationTypeId),this._decorations.delete(e))}const c=o.deltaDecorations(d,a,this._decorationOwnerId);for(let r=0;r<c.length;r++)this._decorations.set(c[r],{hint:t[r],decorationTypeId:s[r]})}_getLayoutInfo(){const e=this._editor.getOption(125),t=this._editor.getOption(45);let n=e.fontSize;(!n||n<5||n>t)&&(n=.9*t|0);const i=e.fontFamily||this._editor.getOption(42);return{fontSize:n,fontFamily:i}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorations.keys()),[]);for(let e of this._decorations.values())this._codeEditorService.removeDecorationType(e.decorationTypeId);this._decorations.clear()}};function M(e,t){return new m["a"](t,e.startColumn,t,e.endColumn)}function T(e){const t=" ";return e.replace(/[ \t]/g,t)}N.ID="editor.contrib.InlayHints",N._decorationOwnerIdPool=0,N=w([I(1,h["a"])],N),Object(u["l"])(N.ID,N),C["a"].registerCommand("_executeInlayHintProvider",(e,...t)=>x(void 0,void 0,void 0,(function*(){const[n,i]=t;Object(d["c"])(c["a"].isUri(n)),Object(d["c"])(m["a"].isIRange(i));const s=yield e.get(v["a"]).createModelReference(n);try{const e=yield y(s.object.textEditorModel,[m["a"].lift(i)],new O,o["a"].None);return e}finally{s.dispose()}})))},f110:function(e,t,n){"use strict";n.r(t),n.d(t,"DuplicateSelectionAction",(function(){return N})),n.d(t,"AbstractSortLinesAction",(function(){return R})),n.d(t,"SortLinesAscendingAction",(function(){return k})),n.d(t,"SortLinesDescendingAction",(function(){return A})),n.d(t,"DeleteDuplicateLinesAction",(function(){return P})),n.d(t,"TrimTrailingWhitespaceAction",(function(){return j})),n.d(t,"DeleteLinesAction",(function(){return U})),n.d(t,"IndentLinesAction",(function(){return W})),n.d(t,"InsertLineBeforeAction",(function(){return F})),n.d(t,"InsertLineAfterAction",(function(){return z})),n.d(t,"AbstractDeleteAllToBoundaryAction",(function(){return K})),n.d(t,"DeleteAllLeftAction",(function(){return H})),n.d(t,"DeleteAllRightAction",(function(){return B})),n.d(t,"JoinLinesAction",(function(){return $})),n.d(t,"TransposeAction",(function(){return q})),n.d(t,"AbstractCaseAction",(function(){return G})),n.d(t,"UpperCaseAction",(function(){return Z})),n.d(t,"LowerCaseAction",(function(){return J})),n.d(t,"TitleCaseAction",(function(){return X})),n.d(t,"SnakeCaseAction",(function(){return Y}));var i=n("d3a2"),o=n("09c9"),s=n("ae58"),r=n("0fff"),a=n("c785"),l=n("b4a6"),d=n("ae41"),c=n("e0ab"),u=n("d8b0"),h=n("17e0"),g=n("7c05");class p{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let i=[];for(let s=n.startLineNumber;s<=n.endLineNumber;s++)i.push(e.getLineContent(s));const o=i.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new u["a"](n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new u["a"](n.startLineNumber,1,n.startLineNumber,1),o+"\n"):t.addEditOperation(new u["a"](n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=n.startLineNumber,t=n.startColumn,i=n.endLineNumber,o=n.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(i+=this._endLineNumberDelta,o=1),n=h["a"].createWithDirection(e,t,i,o,this._selectionDirection)}return n}}var m=n("1537"),f=n("8e1a"),b=n("1f8e"),v=n("6b8c"),C=n("a7ad");class L{constructor(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let i=this._selection;i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const{tabSize:o,indentSize:s,insertSpaces:r}=e.getOptions();let a=this.buildIndentConverter(o,s,r),l={getLineTokens:t=>e.getLineTokens(t),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(t,n)=>e.getLanguageIdAtPosition(t,n),getLineContent:null};if(i.startLineNumber===i.endLineNumber&&1===e.getLineMaxColumn(i.startLineNumber)){let n=i.startLineNumber,o=this._isMovingDown?n+1:n-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new u["a"](1,1,1,1),null):(t.addEditOperation(new u["a"](n,1,n,1),e.getLineContent(o)),t.addEditOperation(new u["a"](o,1,o,e.getLineMaxColumn(o)),null)),i=new h["a"](o,1,o,1)}else{let n,s;if(this._isMovingDown){n=i.endLineNumber+1,s=e.getLineContent(n),t.addEditOperation(new u["a"](n-1,e.getLineMaxColumn(n-1),n,e.getLineMaxColumn(n)),null);let d=s;if(this.shouldAutoIndent(e,i)){let c=this.matchEnterRule(e,a,o,n,i.startLineNumber-1);if(null!==c){let t=m["x"](e.getLineContent(n)),i=c+C["b"](t,o),a=C["a"](i,o,r);d=a+this.trimLeft(s)}else{l.getLineContent=t=>t===i.startLineNumber?e.getLineContent(n):e.getLineContent(t);let t=v["b"].getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(n,1),i.startLineNumber,a);if(null!==t){let i=m["x"](e.getLineContent(n)),a=C["b"](t,o),l=C["b"](i,o);if(a!==l){let e=C["a"](a,o,r);d=e+this.trimLeft(s)}}}t.addEditOperation(new u["a"](i.startLineNumber,1,i.startLineNumber,1),d+"\n");let h=this.matchEnterRuleMovingDown(e,a,o,i.startLineNumber,n,d);if(null!==h)0!==h&&this.getIndentEditsOfMovingBlock(e,t,i,o,r,h);else{l.getLineContent=t=>t===i.startLineNumber?d:t>=i.startLineNumber+1&&t<=i.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let s=v["b"].getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(n,1),i.startLineNumber+1,a);if(null!==s){const n=m["x"](e.getLineContent(i.startLineNumber)),a=C["b"](s,o),l=C["b"](n,o);if(a!==l){const n=a-l;this.getIndentEditsOfMovingBlock(e,t,i,o,r,n)}}}}else t.addEditOperation(new u["a"](i.startLineNumber,1,i.startLineNumber,1),d+"\n")}else if(n=i.startLineNumber-1,s=e.getLineContent(n),t.addEditOperation(new u["a"](n,1,n+1,1),null),t.addEditOperation(new u["a"](i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+s),this.shouldAutoIndent(e,i)){l.getLineContent=t=>t===n?e.getLineContent(i.startLineNumber):e.getLineContent(t);let s=this.matchEnterRule(e,a,o,i.startLineNumber,i.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,i,o,r,s);else{let s=v["b"].getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(i.startLineNumber,1),n,a);if(null!==s){let n=m["x"](e.getLineContent(i.startLineNumber)),a=C["b"](s,o),l=C["b"](n,o);if(a!==l){let n=a-l;this.getIndentEditsOfMovingBlock(e,t,i,o,r,n)}}}}}this._selectionId=t.trackSelection(i)}buildIndentConverter(e,t,n){return{shiftIndent:i=>f["a"].shiftIndent(i,i.length+1,e,t,n),unshiftIndent:i=>f["a"].unshiftIndent(i,i.length+1,e,t,n)}}parseEnterResult(e,t,n,i,o){if(o){let s=o.indentation;o.indentAction===b["b"].None||o.indentAction===b["b"].Indent?s=o.indentation+o.appendText:o.indentAction===b["b"].IndentOutdent?s=o.indentation:o.indentAction===b["b"].Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);let r=e.getLineContent(i);if(this.trimLeft(r).indexOf(this.trimLeft(s))>=0){let o=m["x"](e.getLineContent(i)),r=m["x"](s),a=v["b"].getIndentMetadata(e,i);null!==a&&2&a&&(r=t.unshiftIndent(r));let l=C["b"](r,n),d=C["b"](o,n);return l-d}}return null}matchEnterRuleMovingDown(e,t,n,i,o,s){if(m["I"](s)>=0){let s=e.getLineMaxColumn(o),r=v["b"].getEnterAction(this._autoIndent,e,new u["a"](o,s,o,s));return this.parseEnterResult(e,t,n,i,r)}{let o=i-1;while(o>=1){let t=e.getLineContent(o),n=m["I"](t);if(n>=0)break;o--}if(o<1||i>e.getLineCount())return null;let s=e.getLineMaxColumn(o),r=v["b"].getEnterAction(this._autoIndent,e,new u["a"](o,s,o,s));return this.parseEnterResult(e,t,n,i,r)}}matchEnterRule(e,t,n,i,o,s){let r=o;while(r>=1){let t;t=r===o&&void 0!==s?s:e.getLineContent(r);let n=m["I"](t);if(n>=0)break;r--}if(r<1||i>e.getLineCount())return null;let a=e.getLineMaxColumn(r),l=v["b"].getEnterAction(this._autoIndent,e,new u["a"](r,a,r,a));return this.parseEnterResult(e,t,n,i,l)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let n=e.getLanguageIdAtPosition(t.startLineNumber,1),i=e.getLanguageIdAtPosition(t.endLineNumber,1);return n===i&&null!==v["b"].getIndentRulesSupport(n)}getIndentEditsOfMovingBlock(e,t,n,i,o,s){for(let r=n.startLineNumber;r<=n.endLineNumber;r++){let a=e.getLineContent(r),l=m["x"](a),d=C["b"](l,i),c=d+s,h=C["a"](c,i,o);h!==l&&(t.addEditOperation(new u["a"](r,1,r,l.length+1),h),r===n.endLineNumber&&n.endColumn<=l.length+1&&""===h&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}}class S{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return S._COLLATOR||(S._COLLATOR=new Intl.Collator),S._COLLATOR}getEditOperations(e,t){let n=I(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,n){if(null===e)return!1;let i=w(e,t,n);if(!i)return!1;for(let o=0,s=i.before.length;o<s;o++)if(i.before[o]!==i.after[o])return!0;return!1}}function w(e,t,n){let i=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,i>=o)return null;let s=[];for(let a=i;a<=o;a++)s.push(e.getLineContent(a));let r=s.slice(0);return r.sort(S.getCollator().compare),!0===n&&(r=r.reverse()),{startLineNumber:i,endLineNumber:o,before:s,after:r}}function I(e,t,n){let i=w(e,t,n);return i?d["a"].replace(new u["a"](i.startLineNumber,1,i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),i.after.join("\n")):null}S._COLLATOR=null;var x=n("d4b5"),_=n("cd62");class O extends s["b"]{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map((e,t)=>({selection:e,index:t,ignore:!1}));n.sort((e,t)=>u["a"].compareRangesUsingStarts(e.selection,t.selection));let i=n[0];for(let s=1;s<n.length;s++){const e=n[s];i.selection.endLineNumber===e.selection.startLineNumber&&(i.index<e.index?e.ignore=!0:(i.ignore=!0,i=e))}const o=[];for(const s of n)o.push(new p(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class y extends O{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:x["a"]("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:x["a"]({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class D extends O{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:x["a"]("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:x["a"]({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class N extends s["b"]{constructor(){super({id:"editor.action.duplicateSelection",label:x["a"]("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:g["a"].writable,menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:x["a"]({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const i=[],o=t.getSelections(),s=t.getModel();for(const a of o)if(a.isEmpty())i.push(new p(a,!0));else{const e=new h["a"](a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);i.push(new r["c"](e,s.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class M extends s["b"]{constructor(e,t){super(t),this.down=e}run(e,t){let n=[],i=t.getSelections()||[];const o=t.getOption(9);for(const s of i)n.push(new L(s,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class T extends M{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:x["a"]("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:x["a"]({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class E extends M{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:x["a"]("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:_["b"].MenubarSelectionMenu,group:"2_line",title:x["a"]({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class R extends s["b"]{constructor(e,t){super(t),this.descending=e}run(e,t){const n=t.getSelections()||[];for(const o of n)if(!S.canRun(t.getModel(),o,this.descending))return;let i=[];for(let o=0,s=n.length;o<s;o++)i[o]=new S(n[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class k extends R{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:x["a"]("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:g["a"].writable})}}class A extends R{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:x["a"]("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:g["a"].writable})}}class P extends s["b"]{constructor(){super({id:"editor.action.removeDuplicateLines",label:x["a"]("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:g["a"].writable})}run(e,t){if(!t.hasModel())return;let n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let i=[],o=[],s=0;for(let r of t.getSelections()){let e=new Set,t=[];for(let i=r.startLineNumber;i<=r.endLineNumber;i++){let o=n.getLineContent(i);e.has(o)||(t.push(o),e.add(o))}let a=new h["a"](r.startLineNumber,1,r.endLineNumber,n.getLineMaxColumn(r.endLineNumber)),l=r.startLineNumber-s,c=new h["a"](l,1,l+t.length-1,t[t.length-1].length);i.push(d["a"].replace(a,t.join("\n"))),o.push(c),s+=r.endLineNumber-r.startLineNumber+1-t.length}t.pushUndoStop(),t.executeEdits(this.id,i,o),t.pushUndoStop()}}class j extends s["b"]{constructor(){super({id:j.ID,label:x["a"]("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:Object(i["c"])(2089,2102),weight:100}})}run(e,t,n){let i=[];"auto-save"===n.reason&&(i=(t.getSelections()||[]).map(e=>new c["a"](e.positionLineNumber,e.positionColumn)));let o=t.getSelection();if(null===o)return;let s=new a["a"](o,i);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}j.ID="editor.action.trimTrailingWhitespace";class U extends s["b"]{constructor(){super({id:"editor.action.deleteLines",label:x["a"]("lines.delete","Delete Line"),alias:"Delete Line",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let n=this._getLinesToRemove(t),i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;let o=0,s=[],r=[];for(let a=0,l=n.length;a<l;a++){const e=n[a];let t=e.startLineNumber,l=e.endLineNumber,c=1,u=i.getLineMaxColumn(l);l<i.getLineCount()?(l+=1,u=1):t>1&&(t-=1,c=i.getLineMaxColumn(t)),s.push(d["a"].replace(new h["a"](t,c,l,u),"")),r.push(new h["a"](t-o,e.positionColumn,t-o,e.positionColumn)),o+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}});t.sort((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber);let n=[],i=t[0];for(let o=1;o<t.length;o++)i.endLineNumber+1>=t[o].startLineNumber?i.endLineNumber=t[o].endLineNumber:(n.push(i),i=t[o]);return n.push(i),n}}class W extends s["b"]{constructor(){super({id:"editor.action.indentLines",label:x["a"]("lines.indent","Indent Line"),alias:"Indent Line",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:2137,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,l["a"].indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class V extends s["b"]{constructor(){super({id:"editor.action.outdentLines",label:x["a"]("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:2135,weight:100}})}run(e,t){o["CoreEditingCommands"].Outdent.runEditorCommand(e,t,null)}}class F extends s["b"]{constructor(){super({id:"editor.action.insertLineBefore",label:x["a"]("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,l["a"].lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}class z extends s["b"]{constructor(){super({id:"editor.action.insertLineAfter",label:x["a"]("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,l["a"].lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}class K extends s["b"]{run(e,t){if(!t.hasModel())return;const n=t.getSelection();let i=this._getRangesToDelete(t),o=[];for(let a=0,l=i.length-1;a<l;a++){let e=i[a],t=i[a+1];null===u["a"].intersectRanges(e,t)?o.push(e):i[a+1]=u["a"].plusRange(e,t)}o.push(i[i.length-1]);let s=this._getEndCursorState(n,o),r=o.map(e=>d["a"].replace(e,""));t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class H extends K{constructor(){super({id:"deleteAllLeft",label:x["a"]("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null,i=[],o=0;return t.forEach(t=>{let s;if(1===t.endColumn&&o>0){let e=t.startLineNumber-o;s=new h["a"](e,t.startColumn,e,t.startColumn)}else s=new h["a"](t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=s:i.push(s)}),n&&i.unshift(n),i}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let n=t,i=e.getModel();return null===i?[]:(n.sort(u["a"].compareRangesUsingStarts),n=n.map(e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:i.getLineContent(t).length+1;return new u["a"](t,n,e.startLineNumber,1)}return new u["a"](e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new u["a"](e.startLineNumber,1,e.endLineNumber,e.endColumn)}),n)}}class B extends K{constructor(){super({id:"deleteAllRight",label:x["a"]("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null,i=[];for(let o=0,s=t.length,r=0;o<s;o++){let s=t[o],a=new h["a"](s.startLineNumber-r,s.startColumn,s.startLineNumber-r,s.startColumn);s.intersectRanges(e)?n=a:i.push(a)}return n&&i.unshift(n),i}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let n=e.getSelections();if(null===n)return[];let i=n.map(e=>{if(e.isEmpty()){const n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new u["a"](e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new u["a"](e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e});return i.sort(u["a"].compareRangesUsingStarts),i}}class $ extends s["b"]{constructor(){super({id:"editor.action.joinLines",label:x["a"]("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let n=t.getSelections();if(null===n)return;let i=t.getSelection();if(null===i)return;n.sort(u["a"].compareRangesUsingStarts);let o=[],s=n.reduce((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new h["a"](e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new h["a"](e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn));o.push(s);let r=t.getModel();if(null===r)return;let a=[],l=[],c=i,g=0;for(let p=0,m=o.length;p<m;p++){let e,t,n=o[p],s=n.startLineNumber,m=1,f=0,b=r.getLineContent(n.endLineNumber).length-n.endColumn;if(n.isEmpty()||n.startLineNumber===n.endLineNumber){let i=n.getStartPosition();i.lineNumber<r.getLineCount()?(e=s+1,t=r.getLineMaxColumn(e)):(e=i.lineNumber,t=r.getLineMaxColumn(i.lineNumber))}else e=n.endLineNumber,t=r.getLineMaxColumn(e);let v=r.getLineContent(s);for(let i=s+1;i<=e;i++){let e=r.getLineContent(i),t=r.getLineFirstNonWhitespaceColumn(i);if(t>=1){let n=!0;""===v&&(n=!1),!n||" "!==v.charAt(v.length-1)&&"\t"!==v.charAt(v.length-1)||(n=!1,v=v.replace(/[\s\uFEFF\xA0]+$/g," "));let i=e.substr(t-1);v+=(n?" ":"")+i,f=n?i.length+1:i.length}else f=0}let C=new u["a"](s,m,e,t);if(!C.isEmpty()){let e;n.isEmpty()?(a.push(d["a"].replace(C,v)),e=new h["a"](C.startLineNumber-g,v.length-f+1,s-g,v.length-f+1)):n.startLineNumber===n.endLineNumber?(a.push(d["a"].replace(C,v)),e=new h["a"](n.startLineNumber-g,n.startColumn,n.endLineNumber-g,n.endColumn)):(a.push(d["a"].replace(C,v)),e=new h["a"](n.startLineNumber-g,n.startColumn,n.startLineNumber-g,v.length-b)),null!==u["a"].intersectRanges(C,i)?c=e:l.push(e)}g+=C.endLineNumber-C.startLineNumber}l.unshift(c),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}}class q extends s["b"]{constructor(){super({id:"editor.action.transpose",label:x["a"]("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:g["a"].writable})}run(e,t){let n=t.getSelections();if(null===n)return;let i=t.getModel();if(null===i)return;let o=[];for(let s=0,a=n.length;s<a;s++){let e=n[s];if(!e.isEmpty())continue;let t=e.getStartPosition(),a=i.getLineMaxColumn(t.lineNumber);if(t.column>=a){if(t.lineNumber===i.getLineCount())continue;let e=new u["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),n=i.getValueInRange(e).split("").reverse().join("");o.push(new r["a"](new h["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),n))}else{let e=new u["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),n=i.getValueInRange(e).split("").reverse().join("");o.push(new r["b"](e,n,new h["a"](t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class G extends s["b"]{run(e,t){const n=t.getSelections();if(null===n)return;const i=t.getModel();if(null===i)return;const o=t.getOption(115),s=[];for(const r of n)if(r.isEmpty()){const e=r.getStartPosition(),n=t.getConfiguredWordAtPosition(e);if(!n)continue;const a=new u["a"](e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),l=i.getValueInRange(a);s.push(d["a"].replace(a,this._modifyText(l,o)))}else{const e=i.getValueInRange(r);s.push(d["a"].replace(r,this._modifyText(e,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}}class Z extends G{constructor(){super({id:"editor.action.transformToUppercase",label:x["a"]("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:g["a"].writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class J extends G{constructor(){super({id:"editor.action.transformToLowercase",label:x["a"]("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:g["a"].writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class Q{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class X extends G{constructor(){super({id:"editor.action.transformToTitlecase",label:x["a"]("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:g["a"].writable})}_modifyText(e,t){const n=X.titleBoundary.get();return n?e.toLocaleLowerCase().replace(n,e=>e.toLocaleUpperCase()):e}}X.titleBoundary=new Q("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Y extends G{constructor(){super({id:"editor.action.transformToSnakecase",label:x["a"]("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:g["a"].writable})}_modifyText(e,t){const n=Y.caseBoundary.get(),i=Y.singleLetters.get();return n&&i?e.replace(n,"$1_$2").replace(i,"$1_$2$3").toLocaleLowerCase():e}}Y.caseBoundary=new Q("(\\p{Ll})(\\p{Lu})","gmu"),Y.singleLetters=new Q("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),Object(s["j"])(y),Object(s["j"])(D),Object(s["j"])(N),Object(s["j"])(T),Object(s["j"])(E),Object(s["j"])(k),Object(s["j"])(A),Object(s["j"])(P),Object(s["j"])(j),Object(s["j"])(U),Object(s["j"])(W),Object(s["j"])(V),Object(s["j"])(F),Object(s["j"])(z),Object(s["j"])(H),Object(s["j"])(B),Object(s["j"])($),Object(s["j"])(q),Object(s["j"])(Z),Object(s["j"])(J),Y.caseBoundary.isSupported()&&Y.singleLetters.isSupported()&&Object(s["j"])(Y),X.titleBoundary.isSupported()&&Object(s["j"])(X)}}]);