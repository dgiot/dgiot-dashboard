/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  Time: 2022-01-10 08:11:17
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors-dgiot-a6608125"],{"0ac4":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("450e"),o=i("23bc");class s extends o["a"]{constructor(e,t,i,n,o,s){super(e,t,i,n,o,s)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:Object(n["e"])(i.label)||i.id});return t}}},"2d6d":function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("4163"),o=i("47a8"),s=i("b8a2"),r=i("92db"),a=i("1537"),d=i("d8b0"),l=i("d778"),c=i("ca7e"),u=i("f1a2"),h=i("d4b5"),g=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};class p extends u["a"]{constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,Object(h["a"])("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),r["a"].None}provideWithTextEditor(e,t,i){const n=e.editor,o=this.getModel(n);return o?l["m"].has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):r["a"].None}doProvideWithoutEditorSymbols(e,t,i,n){const o=new r["b"];return this.provideLabelPick(i,Object(h["a"])("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{g(this,void 0,void 0,(function*(){const s=yield this.waitForLanguageSymbolRegistry(t,o);s&&!n.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(e,t,i,n))}))})(),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return g(this,void 0,void 0,(function*(){if(l["m"].has(e))return!0;let i;const n=new Promise(e=>i=e),o=t.add(l["m"].onDidChange(()=>{l["m"].has(e)&&(o.dispose(),i(!0))}));return t.add(Object(r["i"])(()=>i(!1))),n}))}doProvideWithEditorSymbols(e,t,i,o){const a=e.editor,d=new r["b"];d.add(i.onDidAccept(t=>{const[n]=i.selectedItems;n&&n.range&&(this.gotoLocation(e,{range:n.range.selection,keyMods:i.keyMods,preserveFocus:t.inBackground}),t.inBackground||i.hide())})),d.add(i.onDidTriggerItemButton(({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())}));const l=this.getDocumentSymbols(t,o);let c=void 0;const u=()=>g(this,void 0,void 0,(function*(){null===c||void 0===c||c.dispose(!0),i.busy=!1,c=new n["b"](o),i.busy=!0;try{const e=Object(s["b"])(i.value.substr(p.PREFIX.length).trim()),t=yield this.doGetSymbolPicks(l,e,void 0,c.token);if(o.isCancellationRequested)return;t.length>0?i.items=t:e.original.length>0?this.provideLabelPick(i,Object(h["a"])("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,Object(h["a"])("noSymbolResults","No editor symbols"))}finally{o.isCancellationRequested||(i.busy=!1)}}));d.add(i.onDidChangeValue(()=>u())),u();let m=!0;return d.add(i.onDidChangeActive(()=>{const[e]=i.activeItems;if(e&&e.range){if(m)return void(m=!1);a.revealRangeInCenter(e.range.selection,0),this.addDecorations(a,e.range.decoration)}})),d}doGetSymbolPicks(e,t,i,n){return g(this,void 0,void 0,(function*(){const r=yield e;if(n.isCancellationRequested)return[];const c=0===t.original.indexOf(p.SCOPE_PREFIX),u=c?1:0;let g,f;t.values&&t.values.length>1?(g=Object(s["a"])(t.values[0]),f=Object(s["a"])(t.values.slice(1))):g=t;const v=[];for(let e=0;e<r.length;e++){const n=r[e],c=Object(a["U"])(n.name),p=`$(symbol-${l["D"].toString(n.kind)||"property"}) ${c}`,m=p.length-c.length;let b=n.containerName;(null===i||void 0===i?void 0:i.extraContainerLabel)&&(b=b?`${i.extraContainerLabel} • ${b}`:i.extraContainerLabel);let C=void 0,S=void 0,_=void 0,w=void 0;if(t.original.length>u){let e=!1;if(g!==t&&([C,S]=Object(s["c"])(p,Object.assign(Object.assign({},t),{values:void 0}),u,m),"number"===typeof C&&(e=!0)),"number"!==typeof C&&([C,S]=Object(s["c"])(p,g,u,m),"number"!==typeof C))continue;if(!e&&f){if(b&&f.original.length>0&&([_,w]=Object(s["c"])(b,f)),"number"!==typeof _)continue;"number"===typeof C&&(C+=_)}}const L=n.tags&&n.tags.indexOf(1)>=0;v.push({index:e,kind:n.kind,score:C,label:p,ariaLabel:c,description:b,highlights:L?void 0:{label:S,description:w},range:{selection:d["a"].collapseToStart(n.selectionRange),decoration:n.range},strikethrough:L,buttons:(()=>{var e,t;const i=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=this.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(i)return[{iconClass:"right"===i?o["b"].splitHorizontal.classNames:o["b"].splitVertical.classNames,tooltip:"right"===i?Object(h["a"])("openToSide","Open to the Side"):Object(h["a"])("openToBottom","Open to the Bottom")}]})()})}const C=v.sort((e,t)=>c?this.compareByKindAndScore(e,t):this.compareByScore(e,t));let S=[];if(c){let e=void 0,t=void 0,i=0;function _(){t&&"number"===typeof e&&i>0&&(t.label=Object(a["v"])(b[e]||m,i))}for(const n of C)e!==n.kind?(_(),e=n.kind,i=1,t={type:"separator"},S.push(t)):i++,S.push(n);_()}else C.length>0&&(S=[{label:Object(h["a"])("symbols","symbols ({0})",v.length),type:"separator"},...C]);return S}))}compareByScore(e,t){if("number"!==typeof e.score&&"number"===typeof t.score)return 1;if("number"===typeof e.score&&"number"!==typeof t.score)return-1;if("number"===typeof e.score&&"number"===typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=b[e.kind]||m,n=b[t.kind]||m,o=i.localeCompare(n);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return g(this,void 0,void 0,(function*(){const i=yield c["a"].create(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}))}}p.PREFIX="@",p.SCOPE_PREFIX=":",p.PREFIX_BY_CATEGORY=`${p.PREFIX}${p.SCOPE_PREFIX}`;const m=Object(h["a"])("property","properties ({0})"),b={[5]:Object(h["a"])("method","methods ({0})"),[11]:Object(h["a"])("function","functions ({0})"),[8]:Object(h["a"])("_constructor","constructors ({0})"),[12]:Object(h["a"])("variable","variables ({0})"),[4]:Object(h["a"])("class","classes ({0})"),[22]:Object(h["a"])("struct","structs ({0})"),[23]:Object(h["a"])("event","events ({0})"),[24]:Object(h["a"])("operator","operators ({0})"),[10]:Object(h["a"])("interface","interfaces ({0})"),[2]:Object(h["a"])("namespace","namespaces ({0})"),[3]:Object(h["a"])("package","packages ({0})"),[25]:Object(h["a"])("typeParameter","type parameters ({0})"),[1]:Object(h["a"])("modules","modules ({0})"),[6]:Object(h["a"])("property","properties ({0})"),[9]:Object(h["a"])("enum","enumerations ({0})"),[21]:Object(h["a"])("enumMember","enumeration members ({0})"),[14]:Object(h["a"])("string","strings ({0})"),[0]:Object(h["a"])("file","files ({0})"),[17]:Object(h["a"])("array","arrays ({0})"),[15]:Object(h["a"])("number","numbers ({0})"),[16]:Object(h["a"])("boolean","booleans ({0})"),[18]:Object(h["a"])("object","objects ({0})"),[19]:Object(h["a"])("key","keys ({0})"),[7]:Object(h["a"])("field","fields ({0})"),[13]:Object(h["a"])("constant","constants ({0})")}},"40da":function(e,t,i){"use strict";i.r(t),i.d(t,"GhostTextController",(function(){return Fe})),i.d(t,"ActiveGhostTextController",(function(){return Ve})),i.d(t,"commitInlineSuggestionAction",(function(){return Ue})),i.d(t,"ShowNextInlineSuggestionAction",(function(){return Be})),i.d(t,"ShowPreviousInlineSuggestionAction",(function(){return qe})),i.d(t,"TriggerInlineSuggestionAction",(function(){return Ke}));var n=i("92db"),o=i("1537"),s=i("ae58"),r=i("51cd"),a=i("7c05");const d="editor.action.inlineSuggest.commit";var l=i("f295"),c=i("e0ab"),u=i("d778"),h=i("4b4a"),g=i("4163"),p=i("f123"),m=i("09c9"),b=i("ae41"),f=i("d8b0");class v{constructor(e,t,i=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=i}renderForScreenReader(e){if(0===this.parts.length)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1),n=S(i,this.parts.map(e=>({range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")})));return n.substring(this.parts[0].column-1)}}class C{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}function S(e,t){const i=new C(e),n=t.map(e=>{const t=f["a"].lift(e.range);return{startOffset:i.getOffset(t.getStartPosition()),endOffset:i.getOffset(t.getEndPosition()),text:e.text}});n.sort((e,t)=>t.startOffset-e.startOffset);for(const o of n)e=e.substring(0,o.startOffset)+o.text+e.substring(o.endOffset);return e}class _{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class w extends n["a"]{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new l["b"],this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(e=>{e.hasChanged(105)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var L=i("d5b7"),y=i("ea26");function x(e,t){return e===t||!(!e||!t)&&(e.range.equalsRange(t.range)&&e.text===t.text&&e.command===t.command)}function I(e,t,i,n,s=0){if(e.range.startLineNumber!==e.range.endLineNumber)return;const r=t.getLineContent(e.range.startLineNumber),a=o["x"](r).length,d=e.range.startColumn-1<=a;if(d){const t=o["x"](e.text).length,i=r.substring(e.range.startColumn-1,a),n=f["a"].fromPositions(e.range.getStartPosition().delta(0,i.length),e.range.getEndPosition()),s=e.text.startsWith(i)?e.text.substring(i.length):e.text.substring(t);e={range:n,text:s,command:e.command}}const l=t.getValueInRange(e.range),c=M(l,e.text);if(!c)return;const u=e.range.startLineNumber,h=new Array;if("prefix"===i){const e=c.filter(e=>0===e.originalLength);if(e.length>1||1===e.length&&e[0].originalStart!==l.length)return}const g=e.text.length-s;for(const p of c){const t=e.range.startColumn+p.originalStart+p.originalLength;if("subwordSmart"===i&&n&&n.lineNumber===e.range.startLineNumber&&t<n.column)return;if(p.originalLength>0)return;if(0===p.modifiedLength)continue;const s=p.modifiedStart+p.modifiedLength,r=Math.max(p.modifiedStart,Math.min(s,g)),a=e.text.substring(p.modifiedStart,r),d=e.text.substring(r,Math.max(p.modifiedStart,s));if(a.length>0){const e=o["Q"](a);h.push(new _(t,e,!1))}if(d.length>0){const e=o["Q"](d);h.push(new _(t,e,!0))}}return new v(u,h,0)}let O=void 0;function M(e,t){if((null===O||void 0===O?void 0:O.originalValue)===e&&(null===O||void 0===O?void 0:O.newValue)===t)return null===O||void 0===O?void 0:O.changes;{const i=N(e,t);return O={originalValue:e,newValue:t,changes:i},i}}function N(e,t){if(e.length>5e3||t.length>5e3)return;function i(e){let t=0;for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);n>t&&(t=n)}return t}const n=Math.max(i(e),i(t));function o(e){if(e<0)throw new Error("unexpected");return n+e+1}function s(e){let t=0,i=0;const n=new Int32Array(e.length);for(let s=0,r=e.length;s<r;s++){const r=100*i+t;"("===e[s]?(n[s]=o(2*r),t++):")"===e[s]?(n[s]=o(2*r+1),1===t&&i++,t=Math.max(t-1,0)):n[s]=e.charCodeAt(s)}return n}const r=s(e),a=s(t);return new y["a"]({getElements:()=>r},{getElements:()=>a}).ComputeDiff(!1).changes}var D=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},k=function(e,t){return function(i,n){t(i,n,e)}},T=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};let E=class extends n["a"]{constructor(e,t,i){super(),this.editor=e,this.cache=t,this.commandService=i,this.onDidChangeEmitter=new l["b"],this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new n["d"]),this.active=!1,this.disposed=!1,this._register(i.onDidExecuteCommand(t=>{const i=new Set([s["i"].id,s["g"].id,m["CoreEditingCommands"].Tab.id,m["CoreEditingCommands"].DeleteLeft.id,m["CoreEditingCommands"].DeleteRight.id,d,"acceptSelectedSuggestion"]);i.has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(e=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.session&&!this.session.isValid&&this.hide()})),this._register(Object(n["i"])(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){const e=this.editor.getOption(54);e.enabled&&(this.session&&this.session.isValid||this.trigger(u["t"].Automatic))}trigger(e){this.completionSession.value?e===u["t"].Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext():(this.completionSession.value=new R(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()})))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return T(this,void 0,void 0,(function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};E=D([k(2,L["b"])],E);class R extends w{constructor(e,t,i,o,s,r){super(e),this.triggerPosition=t,this.shouldUpdate=i,this.commandService=o,this.cache=s,this.initialTriggerKind=r,this.minReservedLineCount=0,this.updateOperation=this._register(new n["d"]),this.updateSoon=this._register(new h["e"](()=>{let e=this.initialTriggerKind;return this.initialTriggerKind=u["t"].Automatic,this.update(e)},50)),this.currentlySelectedCompletionId=void 0;let a=void 0;this._register(this.onDidChange(()=>{const e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==a){a=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,a)}})),this._register(Object(n["i"])(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.cache.value&&this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeModelContent(e=>{this.scheduleAutomaticUpdate()})),this._register(u["u"].onDidChange(()=>{this.updateSoon.schedule()})),this.scheduleAutomaticUpdate()}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex(e=>e.semanticId===this.currentlySelectedCompletionId);return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return T(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return T(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return T(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===u["t"].Explicit?yield this.updateOperation.value.promise:yield this.update(u["t"].Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==u["t"].Explicit&&(yield this.update(u["t"].Explicit))}))}hasMultipleInlineCompletions(){var e;return T(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1}))}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(54).mode;return e?I(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return T(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),i=Object(h["h"])(i=>T(this,void 0,void 0,(function*(){let n;try{n=yield H(t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},i)}catch(o){return void Object(p["f"])(o)}i.isCancellationRequested||(this.cache.setValue(this.editor,n,e),this.onDidChangeEmitter.fire())}))),n=new j(i,e);this.updateOperation.value=n,yield i,this.updateOperation.value===n&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[b["a"].replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{null===t||void 0===t||t.dispose()}).then(void 0,p["g"]):null===t||void 0===t||t.dispose(),this.onDidChangeEmitter.fire()}}class j{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class P extends n["a"]{constructor(e,t,i,o){super(),this.triggerKind=o;const s=e.deltaDecorations([],t.items.map(e=>({range:e.range,options:{description:"inline-completion-tracking-range"}})));this._register(Object(n["i"])(()=>{e.deltaDecorations(s,[])})),this.completions=t.items.map((e,t)=>new A(e,s[t])),this._register(e.onDidChangeModelContent(()=>{let t=!1;const n=e.getModel();for(const e of this.completions){const i=n.getDecorationRange(e.decorationId);i?e.synchronizedRange.equalsRange(i)||(t=!0,e.synchronizedRange=i):Object(p["f"])(new Error("Decoration has no range"))}t&&i()})),this._register(t)}}class A{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{text:this.inlineCompletion.text,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion}}}function F(e,t){const i=t.getWordAtPosition(e),n=t.getLineMaxColumn(e.lineNumber);return i?new f["a"](e.lineNumber,i.startColumn,e.lineNumber,n):f["a"].fromPositions(e,e.with(void 0,n))}function H(e,t,i,n=g["a"].None){return T(this,void 0,void 0,(function*(){const o=F(e,t),s=u["u"].all(t),r=yield Promise.all(s.map(o=>T(this,void 0,void 0,(function*(){const s=yield o.provideInlineCompletions(t,e,i,n);return{completions:s,provider:o,dispose:()=>{s&&o.freeInlineCompletions(s)}}})))),a=new Map;for(const e of r){const t=e.completions;if(t)for(const i of t.items.map(i=>({text:i.text,range:i.range?f["a"].lift(i.range):o,command:i.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:i})))i.range.startLineNumber===i.range.endLineNumber&&a.set(JSON.stringify({text:i.text,range:i.range}),i)}return{items:[...a.values()],dispose:()=>{for(const e of r)e.dispose()}}}))}function V(e,t){if(!t)return t;const i=e.getValueInRange(t.range),n=Object(o["d"])(i,t.text),s=e.getOffsetAt(t.range.getStartPosition())+n,r=e.getPositionAt(s),a=i.substr(n),d=Object(o["e"])(a,t.text),l=e.getPositionAt(Math.max(s,e.getOffsetAt(t.range.getEndPosition())-d));return{range:f["a"].fromPositions(r,l),text:t.text.substr(n,t.text.length-n-d)}}var W=i("1447"),U=i("ad22"),B=i("defa");function q(e,t){return{object:e,dispose:()=>null===t||void 0===t?void 0:t.dispose()}}function K(e,t){return(i,n)=>t(e(i),e(n))}function $(){return(e,t)=>e-t}function z(e,t){let i=void 0;for(const n of e)(void 0===i||t(n,i)>0)&&(i=n);return i}class G extends n["a"]{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentInlineCompletion=void 0,this.onDidChangeEmitter=new l["b"],this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new h["e"](()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const i=B["SuggestController"].get(this.editor);if(i){this._register(i.registerSelector({priority:100,select:(e,t,n)=>{const o=this.editor.getModel(),s=V(o,this.suggestControllerPreselector());if(!s)return-1;const r=c["a"].lift(t),a=n.map((e,t)=>{const n=J(i,r,e,this.isShiftKeyPressed),a=V(o,n);if(!a)return;const d=Z(s.range,a.range)&&s.text.startsWith(a.text);return{index:t,valid:d,prefixLength:a.text.length,suggestItem:e}}).filter(e=>e&&e.valid),d=z(a,K(e=>e.prefixLength,$()));return d?d.index:-1}}));let e=!1;const t=()=>{e||(e=!0,this._register(i.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(i.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(i.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(l["c"].once(i.model.onDidTrigger)(e=>{t()}))}this.update(this._isActive)}get state(){if(this._isActive)return{selectedItemAsInlineCompletion:this._currentInlineCompletion}}update(e){const t=this.getInlineCompletion();let i=!1;x(this._currentInlineCompletion,t)||(this._currentInlineCompletion=t,i=!0),this._isActive!==e&&(this._isActive=e,i=!0),i&&this.onDidChangeEmitter.fire()}getInlineCompletion(){const e=B["SuggestController"].get(this.editor);if(!e)return;if(!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();return t?J(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=B["SuggestController"].get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=B["SuggestController"].get(this.editor);e&&e.forceRenderingAbove()}}function Z(e,t){return e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&(e.endLineNumber<t.endLineNumber||e.endLineNumber===t.endLineNumber&&e.endColumn<=t.endColumn)}function J(e,t,i,n){if(Array.isArray(i.completion.additionalTextEdits)&&i.completion.additionalTextEdits.length>0)return{text:"",range:f["a"].fromPositions(t,t)};let{insertText:o}=i.completion;if(4&i.completion.insertTextRules){const i=(new W["c"]).parse(o),n=e.editor.getModel();if(i.children.length>100)return;U["a"].adjustWhitespace(n,t,i,!0,!0),o=i.toString()}const s=e.getOverwriteInfo(i,n);return{text:o,range:f["a"].fromPositions(t.delta(0,-s.overwriteBefore),t.delta(0,Math.max(s.overwriteAfter,0)))}}var X=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};class Y extends w{constructor(e,t){super(e),this.cache=t,this.suggestionInlineCompletionSource=this._register(new G(this.editor,()=>{var e,t;return null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()})),this.updateOperation=this._register(new n["d"]),this.updateCacheSoon=this._register(new h["e"](()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{this.updateCacheSoon.schedule();const e=this.suggestionInlineCompletionSource.state;e||(this.minReservedLineCount=0);const t=this.ghostText;t&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,Q(t.parts.map(e=>e.lines.length-1)))),this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(e=>{this.isSuggestionPreviewEnabled()&&(this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire())})),this._register(Object(n["i"])(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return void 0!==this.suggestionInlineCompletionSource.state}isSuggestionPreviewEnabled(){const e=this.editor.getOption(105);return e.preview}updateCache(){return X(this,void 0,void 0,(function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItemAsInlineCompletion)return;const t={text:e.selectedItemAsInlineCompletion.text,range:e.selectedItemAsInlineCompletion.range},i=this.editor.getPosition(),n=Object(h["h"])(e=>X(this,void 0,void 0,(function*(){let n;try{n=yield H(i,this.editor.getModel(),{triggerKind:u["t"].Automatic,selectedSuggestionInfo:t},e)}catch(o){return void Object(p["f"])(o)}e.isCancellationRequested||(this.cache.setValue(this.editor,n,u["t"].Automatic),this.onDidChangeEmitter.fire())}))),o=new j(n,u["t"].Automatic);this.updateOperation.value=o,yield n,this.updateOperation.value===o&&this.updateOperation.clear()}))}get ghostText(){var e,t;if(!this.isSuggestionPreviewEnabled())return;const i=this.suggestionInlineCompletionSource.state,n=V(this.editor.getModel(),null===i||void 0===i?void 0:i.selectedItemAsInlineCompletion),o=V(this.editor.getModel(),null===(t=null===(e=this.cache.value)||void 0===e?void 0:e.completions[0])||void 0===t?void 0:t.toLiveInlineCompletion()),s=o&&n&&o.text.startsWith(n.text)&&o.range.equalsRange(n.range)?o:n||o,r=n?((null===s||void 0===s?void 0:s.text.length)||0)-n.text.length:0,a=e=>{const t=this.editor.getOptions().get(105).previewMode;return e?I(e,this.editor.getModel(),t,this.editor.getPosition(),r)||new v(e.range.endLineNumber,[],this.minReservedLineCount):void 0},d=a(s);return d}}function Q(e){return e.reduce((e,t)=>e+t,0)}var ee=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},te=function(e,t){return function(i,n){t(i,n,e)}},ie=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};class ne extends n["a"]{constructor(){super(...arguments),this.onDidChangeEmitter=new l["b"],this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new n["d"])}get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?q(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let oe=class extends ne{constructor(e,t){super(),this.editor=e,this.commandService=t,this.sharedCache=this._register(new se),this.suggestWidgetAdapterModel=this._register(new Y(this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(new E(this.editor,this.sharedCache,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const i=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!i&&i.parts.some(t=>e.containsPosition(new c["a"](i.lineNumber,t.column)))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger(u["t"].Explicit)}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return ie(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};oe=ee([te(1,L["b"])],oe);class se extends n["a"]{constructor(){super(...arguments),this.onDidChangeEmitter=new l["b"],this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new n["d"])}get value(){return this.cache.value}setValue(e,t,i){this.cache.value=new P(e,t,()=>this.onDidChangeEmitter.fire(),i)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var re,ae=i("d208"),de=i("98ef"),le=(i("71bf"),i("a3d3")),ce=i("47f8"),ue=i("7be4"),he=i("966d"),ge=i("b521"),pe=i("0535"),me=i("12fe"),be=i("59e4"),fe=i("7a2d"),ve=i("e2ac"),Ce=i("6ad4"),Se=i("bf32"),_e=i("d1e2"),we=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Le=function(e,t){return function(i,n){t(i,n,e)}};const ye=null===(re=window.trustedTypes)||void 0===re?void 0:re.createPolicy("editorGhostText",{createHTML:e=>e});let xe=class extends n["a"]{constructor(e,t,i,o){super(),this.editor=e,this.model=t,this.instantiationService=i,this.modeService=o,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(Ie,this.editor)),this.additionalLinesWidget=this._register(new Me(this.editor,this.modeService.languageIdCodec)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration(e=>{(e.hasChanged(29)||e.hasChanged(104)||e.hasChanged(87)||e.hasChanged(82)||e.hasChanged(44)||e.hasChanged(43)||e.hasChanged(58))&&this.update()})),this._register(Object(n["i"])(()=>{var e;this.disposed=!0,this.update(),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const i=new Array,n=new Array;function o(e,t){if(n.length>0){const i=n[n.length-1];t&&i.decorations.push(new fe["a"](i.content.length+1,i.content.length+1+e[0].length,t,0)),i.content+=e[0],e=e.slice(1)}for(const i of e)n.push({content:i,decorations:t?[new fe["a"](1,i.length+1,t,0)]:[]})}const s=this.editor.getModel().getLineContent(t.lineNumber);this.editor.getModel().getLineTokens(t.lineNumber);let r=void 0,a=0;for(const d of t.parts){let e=d.lines;void 0===r?(i.push({column:d.column,text:e[0],preview:d.preview}),e=e.slice(1)):o([s.substring(a,d.column-1)],void 0),e.length>0&&(o(e,"ghost-text"),void 0===r&&d.column<=s.length&&(r=d.column)),a=d.column-1}void 0!==r&&o([s.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,i,void 0!==r?{column:r,length:s.length+1-r}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,n,t.additionalReservedLineCount),t.parts.some(e=>e.lines.length<0)?this.viewMoreContentWidget=this.renderViewMoreLines(new c["a"](t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,i){const o=this.editor.getOption(43),s=document.createElement("div");s.className="suggest-preview-additional-widget",le["a"].applyFontInfoSlow(s,o);const r=document.createElement("span");r.className="content-spacer",r.append(t),s.append(r);const a=document.createElement("span");a.className="content-newline suggest-preview-text",a.append("⏎  "),s.append(a);const d=new n["b"],l=document.createElement("div");return l.className="button suggest-preview-text",l.append(`+${i} lines…`),d.add(ae["o"](l,"mousedown",e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()})),s.append(l),new Te(this.editor,e,s,d)}};xe=we([Le(2,Se["a"]),Le(3,me["a"])],xe);let Ie=class{constructor(e,t,i,o){this.editor=e,this.codeEditorService=t,this.themeService=i,this.contextKeyService=o,this.decorationIds=[],this.disposableStore=new n["b"]}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,i){this.disposableStore.clear();const n=this.themeService.getColorTheme(),o=n.getColor(be["K"]);let s=void 0,r=void 0;o&&(s=String(o.rgba.a),r=de["a"].Format.CSS.format(Oe(o)));const a=n.getColor(be["J"]);let d=void 0;a&&(d="2px dashed "+a);const l=this.editor.getModel();if(!l)return;const{tabSize:u}=l.getOptions(),h=l.getLineContent(e)||"";let g=0,p="";const m=new Array;i&&m.push({range:f["a"].fromPositions(new c["a"](e,i.column),new c["a"](e,i.column+i.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const b=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),v=void 0===b||!!b;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map(t=>{p+=h.substring(g,t.column-1),g=t.column-1;const i=v?t.text:this.renderSingleLineText(t.text,p,u,!1),n=this.disposableStore.add(ke(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:i,opacity:s,color:r,border:d,fontWeight:t.preview?"bold":"normal"}}));return{range:f["a"].fromPositions(new c["a"](e,t.column)),options:v?{description:"ghost-text",after:{content:i,inlineClassName:t.preview?"ghost-text-decoration-preview":"ghost-text-decoration"},showIfCollapsed:!0}:Object.assign({},n.resolve())}}).concat(m))}renderSingleLineText(e,t,i,n){const o=t+e,s=he["a"].visibleColumnsByColumns(o,i);let r="",a=t.length+1;for(const d of e){if("\t"===d){const e=s[a+1]-s[a];if(n){r+="→";for(let t=1;t<e;t++)r+=" "}else for(let t=0;t<e;t++)r+=" "}else r+=" "===d?n?"·":" ":d;a+=1}return r}};function Oe(e){const{r:t,b:i,g:n}=e.rgba;return new de["a"](new de["c"](t,n,i,255))}Ie=we([Le(1,ce["a"]),Le(2,_e["b"]),Le(3,Ce["b"])],Ie);class Me{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,i){const n=this.editor.getModel();if(!n)return;const{tabSize:o}=n.getOptions();this.editor.changeViewZones(n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0);const s=Math.max(t.length,i);if(s>0){const i=document.createElement("div");Ne(i,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=n.addZone({afterLineNumber:e,heightInLines:s,domNode:i})}})}}function Ne(e,t,i,n,s){const r=n.get(29),a=n.get(104),d="none",l=n.get(82),c=n.get(44),u=n.get(43),h=n.get(58),g=Object(pe["a"])(1e4);g.appendASCIIString('<div class="suggest-preview-text">');for(let b=0,f=i.length;b<f;b++){const e=i[b],n=e.content;g.appendASCIIString('<div class="view-line'),g.appendASCIIString('" style="top:'),g.appendASCIIString(String(b*h)),g.appendASCIIString('px;width:1000000px;">');const p=o["A"](n),m=o["m"](n),f=ge["a"].createEmpty(n,s);Object(ve["d"])(new ve["c"](u.isMonospace&&!r,u.canUseHalfwidthRightwardsArrow,n,!1,p,m,0,f,e.decorations,t,0,u.spaceWidth,u.middotWidth,u.wsmiddotWidth,a,d,l,c!==ue["e"].OFF,null),g),g.appendASCIIString("</div>")}g.appendASCIIString("</div>"),le["a"].applyFontInfoSlow(e,u);const p=g.build(),m=ye?ye.createHTML(p):p;e.innerHTML=m}let De=0;function ke(e,t,i,n){const o=i+De++;return e.registerDecorationType(t,o,n),{dispose(){e.removeDecorationType(o)},resolve(){return e.resolveDecorationOptions(o,!0)}}}class Te extends n["a"]{constructor(e,t,i,o){super(),this.editor=e,this.position=t,this.domNode=i,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(o),this._register(Object(n["i"])(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}Object(_e["f"])((e,t)=>{const i=e.getColor(be["K"]);if(i){const e=String(i.rgba.a),n=de["a"].Format.CSS.format(Oe(i));t.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${e} !important; color: ${n} !important; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${i.toString()} !important; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${e} !important; color: ${n} !important; }`)}const n=e.getColor(be["J"]);n&&(t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${n}; }`),t.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${n}; }`),t.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${n}; }`))});var Ee=i("d4b5"),Re=i("f3a5"),je=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Pe=function(e,t){return function(i,n){t(i,n,e)}},Ae=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};let Fe=class e extends n["a"]{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new n["d"]),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(e=>{e.hasChanged(105)&&this.updateModelController(),e.hasChanged(54)&&this.updateModelController()})),this.updateModelController()}static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(105),t=this.editor.getOption(54);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Ve,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,i;return(null===(i=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===i?void 0:i.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Ae(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}};Fe.inlineSuggestionVisible=new Ce["c"]("inlineSuggestionVisible",!1,Ee["a"]("inlineSuggestionVisible","Whether an inline suggestion is visible")),Fe.inlineSuggestionHasIndentation=new Ce["c"]("inlineSuggestionHasIndentation",!1,Ee["a"]("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),Fe.inlineSuggestionHasIndentationLessThanTabSize=new Ce["c"]("inlineSuggestionHasIndentationLessThanTabSize",!0,Ee["a"]("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),Fe.ID="editor.contrib.ghostTextController",Fe=je([Pe(1,Se["a"])],Fe);class He{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=Fe.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=Fe.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=Fe.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Ve=class extends n["a"]{constructor(e,t,i){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.contextKeys=new He(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(oe,this.editor)),this.widget=this._register(this.instantiationService.createInstance(xe,this.editor,this.model)),this._register(Object(n["i"])(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));let t=!1,i=!0;const n=this.model.inlineCompletionsModel.ghostText;if(this.model.activeInlineCompletionsModel&&n&&n.parts.length>0){const{column:e,lines:s}=n.parts[0],a=s[0],d=this.editor.getModel().getLineIndentColumn(n.lineNumber),l=e<=d;if(l){let e=Object(o["u"])(a);-1===e&&(e=a.length-1),t=e>0;const n=this.editor.getModel().getOptions().tabSize,s=r["a"].visibleColumnFromColumn(a,e+1,n);i=s<n}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}};Ve=je([Pe(1,Se["a"]),Pe(2,Ce["b"])],Ve);const We=s["c"].bindToContribution(Fe.get),Ue=new We({id:d,precondition:Fe.inlineSuggestionVisible,handler(e){e.commit(),e.editor.focus()}});Object(s["k"])(Ue),Re["a"].registerKeybindingRule({primary:2,weight:200,id:Ue.id,when:Ce["a"].and(Ue.precondition,a["a"].tabMovesFocus.toNegated(),Fe.inlineSuggestionHasIndentationLessThanTabSize)}),Object(s["k"])(new We({id:"editor.action.inlineSuggest.hide",precondition:Fe.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class Be extends s["b"]{constructor(){super({id:Be.ID,label:Ee["a"]("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Ce["a"].and(a["a"].writable,Fe.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return Ae(this,void 0,void 0,(function*(){const e=Fe.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}}Be.ID="editor.action.inlineSuggest.showNext";class qe extends s["b"]{constructor(){super({id:qe.ID,label:Ee["a"]("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Ce["a"].and(a["a"].writable,Fe.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return Ae(this,void 0,void 0,(function*(){const e=Fe.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}}qe.ID="editor.action.inlineSuggest.showPrevious";class Ke extends s["b"]{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Ee["a"]("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:a["a"].writable})}run(e,t){return Ae(this,void 0,void 0,(function*(){const e=Fe.get(t);e&&e.trigger()}))}}Object(s["l"])(Fe.ID,Fe),Object(s["j"])(Ke),Object(s["j"])(Be),Object(s["j"])(qe)},"470c":function(e,t,i){"use strict";i.r(t),i.d(t,"LinkDetector",(function(){return P}));var n=i("4b4a"),o=i("4163"),s=i("f123"),r=i("6b5e"),a=i("92db"),d=i("dbd6"),l=i("cb4a"),c=i("1ff1"),u=i("c189"),h=(i("7c96"),i("ae58")),g=i("2f07"),p=i("d778"),m=i("9c55"),b=i("945a"),f=i("4d73"),v=i("d8b0"),C=i("1edf"),S=i("d5b7"),_=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};class w{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return _(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"===typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}))}}class L{constructor(e){this._disposables=new a["b"];let t=[];for(const[i,n]of e){const e=i.links.map(e=>new w(e,n));t=L._union(t,e),Object(a["g"])(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let i,n,o,s,r=[];for(i=0,o=0,n=e.length,s=t.length;i<n&&o<s;){const n=e[i],s=t[o];if(v["a"].areIntersectingOrTouching(n.range,s.range)){i++;continue}const a=v["a"].compareRangesUsingStarts(n.range,s.range);a<0?(r.push(n),i++):(r.push(s),o++)}for(;i<n;i++)r.push(e[i]);for(;o<s;o++)r.push(t[o]);return r}}function y(e,t){const i=[],n=p["v"].ordered(e).reverse().map((n,o)=>Promise.resolve(n.provideLinks(e,t)).then(e=>{e&&(i[o]=[e,n])},s["g"]));return Promise.all(n).then(()=>{const e=new L(Object(b["e"])(i));return t.isCancellationRequested?(e.dispose(),new L([])):e})}S["a"].registerCommand("_executeLinkProvider",(e,...t)=>_(void 0,void 0,void 0,(function*(){let[i,n]=t;Object(f["c"])(i instanceof u["a"]),"number"!==typeof n&&(n=0);const s=e.get(C["a"]).getModel(i);if(!s)return[];const r=yield y(s,o["a"].None);if(!r)return[];for(let e=0;e<Math.min(n,r.links.length);e++)yield r.links[e].resolve(o["a"].None);const a=r.links.slice(0);return r.dispose(),a})));var x=i("d4b5"),I=i("eb8f"),O=i("0aba"),M=i("f7fb"),N=i("d1e2"),D=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},k=function(e,t){return function(i,n){t(i,n,e)}},T=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};function E(e,t){const i=e.url&&/^command:/i.test(e.url.toString()),n=e.tooltip?e.tooltip:i?x["a"]("links.navigate.executeCmd","Execute command"):x["a"]("links.navigate.follow","Follow link"),o=t?l["f"]?x["a"]("links.navigate.kb.meta.mac","cmd + click"):x["a"]("links.navigate.kb.meta","ctrl + click"):l["f"]?x["a"]("links.navigate.kb.alt.mac","option + click"):x["a"]("links.navigate.kb.alt","alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const i=e.url.toString().match(/^command:([^?#]+)/);if(i){const e=i[1],n=x["a"]("tooltip.explanation","Execute command {0}",e);t=` "${n}"`}}const i=new r["a"]("",!0).appendMarkdown(`[${n}](${e.url.toString(!0).replace(/ /g,"%20")}${t}) (${o})`);return i}return(new r["a"]).appendText(`${n} (${o})`)}const R={general:g["b"].register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:g["b"].register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class j{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:j._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?R.active:R.general);return n.hoverMessage=E(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,j._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,j._getOptions(this.link,t,!1))}}let P=class e{constructor(e,t,i){this.listenersToRemove=new a["b"],this.editor=e,this.openerService=t,this.notificationService=i;let o=new m["a"](e);this.listenersToRemove.add(o),this.listenersToRemove.add(o.onMouseMoveOrRelevantKeyDown(([e,t])=>{this._onEditorMouseMove(e,t)})),this.listenersToRemove.add(o.onExecute(e=>{this.onEditorMouseUp(e)})),this.listenersToRemove.add(o.onCancel(e=>{this.cleanUpActiveLinkDecoration()})),this.enabled=e.getOption(62),this.listenersToRemove.add(e.onDidChangeConfiguration(t=>{const i=e.getOption(62);this.enabled!==i&&(this.enabled=i,this.updateDecorations([]),this.stop(),this.beginCompute())})),this.listenersToRemove.add(e.onDidChangeModelContent(e=>this.onChange())),this.listenersToRemove.add(e.onDidChangeModel(e=>this.onModelChanged())),this.listenersToRemove.add(e.onDidChangeModelLanguage(e=>this.onModelModeChanged())),this.listenersToRemove.add(p["v"].onDidChange(e=>this.onModelModeChanged())),this.timeout=new n["g"],this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet(()=>this.beginCompute(),e.RECOMPUTE_TIME)}beginCompute(){return T(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(p["v"].has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=n["h"](t=>y(e,t));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){Object(s["f"])(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(69);let i=[],n=Object.keys(this.currentOccurrences);for(let r=0,a=n.length;r<a;r++){let e=n[r],t=this.currentOccurrences[e];i.push(t.decorationId)}let o=[];if(e)for(const r of e)o.push(j.decoration(r,t));let s=this.editor.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let r=0,a=s.length;r<a;r++){let t=new j(e[r],s[r]);this.currentOccurrences[t.decorationId]=t}}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(69);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations(e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(69);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(i=>{t.deactivate(i,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:n}=e;n.resolve(o["a"].None).then(e=>{if("string"===typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===d["c"].file&&e.startsWith(d["c"].file+":")){const i=u["a"].parse(e);if(i.scheme===d["c"].file){const n=c["i"](i);let o=null;n.startsWith("/./")?o="."+n.substr(1):n.startsWith("//./")&&(o="."+n.substr(2)),o&&(e=c["g"](t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})},e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(x["a"]("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):"missing"===t?this.notificationService.warn(x["a"]("missing.url","Failed to open this link because its target is missing.")):Object(s["f"])(e)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const e=this.currentOccurrences[i.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};P.ID="editor.linkDetector",P.RECOMPUTE_TIME=1e3,P=D([k(1,O["a"]),k(2,I["a"])],P);class A extends h["b"]{constructor(){super({id:"editor.action.openLink",label:x["a"]("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=P.get(t);if(!i)return;if(!t.hasModel())return;let n=t.getSelections();for(let o of n){let e=i.getLinkOccurrence(o.getEndPosition());e&&i.openLinkOccurrence(e,!1)}}}Object(h["l"])(P.ID,P),Object(h["j"])(A),Object(N["f"])((e,t)=>{const i=e.getColor(M["q"]);i&&t.addRule(`.monaco-editor .detected-link-active { color: ${i} !important; }`)})},"5dad":function(e,t,i){"use strict";i.r(t),i.d(t,"TriggerParameterHintsAction",(function(){return Z}));var n=i("92db"),o=i("ae58"),s=i("7c05"),r=i("d778"),a=i("4163"),d=i("f123"),l=i("4d73"),c=i("c189"),u=i("e0ab"),h=i("d00e"),g=i("d5b7"),p=i("6ad4"),m=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};const b={Visible:new p["c"]("parameterHintsVisible",!1),MultipleSignatures:new p["c"]("parameterHintsMultipleSignatures",!1)};function f(e,t,i,n){return m(this,void 0,void 0,(function*(){const o=r["B"].ordered(e);for(const r of o)try{const o=yield r.provideSignatureHelp(e,t,n,i);if(o)return o}catch(s){Object(d["g"])(s)}}))}g["a"].registerCommand("_executeSignatureHelpProvider",(e,...t)=>m(void 0,void 0,void 0,(function*(){const[i,n,o]=t;Object(l["c"])(c["a"].isUri(i)),Object(l["c"])(u["a"].isIPosition(n)),Object(l["c"])("string"===typeof o||!o);const s=yield e.get(h["a"]).createModelReference(i);try{const e=yield f(s.object.textEditorModel,u["a"].lift(n),{triggerKind:r["C"].Invoke,isRetrigger:!1,triggerCharacter:o},a["a"].None);if(!e)return;return setTimeout(()=>e.dispose(),0),e.value}finally{s.dispose()}})));var v,C=i("d4b5"),S=i("bf32"),_=i("d208"),w=i("4d3c"),L=i("adab"),y=i("47a8"),x=i("f295"),I=i("1537"),O=(i("8599"),i("05a3")),M=i("12fe"),N=i("4b4a"),D=i("37e9"),k=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};(function(e){e.Default={type:0};class t{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}}e.Pending=t;class i{constructor(e){this.hints=e,this.type=1}}e.Active=i})(v||(v={}));class T extends n["a"]{constructor(e,t=T.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new x["b"]),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=v.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new n["d"]),this.triggerChars=new D["b"],this.retriggerChars=new D["b"],this.triggerId=0,this.editor=e,this.throttledDelayer=new N["a"](t),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(e=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(e=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(e=>this.onCursorChange(e))),this._register(this.editor.onDidChangeModelContent(e=>this.onModelContentChange())),this._register(r["B"].onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(e=>this.onDidType(e))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=v.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!r["B"].has(i))return;const n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(n),t).catch(d["f"])}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,n=this.editor.getOption(75).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,n=this.editor.getOption(75).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new v.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return k(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const n=this._pendingTriggers.reduce(E);this._pendingTriggers=[];const o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),r=this.editor.getPosition();this.state=new v.Pending(Object(N["h"])(e=>f(s,r,o,e)),i);try{const t=yield this.state.request;return e!==this.triggerId?(null===t||void 0===t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new v.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null===t||void 0===t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(a){return e===this.triggerId&&(this.state=v.Default),Object(d["f"])(a),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new D["b"],this.retriggerChars=new D["b"];const e=this.editor.getModel();if(e)for(const t of r["B"].ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:r["C"].TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:r["C"].ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:r["C"].ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(75).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function E(e,t){switch(t.triggerKind){case r["C"].Invoke:return t;case r["C"].ContentChange:return e;case r["C"].TriggerCharacter:default:return t}}T.DEFAULT_DELAY=120;var R=i("0aba"),j=i("f7fb"),P=i("6276"),A=i("040a"),F=i("d1e2"),H=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},V=function(e,t){return function(i,n){t(i,n,e)}};const W=_["a"],U=Object(P["b"])("parameter-hints-next",y["b"].chevronDown,C["a"]("parameterHintsNextIcon","Icon for show next parameter hint.")),B=Object(P["b"])("parameter-hints-previous",y["b"].chevronUp,C["a"]("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let q=class e extends n["a"]{constructor(e,t,i,o){super(),this.editor=e,this.renderDisposeables=this._register(new n["b"]),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new O["a"]({editor:e},o,i)),this.model=this._register(new T(e)),this.keyVisible=b.Visible.bindTo(t),this.keyMultipleSignatures=b.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(e=>{e?(this.show(),this.render(e)):this.hide()}))}createParameterHintDOMNodes(){const e=W(".editor-widget.parameter-hints-widget"),t=_["q"](e,W(".phwrapper"));t.tabIndex=-1;const i=_["q"](t,W(".controls")),n=_["q"](i,W(".button"+F["d"].asCSSSelector(B))),o=_["q"](i,W(".overloads")),s=_["q"](i,W(".button"+F["d"].asCSSSelector(U)));this._register(_["i"](n,"click",e=>{_["c"].stop(e),this.previous()})),this._register(_["i"](s,"click",e=>{_["c"].stop(e),this.next()}));const r=W(".body"),a=new L["a"](r,{});this._register(a),t.appendChild(a.getDomNode());const d=_["q"](r,W(".signature")),l=_["q"](r,W(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:d,overloads:o,docs:l,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(e=>{this.visible&&this.editor.layoutContentWidget(this)}));const c=()=>{if(!this.domNodes)return;const e=this.editor.getOption(43);this.domNodes.element.style.fontSize=e.fontSize+"px",this.domNodes.element.style.lineHeight=""+e.lineHeight/e.fontSize};c(),this._register(x["c"].chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(e=>e.hasChanged(43)).on(c,null)),this._register(this.editor.onDidLayoutChange(e=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const n=e.signatures[e.activeSignature];if(!n)return;const o=_["q"](this.domNodes.signature,W(".code")),s=this.editor.getOption(43);o.style.fontSize=s.fontSize+"px",o.style.fontFamily=s.fontFamily;const r=n.parameters.length>0,a=null!==(t=n.activeParameter)&&void 0!==t?t:e.activeParameter;if(r)this.renderParameters(o,n,a);else{const e=_["q"](o,W("span"));e.textContent=n.label}const d=n.parameters[a];if(null===d||void 0===d?void 0:d.documentation){const e=W("span.documentation");if("string"===typeof d.documentation)e.textContent=d.documentation;else{const t=this.renderMarkdownDocs(d.documentation);e.appendChild(t.element)}_["q"](this.domNodes.docs,W("p",{},e))}if(void 0===n.documentation);else if("string"===typeof n.documentation)_["q"](this.domNodes.docs,W("p",{},n.documentation));else{const e=this.renderMarkdownDocs(n.documentation);_["q"](this.domNodes.docs,e.element)}const l=this.hasDocs(n,d);if(this.domNodes.signature.classList.toggle("has-docs",l),this.domNodes.docs.classList.toggle("empty",!l),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,d){let e="";const t=n.parameters[a];e=Array.isArray(t.label)?n.label.substring(t.label[0],t.label[1]):t.label,t.documentation&&(e+="string"===typeof t.documentation?", "+t.documentation:", "+t.documentation.value),n.documentation&&(e+="string"===typeof n.documentation?", "+n.documentation:", "+n.documentation.value),this.announcedLabel!==e&&(w["a"](C["a"]("hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"===typeof t.documentation&&Object(l["a"])(t.documentation).length>0)||(!!(t&&"object"===typeof t.documentation&&Object(l["a"])(t.documentation).value.length>0)||(!!(e.documentation&&"string"===typeof e.documentation&&Object(l["a"])(e.documentation).length>0)||!!(e.documentation&&"object"===typeof e.documentation&&Object(l["a"])(e.documentation.value).length>0)))}renderParameters(e,t,i){const[n,o]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,n);const r=document.createElement("span");r.textContent=t.label.substring(n,o),r.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(o),_["q"](e,s,r,a)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const t=new RegExp(`(\\W|^)${Object(I["t"])(i.label)}(?=\\W|$)`,"g");t.test(e.label);const n=t.lastIndex-i.label.length;return n>=0?[n,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=Math.max(this.editor.getLayoutInfo().height/4,250),t=e+"px";this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};q.ID="editor.widget.parameterHintsWidget",q=H([V(1,p["b"]),V(2,R["a"]),V(3,M["a"])],q);const K=Object(j["Cc"])("editorHoverWidget.highlightForeground",{dark:j["Ob"],light:j["Ob"],hc:j["Ob"]},C["a"]("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));Object(F["f"])((e,t)=>{const i=e.getColor(j["F"]);if(i){const n=e.type===A["a"].HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${i.transparent(.5)}; }`)}const n=e.getColor(j["E"]);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=e.getColor(j["Pc"]);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const s=e.getColor(j["Oc"]);s&&t.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${s}; }`);const r=e.getColor(j["G"]);r&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const a=e.getColor(j["Nc"]);a&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${a}; }`);const d=e.getColor(K);d&&t.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${d}}`)});var $=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},z=function(e,t){return function(i,n){t(i,n,e)}};let G=class e extends n["a"]{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(q,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};G.ID="editor.controller.parameterHints",G=$([z(1,S["a"])],G);class Z extends o["b"]{constructor(){super({id:"editor.action.triggerParameterHints",label:C["a"]("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:s["a"].hasSignatureHelpProvider,kbOpts:{kbExpr:s["a"].editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=G.get(t);i&&i.trigger({triggerKind:r["C"].Invoke})}}Object(o["l"])(G.ID,G),Object(o["j"])(Z);const J=175,X=o["c"].bindToContribution(G.get);Object(o["k"])(new X({id:"closeParameterHints",precondition:b.Visible,handler:e=>e.cancel(),kbOpts:{weight:J,kbExpr:s["a"].focus,primary:9,secondary:[1033]}})),Object(o["k"])(new X({id:"showPrevParameterHint",precondition:p["a"].and(b.Visible,b.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:J,kbExpr:s["a"].focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Object(o["k"])(new X({id:"showNextParameterHint",precondition:p["a"].and(b.Visible,b.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:J,kbExpr:s["a"].focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},"637e":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("92db"),o=i("80f8"),s=i("f1a2"),r=i("d4b5");class a extends s["a"]{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=Object(r["a"])("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,n["a"].None}provideWithTextEditor(e,t,i){const s=e.editor,r=new n["b"];r.add(t.onDidAccept(i=>{const[n]=t.selectedItems;if(n){if(!this.isValidLineNumber(s,n.lineNumber))return;this.gotoLocation(e,{range:this.toRange(n.lineNumber,n.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}}));const d=()=>{const e=this.parsePosition(s,t.value.trim().substr(a.PREFIX.length)),i=this.getPickLabel(s,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(s,e.lineNumber))return void this.clearDecorations(s);const n=this.toRange(e.lineNumber,e.column);s.revealRangeInCenter(n,0),this.addDecorations(s,n)};d(),r.add(t.onDidChangeValue(()=>d()));const l=Object(o["a"])(s);if(l){const e=l.getOptions(),t=e.get(59);2===t.renderType&&(l.updateOptions({lineNumbers:"on"}),r.add(Object(n["i"])(()=>l.updateOptions({lineNumbers:"relative"}))))}return r}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map(e=>parseInt(e,10)).filter(e=>!isNaN(e)),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?Object(r["a"])("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):Object(r["a"])("gotoLineLabel","Go to line {0}.",t);const n=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?Object(r["a"])("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",n.lineNumber,n.column,o):Object(r["a"])("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",n.lineNumber,n.column)}isValidLineNumber(e,t){return!(!t||"number"!==typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,i){if(!i||"number"!==typeof i)return!1;const n=this.getModel(e);if(!n)return!1;const o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}a.PREFIX=":"},"644f":function(e,t,i){"use strict";i.r(t),i.d(t,"getReindentEditOperations",(function(){return f})),i.d(t,"IndentationToSpacesAction",(function(){return v})),i.d(t,"IndentationToTabsAction",(function(){return C})),i.d(t,"ChangeIndentationSizeAction",(function(){return S})),i.d(t,"IndentUsingTabs",(function(){return _})),i.d(t,"IndentUsingSpaces",(function(){return w})),i.d(t,"DetectIndentation",(function(){return L})),i.d(t,"ReindentLinesAction",(function(){return y})),i.d(t,"ReindentSelectedLinesAction",(function(){return x})),i.d(t,"AutoIndentOnPasteCommand",(function(){return I})),i.d(t,"AutoIndentOnPaste",(function(){return O})),i.d(t,"IndentationToSpacesCommand",(function(){return N})),i.d(t,"IndentationToTabsCommand",(function(){return D}));var n=i("92db"),o=i("1537"),s=i("ae58"),r=i("8e1a"),a=i("ae41"),d=i("d8b0"),l=i("17e0"),c=i("7c05"),u=i("2f07"),h=i("6b8c"),g=i("1edf"),p=i("a7ad"),m=i("d4b5"),b=i("60a0");function f(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];const s=h["b"].getIndentationRules(e.getLanguageId());if(!s)return[];i=Math.min(i,e.getLineCount());while(t<=i){if(!s.unIndentedLinePattern)break;let i=e.getLineContent(t);if(!s.unIndentedLinePattern.test(i))break;t++}if(t>i-1)return[];const{tabSize:d,indentSize:c,insertSpaces:g}=e.getOptions(),p=(e,t)=>(t=t||1,r["a"].shiftIndent(e,e.length+t,d,c,g)),m=(e,t)=>(t=t||1,r["a"].unshiftIndent(e,e.length+t,d,c,g));let b,f=[],v=e.getLineContent(t),C=v;if(void 0!==n&&null!==n){b=n;let e=o["x"](v);C=b+v.substring(e.length),s.decreaseIndentPattern&&s.decreaseIndentPattern.test(C)&&(b=m(b),C=b+v.substring(e.length)),v!==C&&f.push(a["a"].replaceMove(new l["a"](t,1,t,e.length+1),u["c"].normalizeIndentation(b,c,g)))}else b=o["x"](v);let S=b;s.increaseIndentPattern&&s.increaseIndentPattern.test(C)?(S=p(S),b=p(b)):s.indentNextLinePattern&&s.indentNextLinePattern.test(C)&&(S=p(S)),t++;for(let r=t;r<=i;r++){let t=e.getLineContent(r),i=o["x"](t),n=S+t.substring(i.length);s.decreaseIndentPattern&&s.decreaseIndentPattern.test(n)&&(S=m(S),b=m(b)),i!==S&&f.push(a["a"].replaceMove(new l["a"](r,1,r,i.length+1),u["c"].normalizeIndentation(S,c,g))),s.unIndentedLinePattern&&s.unIndentedLinePattern.test(t)||(s.increaseIndentPattern&&s.increaseIndentPattern.test(n)?(b=p(b),S=b):S=s.indentNextLinePattern&&s.indentNextLinePattern.test(n)?p(S):b)}return f}class v extends s["b"]{constructor(){super({id:v.ID,label:m["a"]("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:c["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new N(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}v.ID="editor.action.indentationToSpaces";class C extends s["b"]{constructor(){super({id:C.ID,label:m["a"]("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:c["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new D(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}C.ID="editor.action.indentationToTabs";class S extends s["b"]{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const i=e.get(b["a"]),n=e.get(g["a"]);let o=t.getModel();if(!o)return;const s=n.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),r=[1,2,3,4,5,6,7,8].map(e=>({id:e.toString(),label:e.toString(),description:e===s.tabSize?m["a"]("configuredTabSize","Configured Tab Size"):void 0})),a=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{i.pick(r,{placeHolder:m["a"]({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:r[a]}).then(e=>{e&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})})},50)}}class _ extends S{constructor(){super(!1,{id:_.ID,label:m["a"]("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}_.ID="editor.action.indentUsingTabs";class w extends S{constructor(){super(!0,{id:w.ID,label:m["a"]("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}w.ID="editor.action.indentUsingSpaces";class L extends s["b"]{constructor(){super({id:L.ID,label:m["a"]("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(g["a"]);let n=t.getModel();if(!n)return;const o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}L.ID="editor.action.detectIndentation";class y extends s["b"]{constructor(){super({id:"editor.action.reindentlines",label:m["a"]("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:c["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=f(i,1,i.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}}class x extends s["b"]{constructor(){super({id:"editor.action.reindentselectedlines",label:m["a"]("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:c["a"].writable})}run(e,t){let i=t.getModel();if(!i)return;let n=t.getSelections();if(null===n)return;let o=[];for(let s of n){let e=s.startLineNumber,t=s.endLineNumber;if(e!==t&&1===s.endColumn&&t--,1===e){if(e===t)continue}else e--;let n=f(i,e,t);o.push(...n)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class I{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&"string"===typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(d["a"].lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class O{constructor(e){this.callOnDispose=new n["b"],this.callOnModel=new n["b"],this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(47)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)}))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const i=this.editor.getModel();if(!i)return;if(!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(9),{tabSize:s,indentSize:a,insertSpaces:l}=i.getOptions();let c=[],u={shiftIndent:e=>r["a"].shiftIndent(e,e.length+1,s,a,l),unshiftIndent:e=>r["a"].unshiftIndent(e,e.length+1,s,a,l)},g=e.startLineNumber;while(g<=e.endLineNumber){if(!this.shouldIgnoreLine(i,g))break;g++}if(g>e.endLineNumber)return;let m=i.getLineContent(g);if(!/\S/.test(m.substring(0,e.startColumn-1))){const e=h["b"].getGoodIndentForLine(n,i,i.getLanguageId(),g,u);if(null!==e){let t=o["x"](m),n=p["b"](e,s),r=p["b"](t,s);if(n!==r){let e=p["a"](n,s,l);c.push({range:new d["a"](g,1,g,t.length+1),text:e}),m=e+m.substr(t.length)}else{let e=h["b"].getIndentMetadata(i,g);if(0===e||8===e)return}}}const b=g;while(g<e.endLineNumber){if(/\S/.test(i.getLineContent(g+1)))break;g++}if(g!==e.endLineNumber){let t={getLineTokens:e=>i.getLineTokens(e),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t),getLineContent:e=>e===b?m:i.getLineContent(e)},r=h["b"].getGoodIndentForLine(n,t,i.getLanguageId(),g+1,u);if(null!==r){let t=p["b"](r,s),n=p["b"](o["x"](i.getLineContent(g+1)),s);if(t!==n){let r=t-n;for(let t=g+1;t<=e.endLineNumber;t++){let e=i.getLineContent(t),n=o["x"](e),a=p["b"](n,s),u=a+r,h=p["a"](u,s,l);h!==n&&c.push({range:new d["a"](t,1,t,n.length+1),text:h})}}}}if(c.length>0){this.editor.pushUndoStop();let e=new I(c,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let n=e.getLineTokens(t);if(n.getCount()>0){let e=n.findTokenIndexAtOffset(i);if(e>=0&&1===n.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function M(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let r=0;r<i;r++)o+=" ";let s=new RegExp(o,"gi");for(let r=1,a=e.getLineCount();r<=a;r++){let i=e.getLineFirstNonWhitespaceColumn(r);if(0===i&&(i=e.getLineMaxColumn(r)),1===i)continue;const a=new d["a"](r,1,r,i),l=e.getValueInRange(a),c=n?l.replace(/\t/gi,o):l.replace(s,"\t");t.addEditOperation(a,c)}}O.ID="editor.contrib.autoIndentOnPaste";class N{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),M(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class D{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),M(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Object(s["l"])(O.ID,O),Object(s["j"])(v),Object(s["j"])(C),Object(s["j"])(_),Object(s["j"])(w),Object(s["j"])(L),Object(s["j"])(y),Object(s["j"])(x)},"71bf":function(e,t,i){},"71d9":function(e,t,i){"use strict";i.r(t);var n=i("4b4a"),o=i("f123"),s=i("5e2a"),r=i("ae58"),a=i("d8b0"),d=i("17e0"),l=i("7c05"),c=i("2f07"),u=i("6fc9"),h=i("59e4"),g=i("d4b5"),p=i("d1e2");class m{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations(),n=i[0].range;return this._originalSelection.isEmpty()?new d["a"](n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new d["a"](n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}var b=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},f=function(e,t){return function(i,n){t(i,n,e)}};let v=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();const r=this.editor.getSelection(),l=this.editor.getModel();if(!l||!r)return;let c=r;if(c.startLineNumber!==c.endLineNumber)return;const u=new s["a"](this.editor,5),h=l.uri;return this.editorWorkerService.canNavigateValueSet(h)?(this.currentRequest=Object(n["h"])(e=>this.editorWorkerService.navigateValueSet(h,c,i)),this.currentRequest.then(i=>{if(!i||!i.range||!i.value)return;if(!u.validate(this.editor))return;let s=a["a"].lift(i.range),r=i.range,l=i.value.length-(c.endColumn-c.startColumn);r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.startColumn+i.value.length},l>1&&(c=new d["a"](c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn+l-1));const h=new m(s,c,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,h),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:r,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Object(n["n"])(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(o["f"])}).catch(o["f"])):Promise.resolve(void 0)}};v.ID="editor.contrib.inPlaceReplaceController",v.DECORATION=c["b"].register({description:"in-place-replace",className:"valueSetReplacement"}),v=b([f(1,u["a"])],v);class C extends r["b"]{constructor(){super({id:"editor.action.inPlaceReplace.up",label:g["a"]("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:l["a"].writable,kbOpts:{kbExpr:l["a"].editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=v.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}class S extends r["b"]{constructor(){super({id:"editor.action.inPlaceReplace.down",label:g["a"]("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:l["a"].writable,kbOpts:{kbExpr:l["a"].editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=v.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}Object(r["l"])(v.ID,v),Object(r["j"])(C),Object(r["j"])(S),Object(p["f"])((e,t)=>{const i=e.getColor(h["k"]);i&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${i}; }`)})},7584:function(e,t,i){"use strict";i.r(t),i.d(t,"InsertCursorAbove",(function(){return w})),i.d(t,"InsertCursorBelow",(function(){return L})),i.d(t,"MultiCursorSessionResult",(function(){return O})),i.d(t,"MultiCursorSession",(function(){return M})),i.d(t,"MultiCursorSelectionController",(function(){return N})),i.d(t,"MultiCursorSelectionControllerAction",(function(){return D})),i.d(t,"AddSelectionToNextFindMatchAction",(function(){return k})),i.d(t,"AddSelectionToPreviousFindMatchAction",(function(){return T})),i.d(t,"MoveSelectionToNextFindMatchAction",(function(){return E})),i.d(t,"MoveSelectionToPreviousFindMatchAction",(function(){return R})),i.d(t,"SelectHighlightsAction",(function(){return j})),i.d(t,"CompatChangeAll",(function(){return P})),i.d(t,"SelectionHighlighter",(function(){return F}));var n=i("4d3c"),o=i("4b4a"),s=i("d3a2"),r=i("92db"),a=i("ae58"),d=i("6d98"),l=i("d8b0"),c=i("17e0"),u=i("7c05"),h=i("3a12"),g=i("2f07"),p=i("d778"),m=i("9678"),b=i("d4b5"),f=i("cd62"),v=i("6ad4"),C=i("f7fb"),S=i("d1e2");function _(e,t){const i=t.filter(t=>!e.find(e=>e.equals(t)));if(i.length>=1){const e=i.map(e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`).join(", "),t=1===i.length?b["a"]("cursorAdded","Cursor added: {0}",e):b["a"]("cursorsAdded","Cursors added: {0}",e);Object(n["c"])(t)}}class w extends a["b"]{constructor(){super({id:"editor.action.insertCursorAbove",label:b["a"]("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:u["a"].editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:f["b"].MenubarSelectionMenu,group:"3_multi",title:b["a"]({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&!1===i.logicalLine&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,d["b"].addCursorUp(o,s,n)),o.revealTopMostCursor(i.source),_(s,o.getCursorStates())}}class L extends a["b"]{constructor(){super({id:"editor.action.insertCursorBelow",label:b["a"]("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:u["a"].editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:f["b"].MenubarSelectionMenu,group:"3_multi",title:b["a"]({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&!1===i.logicalLine&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const s=o.getCursorStates();o.setCursorStates(i.source,3,d["b"].addCursorDown(o,s,n)),o.revealBottomMostCursor(i.source),_(s,o.getCursorStates())}}class y extends a["b"]{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:b["a"]("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:u["a"].editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:f["b"].MenubarSelectionMenu,group:"3_multi",title:b["a"]({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){let e=t.getLineMaxColumn(n);i.push(new c["a"](n,e,n,e))}e.endColumn>1&&i.push(new c["a"](e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),s=o.getCursorStates();let r=[];n.forEach(e=>this.getCursorsForSelection(e,i,r)),r.length>0&&t.setSelections(r),_(s,o.getCursorStates())}}class x extends a["b"]{constructor(){super({id:"editor.action.addCursorsToBottom",label:b["a"]("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=t.getModel().getLineCount();let o=[];for(let a=i[0].startLineNumber;a<=n;a++)o.push(new c["a"](a,i[0].startColumn,a,i[0].endColumn));const s=t._getViewModel(),r=s.getCursorStates();o.length>0&&t.setSelections(o),_(r,s.getCursorStates())}}class I extends a["b"]{constructor(){super({id:"editor.action.addCursorsToTop",label:b["a"]("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections();let n=[];for(let r=i[0].startLineNumber;r>=1;r--)n.push(new c["a"](r,i[0].startColumn,r,i[0].endColumn));const o=t._getViewModel(),s=o.getCursorStates();n.length>0&&t.setSelections(n),_(s,o.getCursorStates())}}class O{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class M{constructor(e,t,i,n,o,s,r){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=s,this.currentMatch=r}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new M(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n,o,s=!1;const r=e.getSelections();1===r.length&&r[0].isEmpty()?(s=!0,n=!0,o=!0):(n=i.wholeWord,o=i.matchCase);const a=e.getSelection();let d,l=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;d=t.word,l=new c["a"](a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else d=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new M(e,t,s,d,n,o,l)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new O(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new O(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return i?new c["a"](i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new O(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new O(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return i?new c["a"](i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}}class N extends r["a"]{constructor(e){super(),this._sessionDispose=this._register(new r["b"]),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(N.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=M.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(e=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(e=>{(e.matchCase||e.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new c["a"](t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const i=e.getState(),n=i.matchCase,o=H(this._editor.getModel(),t,n);if(!o){const e=this._editor.getModel();let i=[];for(let n=0,o=t.length;n<o;n++)i[n]=this._expandEmptyToWord(e,t[n]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){const e=i.searchScope;let n=[];t.forEach(t=>{e.forEach(e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&n.push(t)})}),t=n}if(t.length>0){const e=this._editor.getSelection();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.range.intersectRanges(e);if(o){t[i]=t[0],t[0]=n;break}}this._setSelections(t.map(e=>new c["a"](e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)))}}}N.ID="editor.contrib.multiCursorController";class D extends a["b"]{run(e,t){const i=N.get(t);if(!i)return;const n=m["CommonFindController"].get(t);if(!n)return;const o=t._getViewModel();if(o){const e=o.getCursorStates();this._run(i,n),_(e,o.getCursorStates())}}}class k extends D{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:b["a"]("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:u["a"].focus,primary:2082,weight:100},menuOpts:{menuId:f["b"].MenubarSelectionMenu,group:"3_multi",title:b["a"]({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class T extends D{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:b["a"]("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:f["b"].MenubarSelectionMenu,group:"3_multi",title:b["a"]({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class E extends D{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:b["a"]("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:u["a"].focus,primary:Object(s["c"])(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class R extends D{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:b["a"]("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class j extends D{constructor(){super({id:"editor.action.selectHighlights",label:b["a"]("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:u["a"].focus,primary:3114,weight:100},menuOpts:{menuId:f["b"].MenubarSelectionMenu,group:"3_multi",title:b["a"]({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class P extends D{constructor(){super({id:"editor.action.changeAll",label:b["a"]("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:v["a"].and(u["a"].writable,u["a"].editorTextFocus),kbOpts:{kbExpr:u["a"].editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class A{constructor(e,t,i,n){this.searchText=e,this.matchCase=t,this.wordSeparators=i,this.modelVersionId=n}static softEquals(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}}class F extends r["a"]{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(96),this.decorations=[],this.updateSoon=this._register(new o["e"](()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(t=>{this._isEnabled=e.getOption(96)})),this._register(e.onDidChangeCursorSelection(e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(e=>{this._setState(null)})),this._register(e.onDidChangeModelContent(e=>{this._isEnabled&&this.updateSoon.schedule()})),this._register(m["CommonFindController"].get(e).getState().onFindReplaceStateChange(e=>{this._update()}))}_update(){this._setState(F._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;const i=t.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;const n=N.get(t);if(!n)return null;const o=m["CommonFindController"].get(t);if(!o)return null;let s=n.getSession(o);if(!s){const e=t.getSelections();if(e.length>1){const i=o.getState(),n=i.matchCase,s=H(t.getModel(),e,n);if(!s)return null}s=M.create(t,o)}if(!s)return null;if(s.currentMatch)return null;if(/^[ \t]+$/.test(s.searchText))return null;if(s.searchText.length>200)return null;const r=o.getState(),a=r.matchCase;if(r.isRevealed){let e=r.searchString;a||(e=e.toLowerCase());let t=s.searchText;if(a||(t=t.toLowerCase()),e===t&&s.matchCase===r.matchCase&&s.wholeWord===r.wholeWord&&!r.isRegex)return null}return new A(s.searchText,s.matchCase,s.wholeWord?t.getOption(115):null,t.getModel().getVersionId())}_setState(e){if(A.softEquals(this.state,e))return void(this.state=e);if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=p["i"].has(t)&&this.editor.getOption(71);let n=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map(e=>e.range);n.sort(l["a"].compareRangesUsingStarts);let o=this.editor.getSelections();o.sort(l["a"].compareRangesUsingStarts);let s=[];for(let a=0,d=0,c=n.length,u=o.length;a<c;){const e=n[a];if(d>=u)s.push(e),a++;else{const t=l["a"].compareRangesUsingStarts(e,o[d]);t<0?(!o[d].isEmpty()&&l["a"].areIntersecting(e,o[d])||s.push(e),a++):(t>0||a++,d++)}}const r=s.map(e=>({range:e,options:i?F._SELECTION_HIGHLIGHT:F._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,r)}dispose(){this._setState(null),super.dispose()}}function H(e,t,i){const n=V(e,t[0],!i);for(let o=1,s=t.length;o<s;o++){const s=t[o];if(s.isEmpty())return!1;const r=V(e,s,!i);if(n!==r)return!1}return!0}function V(e,t,i){const n=e.getValueInRange(t);return i?n.toLowerCase():n}F.ID="editor.contrib.selectionHighlighter",F._SELECTION_HIGHLIGHT_OVERVIEW=g["b"].register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:Object(S["g"])(C["ic"]),position:h["f"].Inline},overviewRuler:{color:Object(S["g"])(C["pc"]),position:h["g"].Center}}),F._SELECTION_HIGHLIGHT=g["b"].register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),Object(a["l"])(N.ID,N),Object(a["l"])(F.ID,F),Object(a["j"])(w),Object(a["j"])(L),Object(a["j"])(y),Object(a["j"])(k),Object(a["j"])(T),Object(a["j"])(E),Object(a["j"])(R),Object(a["j"])(j),Object(a["j"])(P),Object(a["j"])(x),Object(a["j"])(I)},7772:function(e,t,i){},"7c96":function(e,t,i){},8008:function(e,t,i){"use strict";i.r(t),i.d(t,"CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE",(function(){return I})),i.d(t,"LinkedEditingContribution",(function(){return M})),i.d(t,"LinkedEditingAction",(function(){return N})),i.d(t,"editorLinkedEditingBackground",(function(){return T}));var n=i("945a"),o=i("4b4a"),s=i("4163"),r=i("98ef"),a=i("f123"),d=i("92db"),l=i("1537"),c=i("c189"),u=i("ae58"),h=i("47f8"),g=i("e0ab"),p=i("d8b0"),m=i("7c05"),b=i("2f07"),f=i("d778"),v=i("6b8c"),C=i("d4b5"),S=i("6ad4"),_=i("f7fb"),w=i("d1e2"),L=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},y=function(e,t){return function(i,n){t(i,n,e)}},x=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};const I=new S["c"]("LinkedEditingInputVisible",!1),O="linked-editing-decoration";let M=class e extends d["a"]{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new d["b"]),this._editor=e,this._enabled=!1,this._visibleContextKey=I.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new d["b"]),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(e=>{(e.hasChanged(61)||e.hasChanged(81))&&this.reinitialize(!1)})),this._register(f["w"].onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(61)||this._editor.getOption(81))&&f["w"].has(t);if(i===this._enabled&&!e)return;if(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t)return;this._languageWordPattern=v["b"].getWordDefinition(t.getLanguageId()),this._localToDispose.add(t.onDidChangeLanguageConfiguration(()=>{this._languageWordPattern=v["b"].getWordDefinition(t.getLanguageId())}));const n=new o["a"](this._debounceDuration),s=()=>{this._rangeUpdateTriggerPromise=n.trigger(()=>this.updateRanges(),this._debounceDuration)},r=new o["a"](0),a=e=>{this._rangeSyncTriggerPromise=r.trigger(()=>this._syncRanges(e))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{s()})),this._localToDispose.add(this._editor.onDidChangeModelContent(e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const i=t.getDecorationRange(this._currentDecorations[0]);if(i&&e.changes.every(e=>i.intersectRanges(e.range)))return void a(this._currentDecorations)}s()})),this._localToDispose.add({dispose:()=>{n.cancel(),r.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const e=n.match(this._currentWordPattern),t=e?e[0].length:0;if(t!==n.length)return this.clearRanges()}let o=[];for(let s=1,r=e.length;s<r;s++){const i=t.getDecorationRange(e[s]);if(i)if(i.startLineNumber!==i.endLineNumber)o.push({range:i,text:n});else{let e=t.getValueInRange(i),s=n,r=i.startColumn,a=i.endColumn;const d=l["d"](e,s);r+=d,e=e.substr(d),s=s.substr(d);const c=l["e"](e,s);a-=c,e=e.substr(0,e.length-c),s=s.substr(0,s.length-c),r===a&&0===s.length||o.push({range:new p["a"](i.startLineNumber,r,i.endLineNumber,a),text:s})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return x(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),s=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=n.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(i))return}}this._currentRequestPosition=i,this._currentRequestModelVersion=s;const r=Object(o["h"])(t=>x(this,void 0,void 0,(function*(){try{const o=yield k(n,i,t);if(r!==this._currentRequest)return;if(this._currentRequest=null,s!==n.getVersionId())return;let a=[];(null===o||void 0===o?void 0:o.ranges)&&(a=o.ranges),this._currentWordPattern=(null===o||void 0===o?void 0:o.wordPattern)||this._languageWordPattern;let d=!1;for(let e=0,t=a.length;e<t;e++)if(p["a"].containsPosition(a[e],i)){if(d=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!d)return void this.clearRanges();const l=a.map(t=>({range:t,options:e.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,l)}catch(o){Object(a["e"])(o)||Object(a["f"])(o),this._currentRequest!==r&&this._currentRequest||this.clearRanges()}})));return this._currentRequest=r,r}))}};M.ID="editor.contrib.linkedEditing",M.DECORATION=b["b"].register({description:"linked-editing",stickiness:0,className:O}),M=L([y(1,S["b"])],M);class N extends u["b"]{constructor(){super({id:"editor.action.linkedEditing",label:C["a"]("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:S["a"].and(m["a"].writable,m["a"].hasRenameProvider),kbOpts:{kbExpr:m["a"].editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(h["a"]),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return c["a"].isUri(n)&&g["a"].isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then(e=>{e&&(e.setPosition(o),e.invokeWithinContext(t=>(this.reportTelemetry(t,e),this.run(t,e))))},a["f"]):super.runCommand(e,t)}run(e,t){const i=M.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const D=u["c"].bindToContribution(M.get);function k(e,t,i){const s=f["w"].ordered(e);return Object(o["j"])(s.map(n=>()=>x(this,void 0,void 0,(function*(){try{return yield n.provideLinkedEditingRanges(e,t,i)}catch(o){return void Object(a["g"])(o)}}))),e=>!!e&&n["n"](null===e||void 0===e?void 0:e.ranges))}Object(u["k"])(new D({id:"cancelLinkedEditingInput",precondition:I,handler:e=>e.clearRanges(),kbOpts:{kbExpr:m["a"].editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const T=Object(_["Cc"])("editor.linkedEditingBackground",{dark:r["a"].fromHex("#f00").transparent(.3),light:r["a"].fromHex("#f00").transparent(.3),hc:r["a"].fromHex("#f00").transparent(.3)},C["a"]("editorLinkedEditingBackground","Background color when the editor auto renames on type."));Object(w["f"])((e,t)=>{const i=e.getColor(T);i&&t.addRule(`.monaco-editor .${O} { background: ${i}; border-left-color: ${i}; }`)}),Object(u["n"])("_executeLinkedEditingProvider",(e,t)=>k(e,t,s["a"].None)),Object(u["l"])(M.ID,M),Object(u["j"])(N)},8599:function(e,t,i){},"8ec0":function(e,t,i){"use strict";i.d(t,"a",(function(){return w})),i.d(t,"b",(function(){return L})),i.d(t,"d",(function(){return x})),i.d(t,"c",(function(){return O})),i.d(t,"p",(function(){return M})),i.d(t,"q",(function(){return N})),i.d(t,"r",(function(){return D})),i.d(t,"e",(function(){return k})),i.d(t,"j",(function(){return T})),i.d(t,"l",(function(){return E})),i.d(t,"k",(function(){return R})),i.d(t,"n",(function(){return j})),i.d(t,"o",(function(){return P})),i.d(t,"f",(function(){return A})),i.d(t,"g",(function(){return F})),i.d(t,"m",(function(){return H})),i.d(t,"h",(function(){return V})),i.d(t,"i",(function(){return W}));var n=i("d208"),o=i("dfc8"),s=i("8a8f"),r=i("47a8"),a=i("98ef"),d=i("f295"),l=i("91f4"),c=(i("7772"),i("ae58")),u=i("47f8"),h=i("22a8"),g=i("c2b7"),p=i("d4b5"),m=i("5b7f"),b=i("6ad4"),f=i("3f3e"),v=i("bf32"),C=i("f7fb"),S=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},_=function(e,t){return function(i,n){t(i,n,e)}};const w=Object(v["c"])("IPeekViewService");var L;Object(f["b"])(w,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());const n=()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))};this._widgets.set(e,{widget:t,listener:t.onDidClose(n)})}}),function(e){e.inPeekEditor=new b["c"]("inReferenceSearchEditor",!0,p["a"]("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),e.notInPeekEditor=e.inPeekEditor.toNegated()}(L||(L={}));let y=class{constructor(e,t){e instanceof h["a"]&&L.inPeekEditor.bindTo(t)}dispose(){}};function x(e){let t=e.get(u["a"]).getFocusedCodeEditor();return t instanceof h["a"]?t.getParentEditor():t}y.ID="editor.contrib.referenceController",y=S([_(1,b["b"])],y),Object(c["l"])(y.ID,y);const I={headerBackgroundColor:a["a"].white,primaryHeadingColor:a["a"].fromHex("#333333"),secondaryHeadingColor:a["a"].fromHex("#6c6c6cb3")};let O=class extends g["a"]{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new d["b"],this.onDidClose=this._onDidClose.event,l["f"](this.options,I,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=n["a"](".head"),this._bodyElement=n["a"](".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=n["a"](".peekview-title");this.options.supportOnTitleClick&&(i.classList.add("clickable"),n["o"](i,"click",e=>this._onTitleClick(e))),n["q"](this._headElement,i),this._fillTitleIcon(i),this._primaryHeading=n["a"]("span.filename"),this._secondaryHeading=n["a"]("span.dirname"),this._metaHeading=n["a"]("span.meta"),n["q"](i,this._primaryHeading,this._secondaryHeading,this._metaHeading);const a=n["a"](".peekview-actions");n["q"](this._headElement,a);const d=this._getActionBarOptions();this._actionbarWidget=new o["a"](a,d),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new s["a"]("peekview.close",p["a"]("label.close","Close"),r["b"].close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:m["b"].bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:n["t"](this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,n["W"](this._metaHeading)):n["K"](this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const i=Math.ceil(1.2*this.editor.getOption(58)),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=e+"px",this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=e+"px")}};O=S([_(2,v["a"])],O);const M=Object(C["Cc"])("peekViewTitle.background",{dark:Object(C["Rc"])(C["M"],.1),light:Object(C["Rc"])(C["M"],.1),hc:null},p["a"]("peekViewTitleBackground","Background color of the peek view title area.")),N=Object(C["Cc"])("peekViewTitleLabel.foreground",{dark:a["a"].white,light:a["a"].black,hc:a["a"].white},p["a"]("peekViewTitleForeground","Color of the peek view title.")),D=Object(C["Cc"])("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hc:"#FFFFFF99"},p["a"]("peekViewTitleInfoForeground","Color of the peek view title info.")),k=Object(C["Cc"])("peekView.border",{dark:C["M"],light:C["M"],hc:C["h"]},p["a"]("peekViewBorder","Color of the peek view borders and arrow.")),T=Object(C["Cc"])("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:a["a"].black},p["a"]("peekViewResultsBackground","Background color of the peek view result list.")),E=Object(C["Cc"])("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:a["a"].white},p["a"]("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),R=Object(C["Cc"])("peekViewResult.fileForeground",{dark:a["a"].white,light:"#1E1E1E",hc:a["a"].white},p["a"]("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),j=Object(C["Cc"])("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},p["a"]("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),P=Object(C["Cc"])("peekViewResult.selectionForeground",{dark:a["a"].white,light:"#6C6C6C",hc:a["a"].white},p["a"]("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),A=Object(C["Cc"])("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:a["a"].black},p["a"]("peekViewEditorBackground","Background color of the peek view editor.")),F=Object(C["Cc"])("peekViewEditorGutter.background",{dark:A,light:A,hc:A},p["a"]("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),H=Object(C["Cc"])("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},p["a"]("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),V=Object(C["Cc"])("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},p["a"]("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),W=Object(C["Cc"])("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:C["b"]},p["a"]("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},"90d4":function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i("4d3c"),o=i("4b4a"),s=i("92db"),r=(i("c4d7"),i("ae58")),a=i("d8b0"),d=i("d4b5"),l=i("6ad4"),c=i("f7fb"),u=i("040a"),h=i("d1e2"),g=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},p=function(e,t){return function(i,n){t(i,n,e)}};let m=class e{constructor(t,i){this._messageWidget=new s["d"],this._messageListeners=new s["b"],this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(e.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let i;Object(n["a"])(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new f(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new o["g"](()=>this.closeMessage(),3e3)),this._messageListeners.add(this._editor.onMouseMove(e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new a["a"](t.lineNumber-3,1,e.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(f.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(d["a"]("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};m.ID="editor.contrib.messageController",m.MESSAGE_VISIBLE=new l["c"]("messageVisible",!1,d["a"]("messageVisible","Whether the editor is currently showing an inline message")),m=g([p(1,l["b"])],m);const b=r["c"].bindToContribution(m.get);Object(r["k"])(new b({id:"leaveEditorMessage",precondition:m.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class f{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const s=document.createElement("div");s.classList.add("message"),s.textContent=n,this._domNode.appendChild(s);const r=document.createElement("div");r.classList.add("anchor","below"),this._domNode.appendChild(r),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}Object(r["l"])(m.ID,m),Object(h["f"])((e,t)=>{const i=e.getColor(c["ub"]);if(i){let n=e.type===u["a"].HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${n}px solid ${i}; }`)}const n=e.getColor(c["tb"]);n&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${n}; }`);const o=e.getColor(c["vb"]);o&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${o}; }`)})},"9ef8":function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var n=i("d208"),o=i("6b5e"),s=i("92db"),r=i("05a3"),a=i("d8b0"),d=i("12fe"),l=i("d93f"),c=i("40da"),u=i("d4b5"),h=i("0af7"),g=i("cd62"),p=i("d5b7"),m=i("6ad4"),b=i("0aba"),f=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},v=function(e,t){return function(i,n){t(i,n,e)}};class C{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}}let S=class{constructor(e,t,i,n,o,s,r,a){this._editor=e,this._hover=t,this._commandService=i,this._menuService=n,this._contextKeyService=o,this._modeService=s,this._openerService=r,this.accessibilityService=a}suggestHoverAnchor(e){const t=c["GhostTextController"].get(this._editor);if(!t)return null;if(8===e.target.type){const i=e.target.detail;if(t.shouldShowHoverAtViewZone(i.viewZoneId))return new l["a"](1e3,this,a["a"].fromPositions(i.positionBefore||i.position,i.positionBefore||i.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new l["a"](1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail){const i=e.target.detail.mightBeForeignElement;if(i&&t.shouldShowHoverAt(e.target.range))return new l["a"](1e3,this,e.target.range)}return null}computeSync(e,t){const i=c["GhostTextController"].get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new C(this,e.range,i)]:[]}renderHoverParts(e,t,i){const n=new s["b"],o=e[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(o,t,n);const r=n.add(this._menuService.createMenu(g["b"].InlineCompletionsActions,this._contextKeyService)),a=i.addAction({label:u["a"]("showNextInlineSuggestion","Next"),commandId:c["ShowNextInlineSuggestionAction"].ID,run:()=>this._commandService.executeCommand(c["ShowNextInlineSuggestionAction"].ID)}),d=i.addAction({label:u["a"]("showPreviousInlineSuggestion","Previous"),commandId:c["ShowPreviousInlineSuggestionAction"].ID,run:()=>this._commandService.executeCommand(c["ShowPreviousInlineSuggestionAction"].ID)});i.addAction({label:u["a"]("acceptInlineSuggestion","Accept"),commandId:c["commitInlineSuggestionAction"].id,run:()=>this._commandService.executeCommand(c["commitInlineSuggestionAction"].id)});const l=[a,d];for(const s of l)s.setEnabled(!1);o.hasMultipleSuggestions().then(e=>{for(const t of l)t.setEnabled(e)});for(const[s,c]of r.getActions())for(const e of c)e instanceof g["c"]&&i.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return n}renderScreenReaderText(e,t,i){var s,a;const d=n["a"],l=d("div.hover-row.markdown-hover"),c=n["q"](l,d("div.hover-contents")),h=i.add(new r["a"]({editor:this._editor},this._modeService,this._openerService)),g=e=>{i.add(h.onDidRenderAsync(()=>{c.className="hover-contents code-hover-contents",this._hover.onContentsChanged()}));const t=u["a"]("inlineSuggestionFollows","Suggestion:"),n=i.add(h.render((new o["a"]).appendText(t).appendCodeblock("text",e)));c.replaceChildren(n.element)},p=null===(a=null===(s=e.controller.activeModel)||void 0===s?void 0:s.inlineCompletionsModel)||void 0===a?void 0:a.ghostText;if(p){const e=this._editor.getModel().getLineContent(p.lineNumber);g(p.renderForScreenReader(e))}t.appendChild(l)}};S=f([v(2,p["b"]),v(3,g["a"]),v(4,m["b"]),v(5,d["a"]),v(6,b["a"]),v(7,h["b"])],S)},a7ad:function(e,t,i){"use strict";function n(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function o(e,t,i){e=e<0?0:e;let n="";if(!i){let i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)n+="\t"}for(let o=0;o<e;o++)n+=" ";return n}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return o}))},b309:function(e,t,i){"use strict";i.r(t),i.d(t,"getInlayHints",(function(){return O})),i.d(t,"InlayHintsController",(function(){return N}));var n=i("4b4a"),o=i("4163"),s=i("f123"),r=i("f28f"),a=i("92db"),d=i("1a26"),l=i("4d73"),c=i("c189"),u=i("ae58"),h=i("47f8"),g=i("7be4"),p=i("e0ab"),m=i("d8b0"),b=i("d778"),f=i("0650"),v=i("d00e"),C=i("d5b7"),S=i("f7fb"),_=i("d1e2"),w=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},L=function(e,t){return function(i,n){t(i,n,e)}},y=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function r(e){try{d(n.next(e))}catch(t){s(t)}}function a(e){try{d(n["throw"](e))}catch(t){s(t)}}function d(e){e.done?i(e.value):o(e.value).then(r,a)}d((n=n.apply(e,t||[])).next())}))};const x=1500;class I{constructor(){this._data=new d["b"]}push(e,t){const i=this._data.get(e.uri);void 0===i?this._data.set(e.uri,new Set([t])):i.add(t)}pop(e,t){const i=this._data.get(e.uri);i&&(i.delete(t),0===i.size&&this._data.delete(e.uri))}has(e,t){var i;return Boolean(null===(i=this._data.get(e.uri))||void 0===i?void 0:i.has(t))}}function O(e,t,i,n){return y(this,void 0,void 0,(function*(){const o=[],r=b["s"].ordered(e).reverse(),a=r.map(r=>t.map(t=>y(this,void 0,void 0,(function*(){try{i.push(e,r);const s=yield r.provideInlayHints(e,t,n);(null===s||void 0===s?void 0:s.length)&&o.push(s.filter(e=>t.containsPosition(e.position)))}catch(a){Object(s["g"])(a)}finally{i.pop(e,r)}}))));return yield Promise.all(a.flat()),o.flat().sort((e,t)=>p["a"].compare(e.position,t.position))}))}class M{constructor(){this._entries=new d["a"](50)}get(e){const t=M._key(e);return this._entries.get(t)}set(e,t){const i=M._key(e);this._entries.set(i,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}let N=class e{constructor(t,i){this._editor=t,this._codeEditorService=i,this._decorationOwnerId=++e._decorationOwnerIdPool,this._disposables=new a["b"],this._sessionDisposables=new a["b"],this._getInlayHintsDelays=new f["b"](b["s"],25,500),this._cache=new M,this._decorations=new Map,this._disposables.add(b["s"].onDidChange(()=>this._update())),this._disposables.add(t.onDidChangeModel(()=>this._update())),this._disposables.add(t.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(t.onDidChangeConfiguration(e=>{e.hasChanged(125)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),this._removeAllDecorations(),!this._editor.getOption(125).enabled)return;const e=this._editor.getModel();if(!e||!b["s"].has(e))return;const t=this._cache.get(e);t&&this._updateHintsDecorators([e.getFullModelRange()],t);const i=new I,s=new n["e"](()=>y(this,void 0,void 0,(function*(){const t=Date.now(),n=new o["b"];this._sessionDisposables.add(Object(a["i"])(()=>n.dispose(!0)));const r=this._getHintsRanges(),d=yield O(e,r,i,n.token);s.delay=this._getInlayHintsDelays.update(e,Date.now()-t),n.token.isCancellationRequested||(this._updateHintsDecorators(r,d),this._cache.set(e,Array.from(this._decorations.values()).map(e=>e.hint)))})),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(s),this._sessionDisposables.add(this._editor.onDidChangeModelContent(()=>s.schedule())),this._disposables.add(this._editor.onDidScrollChange(()=>s.schedule())),s.schedule();const r=new a["b"];this._sessionDisposables.add(r);for(const n of b["s"].all(e))"function"===typeof n.onDidChangeInlayHints&&r.add(n.onDidChangeInlayHints(()=>{i.has(e,n)||s.schedule()}))}_getHintsRanges(){const e=30,t=this._editor.getModel(),i=this._editor.getVisibleRangesPlusViewportAboveBelow(),n=[];for(const o of i.sort(m["a"].compareRangesUsingStarts)){const i=t.validateRange(new m["a"](o.startLineNumber-e,o.startColumn,o.endLineNumber+e,o.endColumn));0!==n.length&&m["a"].areIntersectingOrTouching(n[n.length-1],i)?n[n.length-1]=m["a"].plusRange(n[n.length-1],i):n.push(i)}return n}_updateHintsDecorators(e,t){const{fontSize:i,fontFamily:n}=this._getLayoutInfo(),o=this._editor.getModel(),s=[],a=[],d="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(d,n);for(const u of t){const{text:e,position:t,whitespaceBefore:n,whitespaceAfter:l}=u,c=n?i/3|0:0,h=l?i/3|0:0,p={contentText:k(e),fontSize:i+"px",margin:`0px ${h}px 0px ${c}px`,fontFamily:`var(${d}), ${g["c"].fontFamily}`,padding:`1px ${0|Math.max(1,i/4)}px`,borderRadius:(i/4|0)+"px",verticalAlign:"middle",backgroundColor:Object(_["g"])(S["N"]),color:Object(_["g"])(S["O"])};u.kind===b["r"].Parameter?(p.backgroundColor=Object(_["g"])(S["P"]),p.color=Object(_["g"])(S["Q"])):u.kind===b["r"].Type&&(p.backgroundColor=Object(_["g"])(S["R"]),p.color=Object(_["g"])(S["S"]));let f={beforeInjectedText:Object.assign(Object.assign({},p),{affectsLetterSpacing:!0})},v=m["a"].fromPositions(t),C=o.getWordAtPosition(t),w=!1;C&&(C.endColumn===t.column?(f.afterInjectedText=f.beforeInjectedText,f.beforeInjectedText=void 0,w=!0,v=D(C,t.lineNumber)):C.startColumn===t.column&&(w=!0,v=D(C,t.lineNumber)));const L="inlayHints-"+Object(r["c"])(f).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",L,f,void 0,this._editor),s.push(L);const y=a.push({range:v,options:Object.assign(Object.assign({},this._codeEditorService.resolveDecorationOptions(L,!0)),{showIfCollapsed:!w,stickiness:0})});if(y>x)break}const l=[];for(const r of e)for(const{id:e}of o.getDecorationsInRange(r,this._decorationOwnerId,!0)){const t=this._decorations.get(e);t&&(l.push(e),this._codeEditorService.removeDecorationType(t.decorationTypeId),this._decorations.delete(e))}const c=o.deltaDecorations(l,a,this._decorationOwnerId);for(let r=0;r<c.length;r++)this._decorations.set(c[r],{hint:t[r],decorationTypeId:s[r]})}_getLayoutInfo(){const e=this._editor.getOption(125),t=this._editor.getOption(45);let i=e.fontSize;(!i||i<5||i>t)&&(i=.9*t|0);const n=e.fontFamily||this._editor.getOption(42);return{fontSize:i,fontFamily:n}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorations.keys()),[]);for(let e of this._decorations.values())this._codeEditorService.removeDecorationType(e.decorationTypeId);this._decorations.clear()}};function D(e,t){return new m["a"](t,e.startColumn,t,e.endColumn)}function k(e){const t=" ";return e.replace(/[ \t]/g,t)}N.ID="editor.contrib.InlayHints",N._decorationOwnerIdPool=0,N=w([L(1,h["a"])],N),Object(u["l"])(N.ID,N),C["a"].registerCommand("_executeInlayHintProvider",(e,...t)=>y(void 0,void 0,void 0,(function*(){const[i,n]=t;Object(l["c"])(c["a"].isUri(i)),Object(l["c"])(m["a"].isIRange(n));const s=yield e.get(v["a"]).createModelReference(i);try{const e=yield O(s.object.textEditorModel,[m["a"].lift(n)],new I,o["a"].None);return e}finally{s.dispose()}})))},c4d7:function(e,t,i){},f110:function(e,t,i){"use strict";i.r(t),i.d(t,"DuplicateSelectionAction",(function(){return N})),i.d(t,"AbstractSortLinesAction",(function(){return E})),i.d(t,"SortLinesAscendingAction",(function(){return R})),i.d(t,"SortLinesDescendingAction",(function(){return j})),i.d(t,"DeleteDuplicateLinesAction",(function(){return P})),i.d(t,"TrimTrailingWhitespaceAction",(function(){return A})),i.d(t,"DeleteLinesAction",(function(){return F})),i.d(t,"IndentLinesAction",(function(){return H})),i.d(t,"InsertLineBeforeAction",(function(){return W})),i.d(t,"InsertLineAfterAction",(function(){return U})),i.d(t,"AbstractDeleteAllToBoundaryAction",(function(){return B})),i.d(t,"DeleteAllLeftAction",(function(){return q})),i.d(t,"DeleteAllRightAction",(function(){return K})),i.d(t,"JoinLinesAction",(function(){return $})),i.d(t,"TransposeAction",(function(){return z})),i.d(t,"AbstractCaseAction",(function(){return G})),i.d(t,"UpperCaseAction",(function(){return Z})),i.d(t,"LowerCaseAction",(function(){return J})),i.d(t,"TitleCaseAction",(function(){return Y})),i.d(t,"SnakeCaseAction",(function(){return Q}));var n=i("d3a2"),o=i("09c9"),s=i("ae58"),r=i("0fff"),a=i("c785"),d=i("b4a6"),l=i("ae41"),c=i("e0ab"),u=i("d8b0"),h=i("17e0"),g=i("7c05");class p{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)n.push(e.getLineContent(s));const o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new u["a"](i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new u["a"](i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new u["a"](i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=h["a"].createWithDirection(e,t,n,o,this._selectionDirection)}return i}}var m=i("1537"),b=i("8e1a"),f=i("1f8e"),v=i("6b8c"),C=i("a7ad");class S{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:s,insertSpaces:r}=e.getOptions();let a=this.buildIndentConverter(o,s,r),d={getLineTokens:t=>e.getLineTokens(t),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i),getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){let i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new u["a"](1,1,1,1),null):(t.addEditOperation(new u["a"](i,1,i,1),e.getLineContent(o)),t.addEditOperation(new u["a"](o,1,o,e.getLineMaxColumn(o)),null)),n=new h["a"](o,1,o,1)}else{let i,s;if(this._isMovingDown){i=n.endLineNumber+1,s=e.getLineContent(i),t.addEditOperation(new u["a"](i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let l=s;if(this.shouldAutoIndent(e,n)){let c=this.matchEnterRule(e,a,o,i,n.startLineNumber-1);if(null!==c){let t=m["x"](e.getLineContent(i)),n=c+C["b"](t,o),a=C["a"](n,o,r);l=a+this.trimLeft(s)}else{d.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);let t=v["b"].getGoodIndentForLine(this._autoIndent,d,e.getLanguageIdAtPosition(i,1),n.startLineNumber,a);if(null!==t){let n=m["x"](e.getLineContent(i)),a=C["b"](t,o),d=C["b"](n,o);if(a!==d){let e=C["a"](a,o,r);l=e+this.trimLeft(s)}}}t.addEditOperation(new u["a"](n.startLineNumber,1,n.startLineNumber,1),l+"\n");let h=this.matchEnterRuleMovingDown(e,a,o,n.startLineNumber,i,l);if(null!==h)0!==h&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,h);else{d.getLineContent=t=>t===n.startLineNumber?l:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let s=v["b"].getGoodIndentForLine(this._autoIndent,d,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,a);if(null!==s){const i=m["x"](e.getLineContent(n.startLineNumber)),a=C["b"](s,o),d=C["b"](i,o);if(a!==d){const i=a-d;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}else t.addEditOperation(new u["a"](n.startLineNumber,1,n.startLineNumber,1),l+"\n")}else if(i=n.startLineNumber-1,s=e.getLineContent(i),t.addEditOperation(new u["a"](i,1,i+1,1),null),t.addEditOperation(new u["a"](n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this.shouldAutoIndent(e,n)){d.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);let s=this.matchEnterRule(e,a,o,n.startLineNumber,n.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,s);else{let s=v["b"].getGoodIndentForLine(this._autoIndent,d,e.getLanguageIdAtPosition(n.startLineNumber,1),i,a);if(null!==s){let i=m["x"](e.getLineContent(n.startLineNumber)),a=C["b"](s,o),d=C["b"](i,o);if(a!==d){let i=a-d;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>b["a"].shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>b["a"].unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let s=o.indentation;o.indentAction===f["b"].None||o.indentAction===f["b"].Indent?s=o.indentation+o.appendText:o.indentAction===f["b"].IndentOutdent?s=o.indentation:o.indentAction===f["b"].Outdent&&(s=t.unshiftIndent(o.indentation)+o.appendText);let r=e.getLineContent(n);if(this.trimLeft(r).indexOf(this.trimLeft(s))>=0){let o=m["x"](e.getLineContent(n)),r=m["x"](s),a=v["b"].getIndentMetadata(e,n);null!==a&&2&a&&(r=t.unshiftIndent(r));let d=C["b"](r,i),l=C["b"](o,i);return d-l}}return null}matchEnterRuleMovingDown(e,t,i,n,o,s){if(m["I"](s)>=0){let s=e.getLineMaxColumn(o),r=v["b"].getEnterAction(this._autoIndent,e,new u["a"](o,s,o,s));return this.parseEnterResult(e,t,i,n,r)}{let o=n-1;while(o>=1){let t=e.getLineContent(o),i=m["I"](t);if(i>=0)break;o--}if(o<1||n>e.getLineCount())return null;let s=e.getLineMaxColumn(o),r=v["b"].getEnterAction(this._autoIndent,e,new u["a"](o,s,o,s));return this.parseEnterResult(e,t,i,n,r)}}matchEnterRule(e,t,i,n,o,s){let r=o;while(r>=1){let t;t=r===o&&void 0!==s?s:e.getLineContent(r);let i=m["I"](t);if(i>=0)break;r--}if(r<1||n>e.getLineCount())return null;let a=e.getLineMaxColumn(r),d=v["b"].getEnterAction(this._autoIndent,e,new u["a"](r,a,r,a));return this.parseEnterResult(e,t,i,n,d)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1),n=e.getLanguageIdAtPosition(t.endLineNumber,1);return i===n&&null!==v["b"].getIndentRulesSupport(i)}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let r=i.startLineNumber;r<=i.endLineNumber;r++){let a=e.getLineContent(r),d=m["x"](a),l=C["b"](d,n),c=l+s,h=C["a"](c,n,o);h!==d&&(t.addEditOperation(new u["a"](r,1,r,d.length+1),h),r===i.endLineNumber&&i.endColumn<=d.length+1&&""===h&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}}class _{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return _._COLLATOR||(_._COLLATOR=new Intl.Collator),_._COLLATOR}getEditOperations(e,t){let i=L(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;let n=w(e,t,i);if(!n)return!1;for(let o=0,s=n.before.length;o<s;o++)if(n.before[o]!==n.after[o])return!0;return!1}}function w(e,t,i){let n=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let s=[];for(let a=n;a<=o;a++)s.push(e.getLineContent(a));let r=s.slice(0);return r.sort(_.getCollator().compare),!0===i&&(r=r.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:r}}function L(e,t,i){let n=w(e,t,i);return n?l["a"].replace(new u["a"](n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}_._COLLATOR=null;var y=i("d4b5"),x=i("cd62");class I extends s["b"]{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map((e,t)=>({selection:e,index:t,ignore:!1}));i.sort((e,t)=>u["a"].compareRangesUsingStarts(e.selection,t.selection));let n=i[0];for(let s=1;s<i.length;s++){const e=i[s];n.selection.endLineNumber===e.selection.startLineNumber&&(n.index<e.index?e.ignore=!0:(n.ignore=!0,n=e))}const o=[];for(const s of i)o.push(new p(s.selection,this.down,s.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class O extends I{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:y["a"]("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:y["a"]({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class M extends I{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:y["a"]("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:y["a"]({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class N extends s["b"]{constructor(){super({id:"editor.action.duplicateSelection",label:y["a"]("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:g["a"].writable,menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:y["a"]({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),s=t.getModel();for(const a of o)if(a.isEmpty())n.push(new p(a,!0));else{const e=new h["a"](a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);n.push(new r["c"](e,s.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class D extends s["b"]{constructor(e,t){super(t),this.down=e}run(e,t){let i=[],n=t.getSelections()||[];const o=t.getOption(9);for(const s of n)i.push(new S(s,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class k extends D{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:y["a"]("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:y["a"]({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class T extends D{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:y["a"]("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:x["b"].MenubarSelectionMenu,group:"2_line",title:y["a"]({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class E extends s["b"]{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!_.canRun(t.getModel(),o,this.descending))return;let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new _(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class R extends E{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:y["a"]("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:g["a"].writable})}}class j extends E{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:y["a"]("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:g["a"].writable})}}class P extends s["b"]{constructor(){super({id:"editor.action.removeDuplicateLines",label:y["a"]("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:g["a"].writable})}run(e,t){if(!t.hasModel())return;let i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;let n=[],o=[],s=0;for(let r of t.getSelections()){let e=new Set,t=[];for(let n=r.startLineNumber;n<=r.endLineNumber;n++){let o=i.getLineContent(n);e.has(o)||(t.push(o),e.add(o))}let a=new h["a"](r.startLineNumber,1,r.endLineNumber,i.getLineMaxColumn(r.endLineNumber)),d=r.startLineNumber-s,c=new h["a"](d,1,d+t.length-1,t[t.length-1].length);n.push(l["a"].replace(a,t.join("\n"))),o.push(c),s+=r.endLineNumber-r.startLineNumber+1-t.length}t.pushUndoStop(),t.executeEdits(this.id,n,o),t.pushUndoStop()}}class A extends s["b"]{constructor(){super({id:A.ID,label:y["a"]("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:Object(n["c"])(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map(e=>new c["a"](e.positionLineNumber,e.positionColumn)));let o=t.getSelection();if(null===o)return;let s=new a["a"](o,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}A.ID="editor.action.trimTrailingWhitespace";class F extends s["b"]{constructor(){super({id:"editor.action.deleteLines",label:y["a"]("lines.delete","Delete Line"),alias:"Delete Line",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=0,s=[],r=[];for(let a=0,d=i.length;a<d;a++){const e=i[a];let t=e.startLineNumber,d=e.endLineNumber,c=1,u=n.getLineMaxColumn(d);d<n.getLineCount()?(d+=1,u=1):t>1&&(t-=1,c=n.getLineMaxColumn(t)),s.push(l["a"].replace(new h["a"](t,c,d,u),"")),r.push(new h["a"](t-o,e.positionColumn,t-o,e.positionColumn)),o+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map(e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}});t.sort((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber);let i=[],n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}}class H extends s["b"]{constructor(){super({id:"editor.action.indentLines",label:y["a"]("lines.indent","Indent Line"),alias:"Indent Line",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d["a"].indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class V extends s["b"]{constructor(){super({id:"editor.action.outdentLines",label:y["a"]("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:2135,weight:100}})}run(e,t){o["CoreEditingCommands"].Outdent.runEditorCommand(e,t,null)}}class W extends s["b"]{constructor(){super({id:"editor.action.insertLineBefore",label:y["a"]("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d["a"].lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class U extends s["b"]{constructor(){super({id:"editor.action.insertLineAfter",label:y["a"]("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,d["a"].lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class B extends s["b"]{run(e,t){if(!t.hasModel())return;const i=t.getSelection();let n=this._getRangesToDelete(t),o=[];for(let a=0,d=n.length-1;a<d;a++){let e=n[a],t=n[a+1];null===u["a"].intersectRanges(e,t)?o.push(e):n[a+1]=u["a"].plusRange(e,t)}o.push(n[n.length-1]);let s=this._getEndCursorState(i,o),r=o.map(e=>l["a"].replace(e,""));t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class q extends B{constructor(){super({id:"deleteAllLeft",label:y["a"]("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach(t=>{let s;if(1===t.endColumn&&o>0){let e=t.startLineNumber-o;s=new h["a"](e,t.startColumn,e,t.startColumn)}else s=new h["a"](t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=s:n.push(s)}),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let i=t,n=e.getModel();return null===n?[]:(i.sort(u["a"].compareRangesUsingStarts),i=i.map(e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new u["a"](t,i,e.startLineNumber,1)}return new u["a"](e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new u["a"](e.startLineNumber,1,e.endLineNumber,e.endColumn)}),i)}}class K extends B{constructor(){super({id:"deleteAllRight",label:y["a"]("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let o=0,s=t.length,r=0;o<s;o++){let s=t[o],a=new h["a"](s.startLineNumber-r,s.startColumn,s.startLineNumber-r,s.startColumn);s.intersectRanges(e)?i=a:n.push(a)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let n=i.map(e=>{if(e.isEmpty()){const i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new u["a"](e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new u["a"](e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e});return n.sort(u["a"].compareRangesUsingStarts),n}}class $ extends s["b"]{constructor(){super({id:"editor.action.joinLines",label:y["a"]("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:g["a"].writable,kbOpts:{kbExpr:g["a"].editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getSelection();if(null===n)return;i.sort(u["a"].compareRangesUsingStarts);let o=[],s=i.reduce((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(n.equalsSelection(e)&&(n=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new h["a"](e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new h["a"](e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn));o.push(s);let r=t.getModel();if(null===r)return;let a=[],d=[],c=n,g=0;for(let p=0,m=o.length;p<m;p++){let e,t,i=o[p],s=i.startLineNumber,m=1,b=0,f=r.getLineContent(i.endLineNumber).length-i.endColumn;if(i.isEmpty()||i.startLineNumber===i.endLineNumber){let n=i.getStartPosition();n.lineNumber<r.getLineCount()?(e=s+1,t=r.getLineMaxColumn(e)):(e=n.lineNumber,t=r.getLineMaxColumn(n.lineNumber))}else e=i.endLineNumber,t=r.getLineMaxColumn(e);let v=r.getLineContent(s);for(let n=s+1;n<=e;n++){let e=r.getLineContent(n),t=r.getLineFirstNonWhitespaceColumn(n);if(t>=1){let i=!0;""===v&&(i=!1),!i||" "!==v.charAt(v.length-1)&&"\t"!==v.charAt(v.length-1)||(i=!1,v=v.replace(/[\s\uFEFF\xA0]+$/g," "));let n=e.substr(t-1);v+=(i?" ":"")+n,b=i?n.length+1:n.length}else b=0}let C=new u["a"](s,m,e,t);if(!C.isEmpty()){let e;i.isEmpty()?(a.push(l["a"].replace(C,v)),e=new h["a"](C.startLineNumber-g,v.length-b+1,s-g,v.length-b+1)):i.startLineNumber===i.endLineNumber?(a.push(l["a"].replace(C,v)),e=new h["a"](i.startLineNumber-g,i.startColumn,i.endLineNumber-g,i.endColumn)):(a.push(l["a"].replace(C,v)),e=new h["a"](i.startLineNumber-g,i.startColumn,i.startLineNumber-g,v.length-f)),null!==u["a"].intersectRanges(C,n)?c=e:d.push(e)}g+=C.endLineNumber-C.startLineNumber}d.unshift(c),t.pushUndoStop(),t.executeEdits(this.id,a,d),t.pushUndoStop()}}class z extends s["b"]{constructor(){super({id:"editor.action.transpose",label:y["a"]("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:g["a"].writable})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getModel();if(null===n)return;let o=[];for(let s=0,a=i.length;s<a;s++){let e=i[s];if(!e.isEmpty())continue;let t=e.getStartPosition(),a=n.getLineMaxColumn(t.lineNumber);if(t.column>=a){if(t.lineNumber===n.getLineCount())continue;let e=new u["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new r["a"](new h["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i))}else{let e=new u["a"](t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new r["b"](e,i,new h["a"](t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class G extends s["b"]{run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=t.getOption(115),s=[];for(const r of i)if(r.isEmpty()){const e=r.getStartPosition(),i=t.getConfiguredWordAtPosition(e);if(!i)continue;const a=new u["a"](e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),d=n.getValueInRange(a);s.push(l["a"].replace(a,this._modifyText(d,o)))}else{const e=n.getValueInRange(r);s.push(l["a"].replace(r,this._modifyText(e,o)))}t.pushUndoStop(),t.executeEdits(this.id,s),t.pushUndoStop()}}class Z extends G{constructor(){super({id:"editor.action.transformToUppercase",label:y["a"]("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:g["a"].writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class J extends G{constructor(){super({id:"editor.action.transformToLowercase",label:y["a"]("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:g["a"].writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class X{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class Y extends G{constructor(){super({id:"editor.action.transformToTitlecase",label:y["a"]("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:g["a"].writable})}_modifyText(e,t){const i=Y.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,e=>e.toLocaleUpperCase()):e}}Y.titleBoundary=new X("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Q extends G{constructor(){super({id:"editor.action.transformToSnakecase",label:y["a"]("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:g["a"].writable})}_modifyText(e,t){const i=Q.caseBoundary.get(),n=Q.singleLetters.get();return i&&n?e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase():e}}Q.caseBoundary=new X("(\\p{Ll})(\\p{Lu})","gmu"),Q.singleLetters=new X("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),Object(s["j"])(O),Object(s["j"])(M),Object(s["j"])(N),Object(s["j"])(k),Object(s["j"])(T),Object(s["j"])(R),Object(s["j"])(j),Object(s["j"])(P),Object(s["j"])(A),Object(s["j"])(F),Object(s["j"])(H),Object(s["j"])(V),Object(s["j"])(W),Object(s["j"])(U),Object(s["j"])(q),Object(s["j"])(K),Object(s["j"])($),Object(s["j"])(z),Object(s["j"])(Z),Object(s["j"])(J),Q.caseBoundary.isSupported()&&Q.singleLetters.isSupported()&&Object(s["j"])(Q),Y.titleBoundary.isSupported()&&Object(s["j"])(Y)},f1a2:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("1dc1"),o=i("92db"),s=i("4d73"),r=i("80f8"),a=i("3a12"),d=i("59e4"),l=i("d1e2");class c{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new o["b"];e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=n.add(new o["d"]);return s.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange(()=>{s.value=void 0,s.value=this.doProvide(e,t)})),n}doProvide(e,t){const i=new o["b"],a=this.activeTextEditorControl;if(a&&this.canProvideWithTextEditor(a)){const d={editor:a},l=Object(r["a"])(a);if(l){let e=Object(s["p"])(a.saveViewState());i.add(l.onDidChangeCursorPosition(()=>{e=Object(s["p"])(a.saveViewState())})),d.restoreViewState=()=>{e&&a===this.activeTextEditorControl&&a.restoreViewState(e)},i.add(Object(n["a"])(t.onCancellationRequested)(()=>{var e;return null===(e=d.restoreViewState)||void 0===e?void 0:e.call(d)}))}i.add(Object(o["i"])(()=>this.clearDecorations(a))),i.add(this.provideWithTextEditor(d,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return Object(r["c"])(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:Object(l["g"])(d["N"]),position:a["g"].Full}}}],[o,s]=e.deltaDecorations(i,n);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:s}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}}}]);