/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot-dashboard 
 *  author: h7ml(h7ml@qq.com) 
 *  Time: 2022-01-12 01:12:24
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["vendors-dgiot-3f80ba1d"],{"0269":function(e,t,n){n("1d9e")},"18f5":function(e,t){(function(){"use strict";var e=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return!!e.hasPlugin("powerpaste",!0)&&("undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},r=function(e){return{clipboard:e}},o=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},i=function(e){return function(t){return o(t)===e}},a=function(e){return function(t){return typeof t===e}},u=i("array"),c=function(e){return null===e||void 0===e},s=function(e){return!c(e)},l=a("function"),f=function(){},d=function(e){return function(){return e}},m=function(e){return e},g=d(!1),p=d(!0),h=function(){return v},v=function(){var e=function(e){return e()},t=m,n={fold:function(e,t){return e()},isSome:g,isNone:p,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:t,orThunk:e,map:h,each:f,bind:h,exists:g,forall:p,filter:function(){return h()},toArray:function(){return[]},toString:d("none()")};return n}(),y=function(e){var t=d(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:p,isNone:g,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return y(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:v},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},b=function(e){return null===e||void 0===e?v:y(e)},w={some:y,none:h,from:b},x=Array.prototype.slice,C=Array.prototype.push,k=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return!0}return!1},S=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},T=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},O=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},D=function(e,t,n){return T(e,(function(e,r){n=t(n,e,r)})),n},A=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);C.apply(t,e[n])}return t},P=function(e,t){return A(S(e,t))},N=l(Array.from)?Array.from:function(e){return x.call(e)},_=function(){return _=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},_.apply(this,arguments)},E=function(t){var n=e(w.none()),r=function(){return n.get().each(t)},o=function(){r(),n.set(w.none())},i=function(){return n.get().isSome()},a=function(){return n.get()},u=function(e){r(),n.set(w.some(e))};return{clear:o,isSet:i,get:a,set:u}},I=function(){var e=E(f),t=function(t){return e.get().each(t)};return _(_({},e),{on:t})},L=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},M=function(e,t){return L(e,t,0)},R=function(e,t){return L(e,t,e.length-t.length)},B=function(e,t){return t<=0?"":new Array(t+1).join(e)},j=tinymce.util.Tools.resolve("tinymce.Env"),U=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=tinymce.util.Tools.resolve("tinymce.util.Promise"),z=tinymce.util.Tools.resolve("tinymce.util.VK"),H=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},$=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},W=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},K=function(e,t){return e.fire("paste",{ieFake:t})},V=tinymce.util.Tools.resolve("tinymce.util.Tools"),G=function(e){return e.getParam("paste_block_drop",!1)},Y=function(e){return e.getParam("paste_data_images",!1)},J=function(e){return e.getParam("paste_filter_drop",!0)},q=function(e){return e.getParam("paste_preprocess")},X=function(e){return e.getParam("paste_postprocess")},Q=function(e){return e.getParam("paste_webkit_styles")},Z=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},ee=function(e){return e.getParam("paste_merge_formats",!0)},te=function(e){return e.getParam("smart_paste",!0)},ne=function(e){return e.getParam("paste_as_text",!1)},re=function(e){return e.getParam("paste_retain_style_properties")},oe=function(e){var t="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return e.getParam("paste_word_valid_elements",t)},ie=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},ae=function(e){return e.getParam("paste_enable_default_filters",!0)},ue=function(e){return e.getParam("validate")},ce=function(e){return e.getParam("allow_html_data_urls",!1,"boolean")},se=function(e){return e.getParam("paste_data_images",!1,"boolean")},le=function(e){return e.getParam("images_dataimg_filter")},fe=function(e){return e.getParam("images_reuse_filename")},de=function(e){return e.getParam("forced_root_block")},me=function(e){return e.getParam("forced_root_block_attrs")},ge=function(e){return e.getParam("paste_tab_spaces",4,"number")},pe=function(e){var t="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return V.explode(e.getParam("images_file_types",t,"string"))},he="x-tinymce/html",ve="\x3c!-- "+he+" --\x3e",ye=function(e){return ve+e},be=function(e){return e.replace(ve,"")},we=function(e){return-1!==e.indexOf(ve)},xe=d(he),Ce=Object.hasOwnProperty,ke=function(e,t){return Ce.call(e,t)},Se=tinymce.util.Tools.resolve("tinymce.html.Entities"),Te=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},Oe=function(e){return e.replace(/\r?\n/g,"<br>")},De=function(e,t){var n=[],r="<"+e;if("object"===typeof t){for(var o in t)ke(t,o)&&n.push(o+'="'+Se.encodeAllRaw(t[o])+'"');n.length&&(r+=" "+n.join(" "))}return r+">"},Ae=function(e,t,n){var r=e.split(/\n\n/),o=De(t,n),i="</"+t+">",a=V.map(r,(function(e){return e.split(/\n/).join("<br />")})),u=function(e){return o+e+i};return 1===a.length?a[0]:V.map(a,u).join("")},Pe=function(e,t,n){return t?Ae(e,!0===t?"p":t,n):Oe(e)},Ne=tinymce.util.Tools.resolve("tinymce.html.DomParser"),_e=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Ee=" ",Ie=tinymce.util.Tools.resolve("tinymce.html.Node"),Le=tinymce.util.Tools.resolve("tinymce.html.Schema"),Me=function(e){return e.constructor===RegExp},Re=function(e,t){return V.each(t,(function(t){e=Me(t)?e.replace(t,""):e.replace(t[0],t[1])})),e},Be=function(e){var t=Le(),n=Ne({},t),r="",o=t.getShortEndedElements(),i=V.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),u=function(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(o[t]&&(r+=" "),i[t])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))do{u(e)}while(e=e.next);a[t]&&n.next&&(r+="\n","p"===t&&(r+="\n"))}}else r+="\n"};return e=Re(e,[/<!\[[^\]]+\]>/g]),u(n.parse(e)),r},je=function(e){var t=function(e,t,n){return t||n?Ee:" "};return e=Re(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e},Ue=function(e){var t=0;return function(){return e+t++}},Fe=function(e){var t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return V.hasOwn(n,t)?"image/"+n[t]:"image/"+t},ze=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},He=function(e){var t=!1,n=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return e=e.replace(/^[\u00a0 ]+/,""),V.each(n,(function(n){if(n.test(e))return t=!0,!1})),t},$e=function(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)},We=function(e){var t,n,r=1,o=function(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=o(e)}while(e=e.next);return t},i=function(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0},a=function(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{a(e)}while(e=e.next)},u=function(e,o,u){var c=e._listLevel||r;c!==r&&(c<r?t&&(t=t.parent.parent):(n=t,t=null)),t&&t.name===o?t.append(e):(n=n||t,t=new Ie(o,1),u>1&&t.attr("start",""+u),e.wrap(t)),e.name="li",c>r&&n&&n.lastChild.append(t),r=c,a(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)},c=[],s=e.firstChild;while("undefined"!==typeof s&&null!==s)if(c.push(s),s=s.walk(),null!==s)while("undefined"!==typeof s&&s.parent!==e)s=s.walk();for(var l=0;l<c.length;l++)if(e=c[l],"p"===e.name&&e.firstChild){var f=o(e);if($e(f)){u(e,"ul");continue}if(He(f)){var d=/([0-9]+)\./.exec(f),m=1;d&&(m=parseInt(d[1],10)),u(e,"ol",m);continue}if(e._listLevel){u(e,"ul",1);continue}t=null}else n=t,t=null},Ke=function(e,t,n,r){var o={},i=e.dom.parseStyle(r);V.each(i,(function(i,a){switch(a){case"mso-list":var u=/\w+ \w+([0-9]+)/i.exec(r);u&&(n._listLevel=parseInt(u[1],10)),/Ignore/i.test(i)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":a="text-align";break;case"vert-align":a="vertical-align";break;case"font-color":case"mso-foreground":a="color";break;case"mso-background":case"mso-highlight":a="background";break;case"font-weight":case"font-style":return void("normal"!==i&&(o[a]=i));case"mso-element":if(/^(comment|comment-list)$/i.test(i))return void n.remove();break}0!==a.indexOf("mso-comment")?0!==a.indexOf("mso-")&&("all"===re(e)||t&&t[a])&&(o[a]=i):n.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new Ie("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new Ie("i",1)));var a=e.dom.serializeStyle(o,n.name);return a||null},Ve=function(e,t){var n,r=re(e);r&&(n=V.makeMap(r.split(/[, ]/))),t=Re(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Ee],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(Ee):""}]]);var o=oe(e),i=Le({valid_elements:o,valid_children:"-li[p]"});V.each(i.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var a=Ne({},i);a.addAttributeFilter("style",(function(t){var r,o=t.length;while(o--)r=t[o],r.attr("style",Ke(e,n,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),a.addAttributeFilter("class",(function(e){var t,n,r=e.length;while(r--)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),a.addNodeFilter("del",(function(e){var t=e.length;while(t--)e[t].remove()})),a.addNodeFilter("a",(function(e){var t,n,r,o=e.length;while(o--)if(t=e[o],n=t.attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()}));var u=a.parse(t);return ie(e)&&We(u),t=_e({validate:ue(e)},i).serialize(u),t},Ge=function(e,t){return ae(e)?Ve(e,t):t},Ye=function(e,t){var n=Ne({},e.schema);n.addNodeFilter("meta",(function(e){V.each(e,(function(e){e.remove()}))}));var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return _e({validate:ue(e)},e.schema).serialize(r)},Je=function(e,t){return{content:e,cancelled:t}},qe=function(e,t,n,r){var o=e.dom.create("div",{style:"display:none"},t),i=$(e,o,n,r);return Je(i.node.innerHTML,i.isDefaultPrevented())},Xe=function(e,t,n,r){var o=H(e,t,n,r),i=Ye(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?qe(e,i,n,r):Je(i,o.isDefaultPrevented())},Qe=function(e,t,n){var r=ze(t),o=r?Ge(e,t):t;return Xe(e,o,n,r)},Ze=function(e,t){return e.insertContent(t,{merge:ee(e),paste:!0}),!0},et=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},tt=function(e,t){return et(t)&&k(pe(e),(function(e){return R(t.toLowerCase(),"."+e.toLowerCase())}))},nt=function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.insertContent('<img src="'+t+'">')})),!0},rt=function(e,t,n){return e.undoManager.extra((function(){n(e,t)}),(function(){e.execCommand("mceInsertLink",!1,t)})),!0},ot=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!et(t))&&rt(e,t,n)},it=function(e,t,n){return!!tt(e,t)&&nt(e,t,n)},at=function(e,t){V.each([ot,it,Ze],(function(n){return!0!==n(e,t,Ze)}))},ut=function(e,t,n){n||!1===te(e)?Ze(e,t):at(e,t)},ct=function(e){return-1!==" \f\t\v".indexOf(e)},st=function(e){return"\n"===e||"\r"===e},lt=function(e,t){return t<e.length&&t>=0&&st(e[t])},ft=function(e,t){var n=B(" ",ge(e)),r=t.replace(/\t/g,n),o=D(r,(function(e,t){return ct(t)||t===Ee?e.pcIsSpace||""===e.str||e.str.length===r.length-1||lt(r,e.str.length+1)?{pcIsSpace:!1,str:e.str+Ee}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:st(t),str:e.str+t}}),{pcIsSpace:!1,str:""});return o.str},dt=function(e,t,n,r){var o=Qe(e,t,n);!1===o.cancelled&&ut(e,o.content,r)},mt=function(e,t,n){var r=n||we(t);dt(e,be(t),r,!1)},gt=function(e,t){var n=e.dom.encode(t).replace(/\r\n/g,"\n"),r=ft(e,n),o=Pe(r,de(e),me(e));dt(e,o,!1,!0)},pt=function(e){var t={},n="data:text/mce-internal,";if(e){if(e.getData){var r=e.getData("Text");r&&r.length>0&&-1===r.indexOf(n)&&(t["text/plain"]=r)}if(e.types)for(var o=0;o<e.types.length;o++){var i=e.types[o];try{t[i]=e.getData(i)}catch(a){t[i]=""}}}return t},ht=function(e,t){return pt(t.clipboardData||e.getDoc().dataTransfer)},vt=function(e,t){return t in e&&e[t].length>0},yt=function(e){return vt(e,"text/html")||vt(e,"text/plain")},bt=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?{type:t[1],data:decodeURIComponent(t[2])}:{type:null,data:null}},wt=function(e,t){var n=le(e);return!n||n(t)},xt=function(e,t){var n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return s(n)?e.dom.encode(n[1]):null},Ct=Ue("mceclip"),kt=function(e,t){var n=bt(t.uri),r=n.data,o=n.type,i=Ct(),a=t.blob,u=new Image;if(u.src=t.uri,wt(e,u)){var c=e.editorUpload.blobCache,l=void 0,f=c.getByData(r,o);if(f)l=f;else{var d=fe(e)&&s(a.name),m=d?xt(e,a.name):i,g=d?a.name:void 0;l=c.create(i,a,r,m,g),c.add(l)}mt(e,'<img src="'+l.blobUri()+'">',!1)}else mt(e,'<img src="'+t.uri+'">',!1)},St=function(e){return"paste"===e.type},Tt=function(e){return s(e.getAsFile)},Ot=function(e){return F.all(S(e,(function(e){return new F((function(t){var n=Tt(e)?e.getAsFile():e,r=new window.FileReader;r.onload=function(){t({blob:n,uri:r.result})},r.readAsDataURL(n)}))})))},Dt=function(e){var t=pe(e);return function(e){return M(e.type,"image/")&&k(t,(function(t){return Fe(t)===e.type}))}},At=function(e,t){var n=t.items?P(N(t.items),(function(e){return"file"===e.kind?[e.getAsFile()]:[]})):[],r=t.files?N(t.files):[];return O(n.length>0?n:r,Dt(e))},Pt=function(e,t,n){var r=St(t)?t.clipboardData:t.dataTransfer;if(se(e)&&r){var o=At(e,r);if(o.length>0)return t.preventDefault(),Ot(o).then((function(t){n&&e.selection.setRng(n),T(t,(function(t){kt(e,t)}))})),!0}return!1},Nt=function(e){var t=e.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length},_t=function(e){return z.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},Et=function(e,t,n){var r,o=I(),i=I();e.on("keyup",i.clear),e.on("keydown",(function(n){var a=function(e){_t(e)&&!e.isDefaultPrevented()&&t.remove()};if(_t(n)&&!n.isDefaultPrevented()){if(r=n.shiftKey&&86===n.keyCode,r&&j.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),o.set(n),i.set(!0),j.ie&&r)return n.preventDefault(),void K(e,!0);t.remove(),t.create(),e.once("keyup",a),e.once("paste",(function(){e.off("keyup",a)}))}}));var a=function(e,n,r,o,i){var a;vt(n,"text/html")?a=n["text/html"]:(a=t.getHtml(),i=i||we(a),t.isDefaultContent(a)&&(o=!0)),a=je(a),t.remove();var u=!1===i&&Te(a),c=et(a);(!a.length||u&&!c)&&(o=!0),(o||c)&&(a=vt(n,"text/plain")&&u?n["text/plain"]:Be(a)),t.isDefaultContent(a)?r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?gt(e,a):mt(e,a,i)},u=function(){return t.getLastRng()||e.selection.getRng()};e.on("paste",(function(c){var s=o.isSet()||i.isSet();s&&o.clear();var l=ht(e,c),f="text"===n.get()||r,d=vt(l,xe());r=!1,c.isDefaultPrevented()||Nt(c)?t.remove():yt(l)||!Pt(e,c,u())?(s||c.preventDefault(),!j.ie||s&&!c.ieFake||vt(l,"text/html")||(t.create(),e.dom.bind(t.getEl(),"paste",(function(e){e.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),l["text/html"]=t.getHtml()),vt(l,"text/html")?(c.preventDefault(),d||(d=we(l["text/html"])),a(e,l,s,f,d)):U.setEditorTimeout(e,(function(){a(e,l,s,f,d)}),0)):t.remove()}))},It=function(e,t,n){var r;Et(e,t,n),e.parser.addNodeFilter("img",(function(t,n,o){var i=function(e){return e.data&&!0===e.data.paste},a=function(e){e.attr("data-mce-object")||r===j.transparentSrc||e.remove()},u=function(e){return 0===e.indexOf("webkit-fake-url")},c=function(e){return 0===e.indexOf("data:")};if(!se(e)&&i(o)){var s=t.length;while(s--)r=t[s].attr("src"),r&&(u(r)||!ce(e)&&c(r))&&a(t[s])}}))},Lt=function(e){return j.ie&&e.inline?document.body:e.getBody()},Mt=function(e){return Lt(e)!==e.getBody()},Rt=function(e,t,n){Mt(e)&&e.dom.bind(t,"paste keyup",(function(t){$t(e,n)||e.fire("paste")}))},Bt=function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var i=e.dom.add(Lt(e),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(j.ie||j.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(e){e.stopPropagation()})),Rt(e,i,n),i.focus(),e.selection.select(i,!0)},jt=function(e,t){if(Ut(e)){var n=void 0,r=t.get();while(n=e.dom.get("mcepastebin"))e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)},Ut=function(e){return e.dom.get("mcepastebin")},Ft=function(e){var t=function(t,n){t.appendChild(n),e.dom.remove(n,!0)},n=V.grep(Lt(e).childNodes,(function(e){return"mcepastebin"===e.id})),r=n.shift();V.each(n,(function(e){t(r,e)}));for(var o=e.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var a=e.dom.create("div");r.insertBefore(a,o[i]),t(a,o[i])}return r?r.innerHTML:""},zt=function(e,t){return t===e},Ht=function(e){return e&&"mcepastebin"===e.id},$t=function(e,t){var n=Ut(e);return Ht(n)&&zt(t,n.innerHTML)},Wt=function(t){var n=e(null),r="%MCEPASTEBIN%";return{create:function(){return Bt(t,n,r)},remove:function(){return jt(t,n)},getEl:function(){return Ut(t)},getHtml:function(){return Ft(t)},getLastRng:n.get,isDefault:function(){return $t(t,r)},isDefaultContent:function(e){return zt(r,e)}}},Kt=function(e,t){var n=Wt(e);return e.on("PreInit",(function(){return It(e,n,t)})),{pasteFormat:t,pasteHtml:function(t,n){return mt(e,t,n)},pasteText:function(t){return gt(e,t)},pasteImageData:function(t,n){return Pt(e,t,n)},getDataTransferItems:pt,hasHtmlOrText:yt,hasContentType:vt}},Vt=function(e,t){"text"===t.pasteFormat.get()?(t.pasteFormat.set("html"),W(e,!1)):(t.pasteFormat.set("text"),W(e,!0)),e.focus()},Gt=function(e,t){e.addCommand("mceTogglePlainTextPaste",(function(){Vt(e,t)})),e.addCommand("mceInsertClipboardContent",(function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)}))},Yt=function(e){return!1===j.iOS&&"function"===typeof(null===e||void 0===e?void 0:e.setData)},Jt=function(e,t,n){if(!Yt(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(xe(),t),!0}catch(r){return!1}},qt=function(e,t,n,r){Jt(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Xt=function(e){return function(t,n){var r=ye(t),o=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),e.dom.add(e.getBody(),o);var a=e.selection.getRng();i.focus();var u=e.dom.createRng();u.selectNodeContents(i),e.selection.setRng(u),U.setTimeout((function(){e.selection.setRng(a),o.parentNode.removeChild(o),n()}),0)}},Qt=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},Zt=function(e){return!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())},en=function(e){return!e.selection.isCollapsed()||Zt(e)},tn=function(e){return function(t){en(e)&&qt(t,Qt(e),Xt(e),(function(){if(j.browser.isChrome()||j.browser.isFirefox()){var t=e.selection.getRng();U.setEditorTimeout(e,(function(){e.selection.setRng(t),e.execCommand("Delete")}),0)}else e.execCommand("Delete")}))}},nn=function(e){return function(t){en(e)&&qt(t,Qt(e),Xt(e),f)}},rn=function(e){e.on("cut",tn(e)),e.on("copy",nn(e))},on=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),an=function(e,t){return on.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},un=function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")},cn=function(e,t){e.focus(),e.selection.setRng(t)},sn=function(e,t,n){G(e)&&e.on("dragend dragover draggesture dragdrop drop drag",(function(e){e.preventDefault(),e.stopPropagation()})),Y(e)||e.on("drop",(function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()})),e.on("drop",(function(r){var o=an(e,r);if(!r.isDefaultPrevented()&&!n.get()){var i=t.getDataTransferItems(r.dataTransfer),a=t.hasContentType(i,xe());if((t.hasHtmlOrText(i)&&!un(i)||!t.pasteImageData(r,o))&&o&&J(e)){var u=i["mce-internal"]||i["text/html"]||i["text/plain"];u&&(r.preventDefault(),U.setEditorTimeout(e,(function(){e.undoManager.transact((function(){i["mce-internal"]&&e.execCommand("Delete"),cn(e,o),u=je(u),i["text/html"]?t.pasteHtml(u,a):t.pasteText(u)}))})))}}})),e.on("dragstart",(function(e){n.set(!0)})),e.on("dragover dragend",(function(t){Y(e)&&!1===n.get()&&(t.preventDefault(),cn(e,an(e,t))),"dragend"===t.type&&n.set(!1)}))},ln=function(e){var t=e.plugins.paste,n=q(e);n&&e.on("PastePreProcess",(function(e){n.call(t,t,e)}));var r=X(e);r&&e.on("PastePostProcess",(function(e){r.call(t,t,e)}))},fn=function(e,t){e.on("PastePreProcess",(function(n){n.content=t(e,n.content,n.internal,n.wordContent)}))},dn=function(e,t){e.on("PastePostProcess",(function(n){t(e,n.node)}))},mn=function(e,t){if(!ze(t))return t;var n=[];V.each(e.schema.getBlockElements(),(function(e,t){n.push(t)}));var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=Re(t,[[r,"$1"]]),t=Re(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),t},gn=function(e,t,n,r){if(r||n)return t;var o,i=Q(e);if(!1===Z(e)||"all"===i)return t;if(i&&(o=i.split(/[, ]/)),o){var a=e.dom,u=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(e,t,n,r){var i=a.parseStyle(a.decode(n)),c={};if("none"===o)return t+r;for(var s=0;s<o.length;s++){var l=i[o[s]],f=a.getStyle(u,o[s],!0);/color/.test(o[s])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(c[o[s]]=l)}var d=a.serializeStyle(c,"span");return d?t+' style="'+d+'"'+r:t+r}))}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(e,t,n,r){return t+' style="'+n+'"'+r})),t},pn=function(e,t){e.$("a",t).find("font,u").each((function(t,n){e.dom.remove(n,!0)}))},hn=function(e){j.webkit&&fn(e,gn),j.ie&&(fn(e,mn),dn(e,pn))},vn=function(e,t){return function(n){n.setActive("text"===t.pasteFormat.get());var r=function(e){return n.setActive(e.state)};return e.on("PastePlainTextToggle",r),function(){return e.off("PastePlainTextToggle",r)}}},yn=function(e,t){var n=function(){return e.execCommand("mceTogglePlainTextPaste")};e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:vn(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:vn(e,t)})};function bn(){t.add("paste",(function(t){if(!1===n(t)){var o=e(!1),i=e(ne(t)?"text":"html"),a=Kt(t,i);return hn(t),yn(t,a),Gt(t,a),ln(t),rn(t),sn(t,a,o),r(a)}}))}bn()})()},"1d9e":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d"))},n=function(e){return e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S"))},r=function(e){return e.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},o=function(e){var t=r(e);return t.length>0?t[0]:n(e)},i=function(e){return e.getParam("insertdatetime_element",!1)},a="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),c="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),s="January February March April May June July August September October November December".split(" "),l=function(e,t){if(e=""+e,e.length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e},f=function(e,t,n){return void 0===n&&(n=new Date),t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+n.getFullYear()),t=t.replace("%y",""+n.getYear()),t=t.replace("%m",l(n.getMonth()+1,2)),t=t.replace("%d",l(n.getDate(),2)),t=t.replace("%H",""+l(n.getHours(),2)),t=t.replace("%M",""+l(n.getMinutes(),2)),t=t.replace("%S",""+l(n.getSeconds(),2)),t=t.replace("%I",""+((n.getHours()+11)%12+1)),t=t.replace("%p",n.getHours()<12?"AM":"PM"),t=t.replace("%B",""+e.translate(s[n.getMonth()])),t=t.replace("%b",""+e.translate(c[n.getMonth()])),t=t.replace("%A",""+e.translate(u[n.getDay()])),t=t.replace("%a",""+e.translate(a[n.getDay()])),t=t.replace("%%","%"),t},d=function(e,t,n,r){var o=e.dom.create("time",{datetime:n},r);t.parentNode.insertBefore(o,t),e.dom.remove(t),e.selection.select(o,!0),e.selection.collapse(!1)},m=function(e,t){if(i(e)){var n=f(e,t),r=void 0;r=/%[HMSIp]/.test(t)?f(e,"%Y-%m-%dT%H:%M"):f(e,"%Y-%m-%d");var o=e.dom.getParent(e.selection.getStart(),"time");o?d(e,o,r,n):e.insertContent('<time datetime="'+r+'">'+n+"</time>")}else e.insertContent(f(e,t))},g=function(e){e.addCommand("mceInsertDate",(function(n,r){m(e,null!==r&&void 0!==r?r:t(e))})),e.addCommand("mceInsertTime",(function(t,r){m(e,null!==r&&void 0!==r?r:n(e))}))},p=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},h=tinymce.util.Tools.resolve("tinymce.util.Tools"),v=function(e){var t=r(e),n=p(o(e)),i=function(t){return e.execCommand("mceInsertDate",!1,t)};e.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(e){return e===n.get()},fetch:function(n){n(h.map(t,(function(t){return{type:"choiceitem",text:f(e,t),value:t}})))},onAction:function(e){i(n.get())},onItemAction:function(e,t){n.set(t),i(t)}});var a=function(e){return function(){n.set(e),i(e)}};e.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return h.map(t,(function(t){return{type:"menuitem",text:f(e,t),onAction:a(t)}}))}})};function y(){e.add("insertdatetime",(function(e){g(e),v(e)}))}y()})()},"209c":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.util.VK"),n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},o=function(e){return function(t){return typeof t===e}},i=function(e){return function(t){return e===t}},a=r("string"),u=r("array"),c=i(null),s=o("boolean"),l=o("function"),f=function(){},d=function(e){return function(){return e}},m=function(e){return e},g=function(e,t){return e===t},p=d(!1),h=d(!0),v=function(){return y},y=function(){var e=function(e){return e()},t=m,n={fold:function(e,t){return e()},isSome:p,isNone:h,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:t,orThunk:e,map:v,each:f,bind:v,exists:p,forall:h,filter:function(){return v()},toArray:function(){return[]},toString:d("none()")};return n}(),b=function(e){var t=d(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:h,isNone:p,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},w=function(e){return null===e||void 0===e?y:b(e)},x={some:b,none:v,from:w},C=Array.prototype.indexOf,k=Array.prototype.push,S=function(e,t){return C.call(e,t)},T=function(e,t){return S(e,t)>-1},O=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},D=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},A=function(e,t,n){return D(e,(function(e,r){n=t(n,e,r)})),n},P=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},N=function(e,t){return P(O(e,t))},_=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return x.none()},E=function(e,t,n){return void 0===n&&(n=g),e.exists((function(e){return n(e,t)}))},I=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},L=function(e,t){return e?x.some(t):x.none()},M=function(e){var t=e.getParam("link_assume_external_targets",!1);return s(t)&&t?1:!a(t)||"http"!==t&&"https"!==t?0:t},R=function(e){return e.getParam("link_context_toolbar",!1,"boolean")},B=function(e){return e.getParam("link_list")},j=function(e){return e.getParam("default_link_target")},U=function(e){return e.getParam("target_list",!0)},F=function(e){return e.getParam("rel_list",[],"array")},z=function(e){return e.getParam("link_class_list",[],"array")},H=function(e){return e.getParam("link_title",!0,"boolean")},$=function(e){return e.getParam("allow_unsafe_link_target",!1,"boolean")},W=function(e){return e.getParam("link_quicklink",!1,"boolean")},K=function(e){return e.getParam("link_default_protocol","http","string")},V=tinymce.util.Tools.resolve("tinymce.util.Tools"),G=function(e){return a(e.value)?e.value:""},Y=function(e){return a(e.text)?e.text:a(e.title)?e.title:""},J=function(e,t){var n=[];return V.each(e,(function(e){var r=Y(e);if(void 0!==e.menu){var o=J(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}})),n},q=function(e){return void 0===e&&(e=G),function(t){return x.from(t).map((function(t){return J(t,e)}))}},X=function(e){return q(G)(e)},Q=function(e,t){return function(n){return{name:e,type:"listbox",label:t,items:n}}},Z={sanitize:X,sanitizeWith:q,createUi:Q,getValue:G},ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ee.apply(this,arguments)},te=Object.keys,ne=Object.hasOwnProperty,re=function(e,t){for(var n=te(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},oe=function(e){return function(t,n){e[n]=t}},ie=function(e,t,n,r){var o={};return re(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},ae=function(e,t){var n={};return ie(e,t,oe(n),f),n},ue=function(e,t){return ne.call(e,t)},ce=function(e,t){return ue(e,t)&&void 0!==e[t]&&null!==e[t]},se=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),le=tinymce.util.Tools.resolve("tinymce.util.URI"),fe=function(e){return e&&"a"===e.nodeName.toLowerCase()},de=function(e){return fe(e)&&!!pe(e)},me=function(e,t){if(e.collapsed)return[];var n=e.cloneContents(),r=new se(n.firstChild,n),o=[],i=n.firstChild;do{t(i)&&o.push(i)}while(i=r.next());return o},ge=function(e){return/^\w+:/i.test(e)},pe=function(e){var t=e.getAttribute("data-mce-href");return t||e.getAttribute("href")},he=function(e,t){var n=["noopener"],r=e?e.split(/\s+/):[],o=function(e){return V.trim(e.sort().join(" "))},i=function(e){return e=a(e),e.length>0?e.concat(n):n},a=function(e){return e.filter((function(e){return-1===V.inArray(n,e)}))},u=t?i(r):a(r);return u.length>0?o(u):""},ve=function(e){return e.replace(/\uFEFF/g,"")},ye=function(e,t){return t=t||e.selection.getNode(),ke(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},be=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return ve(n)},we=function(e){return V.grep(e,de).length>0},xe=function(e){return me(e,de).length>0},Ce=function(e){var t=e.schema.getTextInlineElements(),n=function(e){return 1===e.nodeType&&!fe(e)&&!ue(t,e.nodeName.toLowerCase())},r=me(e.selection.getRng(),n);return 0===r.length},ke=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},Se=function(e){var t=["title","rel","class","target"];return A(t,(function(t,n){return e[n].each((function(e){t[n]=e.length>0?e:null})),t}),{href:e.href})},Te=function(e,t){return"http"!==t&&"https"!==t||ge(e)?e:t+"://"+e},Oe=function(e,t){var n=ee({},t);if(!(F(e).length>0)&&!1===$(e)){var r=he(n.rel,"_blank"===n.target);n.rel=r||null}return x.from(n.target).isNone()&&!1===U(e)&&(n.target=j(e)),n.href=Te(n.href,M(e)),n},De=function(e,t,n,r){n.each((function(e){ue(t,"innerText")?t.innerText=e:t.textContent=e})),e.dom.setAttribs(t,r),e.selection.select(t)},Ae=function(e,t,n,r){ke(t)?Be(e,t,r):n.fold((function(){e.execCommand("mceInsertLink",!1,r)}),(function(t){e.insertContent(e.dom.createHTML("a",r,e.dom.encode(t)))}))},Pe=function(e,t,n){var r=e.selection.getNode(),o=ye(e,r),i=Oe(e,Se(n));e.undoManager.transact((function(){n.href===t.href&&t.attach(),o?(e.focus(),De(e,o,n.text,i)):Ae(e,r,n.text,i)}))},Ne=function(e){var t=e.dom,n=e.selection,r=n.getBookmark(),o=n.getRng().cloneRange(),i=t.getParent(o.startContainer,"a[href]",e.getBody()),a=t.getParent(o.endContainer,"a[href]",e.getBody());i&&o.setStartBefore(i),a&&o.setEndAfter(a),n.setRng(o),e.execCommand("unlink"),n.moveToBookmark(r)},_e=function(e){e.undoManager.transact((function(){var t=e.selection.getNode();ke(t)?Re(e,t):Ne(e),e.focus()}))},Ee=function(e){var t=e.class,n=e.href,r=e.rel,o=e.target,i=e.text,a=e.title;return ae({class:t.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},(function(e,t){return!1===c(e)}))},Ie=function(e,t){var n=t.href;return ee(ee({},t),{href:le.isDomSafe(n,"a",e.settings)?n:""})},Le=function(e,t,n){var r=Ie(e,n);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,Ee(r)):Pe(e,t,r)},Me=function(e){e.hasPlugin("rtc",!0)?e.execCommand("unlink"):_e(e)},Re=function(e,t){var n=e.dom.select("img",t)[0];if(n){var r=e.dom.getParents(n,"a[href]",t)[0];r&&(r.parentNode.insertBefore(n,r),e.dom.remove(r))}},Be=function(e,t,n){var r=e.dom.select("img",t)[0];if(r){var o=e.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},je=function(e){return ce(e,"items")},Ue=function(e,t){return _(t,(function(t){return je(t)?Ue(e,t.items):L(t.value===e,t)}))},Fe=function(e,t,n,r){var o=r[t],i=e.length>0;return void 0!==o?Ue(o,n).map((function(t){return{url:{value:t.value,meta:{text:i?e:t.text,attach:f}},text:i?e:t.text}})):x.none()},ze=function(e,t){return"link"===t?e.link:"anchor"===t?e.anchor:x.none()},He=function(e,t){var n={text:e.text,title:e.title},r=function(e){return L(n.title.length<=0,x.from(e.meta.title).getOr(""))},o=function(e){return L(n.text.length<=0,x.from(e.meta.text).getOr(e.value))},i=function(e){var t=o(e.url),n=r(e.url);return t.isSome()||n.isSome()?x.some(ee(ee({},t.map((function(e){return{text:e}})).getOr({})),n.map((function(e){return{title:e}})).getOr({}))):x.none()},a=function(e,r){var o=ze(t,r.name).getOr([]);return Fe(n.text,r.name,o,e)},u=function(e,t){var r=t.name;return"url"===r?i(e()):T(["anchor","link"],r)?a(e(),t):"text"===r||"title"===r?(n[r]=e()[r],x.none()):x.none()};return{onChange:u}},$e={init:He,getDelta:Fe},We=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ke=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ve=function(e,t,n){var r=e.selection.getRng();We.setEditorTimeout(e,(function(){e.windowManager.confirm(t,(function(t){e.selection.setRng(r),n(t)}))}))},Ge=function(e){var t=e.href,n=t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:");return n?x.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(e){return ee(ee({},e),{href:"mailto:"+t})}}):x.none()},Ye=function(e,t){return function(n){var r=n.href,o=1===e&&!ge(r)||0===e&&/^\s*www(\.|\d\.)/i.test(r);return o?x.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+t+":// prefix?",preprocess:function(e){return ee(ee({},e),{href:t+"://"+r})}}):x.none()}},Je=function(e,t){return _([Ge,Ye(M(e),K(e))],(function(e){return e(t)})).fold((function(){return Ke.resolve(t)}),(function(n){return new Ke((function(r){Ve(e,n.message,(function(e){r(e?n.preprocess(t):t)}))}))}))},qe={preprocess:Je},Xe=function(e){var t=e.dom.select("a:not([href])"),n=N(t,(function(e){var t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]}));return n.length>0?x.some([{text:"None",value:""}].concat(n)):x.none()},Qe={getAnchors:Xe},Ze=function(e){var t=z(e);return t.length>0?Z.sanitize(t):x.none()},et={getClasses:Ze},tt=tinymce.util.Tools.resolve("tinymce.util.XHR"),nt=function(e){try{return x.some(JSON.parse(e))}catch(t){return x.none()}},rt=function(e){var t=function(t){return e.convertURL(t.value||t.url,"href")},n=B(e);return new Ke((function(e){a(n)?tt.send({url:n,success:function(t){return e(nt(t))},error:function(t){return e(x.none())}}):l(n)?n((function(t){return e(x.some(t))})):e(x.from(n))})).then((function(e){return e.bind(Z.sanitizeWith(t)).map((function(e){if(e.length>0){var t=[{text:"None",value:""}];return t.concat(e)}return e}))}))},ot={getLinks:rt},it=function(e,t){var n=F(e);if(n.length>0){var r=E(t,"_blank"),o=!1===$(e),i=function(e){return he(Z.getValue(e),r)},a=o?Z.sanitizeWith(i):Z.sanitize;return a(n)}return x.none()},at={getRels:it},ut=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ct=function(e){var t=U(e);return u(t)?Z.sanitize(t).orThunk((function(){return x.some(ut)})):!1===t?x.none():x.some(ut)},st={getTargets:ct},lt=function(e,t,n){var r=e.getAttrib(t,n);return null!==r&&r.length>0?x.some(r):x.none()},ft=function(e,t){var n=e.dom,r=Ce(e),o=r?x.some(be(e.selection,t)):x.none(),i=t?x.some(n.getAttrib(t,"href")):x.none(),a=t?x.from(n.getAttrib(t,"target")):x.none(),u=lt(n,t,"rel"),c=lt(n,t,"class"),s=lt(n,t,"title");return{url:i,text:o,title:s,target:a,rel:u,linkClass:c}},dt=function(e,t){return ot.getLinks(e).then((function(n){var r=ft(e,t);return{anchor:r,catalogs:{targets:st.getTargets(e),rels:at.getRels(e,r.target),classes:et.getClasses(e),anchor:Qe.getAnchors(e),link:n},optNode:x.from(t),flags:{titleEnabled:H(e)}}}))},mt={collect:dt},gt=function(e,t){return function(n){var r=n.getData();if(!r.url.value)return Me(e),void n.close();var o=function(e){return x.from(r[e]).filter((function(n){return!E(t.anchor[e],n)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:f};qe.preprocess(e,i).then((function(t){Le(e,a,t)})),n.close()}},pt=function(e){var t=ye(e);return mt.collect(e,t)},ht=function(e,t){var n=e.anchor,r=n.url.getOr("");return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr("")}},vt=function(e,t,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],o=e.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),i=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],a=x.from(j(n)),u=ht(e,a),c=e.catalogs,s=$e.init(u,c),l={type:"panel",items:P([r,o,i,I([c.anchor.map(Z.createUi("anchor","Anchors")),c.rels.map(Z.createUi("rel","Rel")),c.targets.map(Z.createUi("target","Open link in...")),c.link.map(Z.createUi("link","Link list")),c.classes.map(Z.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:u,onChange:function(e,t){var n=t.name;s.onChange(e.getData,{name:n}).each((function(t){e.setData(t)}))},onSubmit:t}},yt=function(e){var t=pt(e);t.then((function(t){var n=gt(e,t);return vt(t,n,e)})).then((function(t){e.windowManager.open(t)}))},bt=function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},wt=function(e){var t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),bt(t,n)},xt=function(e,t){return e.dom.getParent(t,"a[href]")},Ct=function(e){return xt(e,e.selection.getStart())},kt=function(e){return!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey},St=function(e,t){if(t){var n=pe(t);if(/^#/.test(n)){var r=e.$(n);r.length&&e.selection.scrollIntoView(r[0],!0)}else wt(t.href)}},Tt=function(e){return function(){yt(e)}},Ot=function(e){return function(){St(e,Ct(e))}},Dt=function(e){e.on("click",(function(n){var r=xt(e,n.target);r&&t.metaKeyPressed(n)&&(n.preventDefault(),St(e,r))})),e.on("keydown",(function(t){var n=Ct(e);n&&13===t.keyCode&&kt(t)&&(t.preventDefault(),St(e,n))}))},At=function(e,t){return e.on("NodeChange",t),function(){return e.off("NodeChange",t)}},Pt=function(e){return function(t){var n=function(){return t.setActive(!e.mode.isReadOnly()&&null!==ye(e,e.selection.getNode()))};return n(),At(e,n)}},Nt=function(e){return function(t){var n=function(){return t.setDisabled(null===ye(e,e.selection.getNode()))};return n(),At(e,n)}},_t=function(e){return function(t){var n=function(t){return we(t)||xe(e.selection.getRng())},r=e.dom.getParents(e.selection.getStart());return t.setDisabled(!n(r)),At(e,(function(e){return t.setDisabled(!n(e.parents))}))}},Et=function(e){e.addCommand("mceLink",(function(){W(e)?e.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Tt(e)()}))},It=function(e){e.addShortcut("Meta+K","",(function(){e.execCommand("mceLink")}))},Lt=function(e){e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Tt(e),onSetup:Pt(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ot(e),onSetup:Nt(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Me(e)},onSetup:_t(e)})},Mt=function(e){e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ot(e),onSetup:Nt(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Tt(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Me(e)},onSetup:_t(e)})},Rt=function(e){var t="link unlink openlink",n="link";e.ui.registry.addContextMenu("link",{update:function(r){return we(e.dom.getParents(r,"a"))?t:n}})},Bt=function(e){var t=function(e){e.selection.collapse(!1)},n=function(t){var n=e.selection.getNode();return t.setDisabled(!ye(e,n)),f},r=function(t){var n=ye(e),r=Ce(e);if(!n&&r){var o=be(e.selection,n);return x.some(o.length>0?o:t)}return x.none()};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Pt(e)},label:"Link",predicate:function(t){return!!ye(e,t)&&R(e)},initValue:function(){var t=ye(e);return t?pe(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=e.selection.getNode();return t.setActive(!!ye(e,n)),Pt(e)(t)},onAction:function(n){var o=n.getValue(),i=r(o),a={href:o,attach:f};Le(e,a,{href:o,text:i,title:x.none(),rel:x.none(),target:x.none(),class:x.none()}),t(e),n.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(t){Me(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(t){Ot(e)(),t.hide()}}]})};function jt(){e.add("link",(function(e){Lt(e),Mt(e),Rt(e),Bt(e),Dt(e),Et(e),It(e)}))}jt()})()},"2b99":function(e,t){(function(){"use strict";var e=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},r=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},o=function(e){return function(t){return r(t)===e}},i=function(e){return function(t){return typeof t===e}},a=o("string"),u=o("array"),c=i("boolean"),s=i("number"),l=function(){},f=function(e){return function(){return e}},d=function(e){return e},m=f(!1),g=f(!0),p="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",h=f(p),v=function(){return y},y=function(){var e=function(e){return e()},t=d,n={fold:function(e,t){return e()},isSome:m,isNone:g,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:t,orThunk:e,map:v,each:l,bind:v,exists:m,forall:g,filter:function(){return v()},toArray:function(){return[]},toString:f("none()")};return n}(),b=function(e){var t=f(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:g,isNone:m,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},w=function(e){return null===e||void 0===e?y:b(e)},x={some:b,none:v,from:w},C=h,k=tinymce.util.Tools.resolve("tinymce.Env"),S=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=Array.prototype.slice,O=Array.prototype.push,D=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},A=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},P=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},N=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],c=t(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r},_=function(e,t,n){return A(e,(function(e,r){n=t(n,e,r)})),n},E=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t},I=function(e,t){return E(D(e,t))},L=function(e,t){var n=T.call(e,0);return n.sort(t),n},M=Object.hasOwnProperty,R=function(e,t){return M.call(e,t)};"undefined"!==typeof window?window:Function("return this;")();var B=9,j=11,U=1,F=3,z=function(e){return e.dom.nodeType},H=function(e){return function(t){return z(t)===e}},$=H(F),W=function(e,t,n){if(!(a(n)||c(n)||s(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},K=function(e,t,n){W(e.dom,t,n)},V=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},G=function(e,t){return V(e,t,Node.DOCUMENT_POSITION_PRECEDING)},Y=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return X(r.childNodes[0])},J=function(e,t){var n=t||document,r=n.createElement(e);return X(r)},q=function(e,t){var n=t||document,r=n.createTextNode(e);return X(r)},X=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Q=function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(X)},Z={fromHtml:Y,fromTag:J,fromText:q,fromDom:X,fromPoint:Q},ee=function(e){return e.nodeType!==U&&e.nodeType!==B&&e.nodeType!==j||0===e.childElementCount},te=function(e,t){var n=void 0===t?document:t.dom;return ee(n)?[]:D(n.querySelectorAll(e),Z.fromDom)},ne=function(e){return x.from(e.dom.parentNode).map(Z.fromDom)},re=function(e){return D(e.dom.childNodes,Z.fromDom)},oe=function(e,t){return{element:e,offset:t}},ie=function(e,t){var n=re(e);return n.length>0&&t<n.length?oe(n[t],0):oe(e,t)},ae=function(e,t){var n=ne(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},ue=function(e,t){e.dom.appendChild(t.dom)},ce=function(e,t){ae(e,t),ue(t,e)},se=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?x.from(t.dom.nodeValue):x.none()},o=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r};return{get:n,getOption:r,set:o}},le=se($,"text"),fe=function(e){return le.get(e)},de=function(e,t){return te(t,e)},me=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ge=function(e,t){return e.isBlock(t)||R(e.schema.getShortEndedElements(),t.nodeName)},pe=function(e,t){return"false"===e.getContentEditable(t)},he=function(e,t){return"true"===e.getContentEditable(t)&&"false"===e.getContentEditableParent(t.parentNode)},ve=function(e,t){return!e.isBlock(t)&&R(e.schema.getWhiteSpaceElements(),t.nodeName)},ye=function(e,t){return ge(e,t)||pe(e,t)||ve(e,t)||he(e,t)},be=function(e){return 3===e.nodeType},we=function(){return{sOffset:0,fOffset:0,elements:[]}},xe=function(e,t){return ie(Z.fromDom(e),t)},Ce=function(e,t,n,r,o,i){void 0===i&&(i=!0);var a=i?t(!1):n;while(a){var u=pe(e,a);if(u||ve(e,a)){var c=u?r.cef(a):r.boundary(a);if(c)break;a=t(!0)}else{if(ge(e,a)){if(r.boundary(a))break}else be(a)&&r.text(a);if(a===o)break;a=t(!1)}}},ke=function(e,t,n,r,o){if(!ye(e,n)){var i=e.getParent(r,e.isBlock),a=new me(n,i),u=o?a.next.bind(a):a.prev.bind(a);Ce(e,u,n,{boundary:g,cef:g,text:function(e){o?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(Z.fromDom(e))}})}},Se=function(e,t,n,r,o,i){void 0===i&&(i=!0);var a=new me(n,t),u=[],c=we();ke(e,c,n,t,!1);var s=function(){return c.elements.length>0&&(u.push(c),c=we()),!1};return Ce(e,a.next.bind(a),n,{boundary:s,cef:function(e){return s(),o&&u.push.apply(u,o.cef(e)),!1},text:function(e){c.elements.push(Z.fromDom(e)),o&&o.text(e,c)}},r,i),r&&ke(e,c,r,t,!0),s(),u},Te=function(e,t){var n=xe(t.startContainer,t.startOffset),r=n.element.dom,o=xe(t.endContainer,t.endOffset),i=o.element.dom;return Se(e,t.commonAncestorContainer,r,i,{text:function(e,t){e===i?t.fOffset+=e.length-o.offset:e===r&&(t.sOffset+=n.offset)},cef:function(t){var n=I(de(Z.fromDom(t),"*[contenteditable=true]"),(function(t){var n=t.dom;return Se(e,n,n)}));return L(n,(function(e,t){return G(e.elements[0].dom,t.elements[0].dom)?1:-1}))}},!1)},Oe=function(e,t){return t.collapsed?[]:Te(e,t)},De=function(e,t){var n=e.createRng();return n.selectNode(t),Oe(e,n)},Ae=function(e,t){return I(t,(function(t){return De(e,t)}))},Pe=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=e.length);var o=t.regex;o.lastIndex=n;var i,a=[];while(i=o.exec(e)){var u=i[t.matchIndex],c=i.index+i[0].indexOf(u),s=c+u.length;if(s>r)break;a.push({start:c,finish:s}),o.lastIndex=s}return a},Ne=function(e,t){var n=_(e,(function(e,n){var r=fe(n),o=e.last,i=o+r.length,a=I(t,(function(e,t){return e.start<i&&e.finish>o?[{element:n,start:Math.max(o,e.start)-o,finish:Math.min(i,e.finish)-o,matchId:t}]:[]}));return{results:e.results.concat(a),last:i}}),{results:[],last:0}).results;return N(n,(function(e){return e.matchId}))},_e=function(e,t){return I(t,(function(t){var n=t.elements,r=D(n,fe).join(""),o=Pe(r,e,t.sOffset,r.length-t.fOffset);return Ne(n,o)}))},Ee=function(e,t){P(e,(function(e,n){P(e,(function(e){var r=Z.fromDom(t.cloneNode(!1));K(r,"data-mce-index",n);var o=e.element.dom;if(o.length===e.finish&&0===e.start)ce(e.element,r);else{o.length!==e.finish&&o.splitText(e.finish);var i=o.splitText(e.start);ce(Z.fromDom(i),r)}}))}))},Ie=function(e,t,n,r){var o=De(e,n),i=_e(t,o);return Ee(i,r),i.length},Le=function(e,t,n,r){var o=n.getBookmark(),i=e.select("td[data-mce-selected],th[data-mce-selected]"),a=i.length>0?Ae(e,i):Oe(e,n.getRng()),u=_e(t,a);return Ee(u,r),n.moveToBookmark(o),u.length},Me=function(e){var t=e.getAttribute("data-mce-index");return"number"===typeof t?""+t:t},Re=function(e,t,n,r){var o=e.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i=e.getBody();return Ge(e,t,!1),r?Le(e.dom,n,e.selection,o):Ie(e.dom,n,i,o)},Be=function(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)},je=function(e,t){var n=[],r=S.toArray(e.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=Me(r[o]);null!==i&&i.length&&(i===t.toString()&&n.push(r[o]))}return n},Ue=function(e,t,n){var r=t.get(),o=r.index,i=e.dom;n=!1!==n,n?o+1===r.count?o=0:o++:o-1===-1?o=r.count-1:o--,i.removeClass(je(e,r.index),"mce-match-marker-selected");var a=je(e,o);return a.length?(i.addClass(je(e,o),"mce-match-marker-selected"),e.selection.scrollIntoView(a[0]),o):-1},Fe=function(e,t){var n=t.parentNode;e.remove(t),e.isEmpty(n)&&e.remove(n)},ze=function(e,t){var n=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),r="("+n+")";return t?"(?:^|\\s|"+C()+")"+r+"(?=$|\\s|"+C()+")":r},He=function(e,t,n,r,o,i){var a=e.selection,u=ze(n,o),c=a.isForward(),s={regex:new RegExp(u,r?"g":"gi"),matchIndex:1},l=Re(e,t,s,i);if(k.browser.isSafari()&&a.setRng(a.getRng(),c),l){var f=Ue(e,t,!0);t.set({index:f,count:l,text:n,matchCase:r,wholeWord:o,inSelection:i})}return l},$e=function(e,t){var r=Ue(e,t,!0);t.set(n(n({},t.get()),{index:r}))},We=function(e,t){var r=Ue(e,t,!1);t.set(n(n({},t.get()),{index:r}))},Ke=function(e){var t=Me(e);return null!==t&&t.length>0},Ve=function(e,t,r,o,i){var a,u=t.get(),c=u.index,s=c;o=!1!==o;for(var l=e.getBody(),f=S.grep(S.toArray(l.getElementsByTagName("span")),Ke),d=0;d<f.length;d++){var m=Me(f[d]),g=a=parseInt(m,10);if(i||g===u.index){r.length?(f[d].firstChild.nodeValue=r,Be(f[d])):Fe(e.dom,f[d]);while(f[++d]){if(g=parseInt(Me(f[d]),10),g!==a){d--;break}Fe(e.dom,f[d])}o&&s--}else a>c&&f[d].setAttribute("data-mce-index",String(a-1))}return t.set(n(n({},u),{count:i?0:u.count-1,index:s})),o?$e(e,t):We(e,t),!i&&t.get().count>0},Ge=function(e,t,r){for(var o,i,a=t.get(),u=S.toArray(e.getBody().getElementsByTagName("span")),c=0;c<u.length;c++){var s=Me(u[c]);null!==s&&s.length&&(s===a.index.toString()&&(o||(o=u[c].firstChild),i=u[c].firstChild),Be(u[c]))}if(t.set(n(n({},a),{index:-1,count:0,text:""})),o&&i){var l=e.dom.createRng();return l.setStart(o,0),l.setEnd(i,i.data.length),!1!==r&&e.selection.setRng(l),l}},Ye=function(e,t){return t.get().count>1},Je=function(e,t){return t.get().count>1},qe=function(e,t){var n=function(n){return Ge(e,t,n)},r=function(n,r,o,i){return void 0===i&&(i=!1),He(e,t,n,r,o,i)},o=function(){return $e(e,t)},i=function(){return We(e,t)},a=function(n,r,o){return Ve(e,t,n,r,o)};return{done:n,find:r,next:o,prev:i,replace:a}},Xe=function(t){var n=e(x.none()),r=function(){return n.get().each(t)},o=function(){r(),n.set(x.none())},i=function(){return n.get().isSome()},a=function(){return n.get()},u=function(e){r(),n.set(x.some(e))};return{clear:o,isSet:i,get:a,set:u}},Qe=function(){var e=Xe(l),t=function(t){return e.get().each(t)};return n(n({},e),{on:t})},Ze=function(e,t){var r=Qe();e.undoManager.add();var o=S.trim(e.selection.getContent({format:"text"})),i=function(n){var r=Ye(e,t)?n.enable:n.disable;r("next");var o=Je(e,t)?n.enable:n.disable;o("prev")},a=function(e){var r=e.getData(),o=t.get();t.set(n(n({},o),{matchCase:r.matchcase,wholeWord:r.wholewords,inSelection:r.inselection}))},u=function(e,t){var n=["replace","replaceall","prev","next"],r=t?e.disable:e.enable;A(n,r)},c=function(t){e.windowManager.alert("Could not find the specified string.",(function(){t.focus("findtext")}))},s=function(e,t){k.browser.isSafari()&&k.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},l=function(n){Ge(e,t,!1),u(n,!0),i(n)},f=function(n){var r=n.getData(),o=t.get();if(r.findtext.length){if(o.text===r.findtext&&o.matchCase===r.matchcase&&o.wholeWord===r.wholewords)$e(e,t);else{var a=He(e,t,r.findtext,r.matchcase,r.wholewords,r.inselection);a<=0&&c(n),u(n,0===a)}i(n)}else l(n)},d=t.get(),m={findtext:o,replacetext:"",wholewords:d.wholeWord,matchcase:d.matchCase,inselection:d.inSelection},g={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:m,onChange:function(e,n){"findtext"===n.name&&t.get().count>0&&l(e)},onAction:function(n,r){var o=n.getData();switch(r.name){case"find":f(n);break;case"replace":Ve(e,t,o.replacetext)?i(n):l(n);break;case"replaceall":Ve(e,t,o.replacetext,!0,!0),l(n);break;case"prev":We(e,t),i(n);break;case"next":$e(e,t),i(n);break;case"matchcase":case"wholewords":case"inselection":a(n),l(n);break}s(n,r.name)},onSubmit:function(e){f(e),s(e,"find")},onClose:function(){e.focus(),Ge(e,t),e.undoManager.add()}};r.set(e.windowManager.open(g,{inline:"toolbar"}))},et=function(e,t){e.addCommand("SearchReplace",(function(){Ze(e,t)}))},tt=function(e,t){return function(){Ze(e,t)}},nt=function(e,t){e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:tt(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:tt(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",tt(e,t))};function rt(){t.add("searchreplace",(function(t){var n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return et(t,n),nt(t,n),qe(t,n)}))}rt()})()},"2c24":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},o=r("string"),i=r("object"),a=r("array"),u=function(e){return null===e||void 0===e},c=function(e){return!u(e)},s=function(){},l=function(e){return function(){return e}},f=function(e){return e},d=l(!1),m=l(!0),g=function(){return p},p=function(){var e=function(e){return e()},t=f,n={fold:function(e,t){return e()},isSome:d,isNone:m,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:t,orThunk:e,map:g,each:s,bind:g,exists:d,forall:m,filter:function(){return g()},toArray:function(){return[]},toString:l("none()")};return n}(),h=function(e){var t=l(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:m,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return h(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:p},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},v=function(e){return null===e||void 0===e?p:h(e)},y={some:h,none:g,from:v},b=Array.prototype.push,w=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},x=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);b.apply(t,e[n])}return t},C=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},k=Object.keys,S=Object.hasOwnProperty,T=function(e,t){for(var n=k(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},O=function(e,t){return D(e,t)?y.from(e[t]):y.none()},D=function(e,t){return S.call(e,t)},A=function(e){return e.getParam("media_scripts")},P=function(e){return e.getParam("audio_template_callback")},N=function(e){return e.getParam("video_template_callback")},_=function(e){return e.getParam("media_live_embeds",!0)},E=function(e){return e.getParam("media_filter_html",!0)},I=function(e){return e.getParam("media_url_resolver")},L=function(e){return e.getParam("media_alt_source",!0)},M=function(e){return e.getParam("media_poster",!0)},R=function(e){return e.getParam("media_dimensions",!0)},B=tinymce.util.Tools.resolve("tinymce.util.Tools"),j=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),U=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),F=function(e,t){if(e)for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n].filter))return e[n]},z=j.DOM,H=function(e){return e.replace(/px$/,"")},$=function(e){var t=e.map.style,n=t?z.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.map["data-ephox-embed-iri"],altsource:"",poster:"",width:O(n,"max-width").map(H).getOr(""),height:O(n,"max-height").map(H).getOr("")}},W=function(e,t){var n=C(!1),r={};return U({validate:!1,allow_conditional_comments:!0,start:function(t,o){if(n.get());else if(D(o.map,"data-ephox-embed-iri"))n.set(!0),r=$(o);else{if(r.source||"param"!==t||(r.source=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=B.extend(o.map,r)),"script"===t){var i=F(e,o.map.src);if(!i)return;r={type:"script",source:o.map.src,width:String(i.width),height:String(i.height)}}"source"===t&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src),"img"!==t||r.poster||(r.poster=o.map.src)}}}).parse(t),r.source=r.source||r.src||r.data,r.altsource=r.altsource||"",r.poster=r.poster||"",r},K=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n=e.toLowerCase().split(".").pop(),r=t[n];return r||""},V=tinymce.util.Tools.resolve("tinymce.html.Schema"),G=tinymce.util.Tools.resolve("tinymce.html.Writer"),Y=j.DOM,J=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},q=function(e,t){T(t,(function(t,n){var r=""+t;if(e.map[n]){var o=e.length;while(o--){var i=e[o];i.name===n&&(r?(e.map[n]=r,i.value=r):(delete e.map[n],e.splice(o,1)))}}else r&&(e.push({name:n,value:r}),e.map[n]=r)}))},X=function(e,t){var n=t.map.style,r=n?Y.parseStyle(n):{};r["max-width"]=J(e.width),r["max-height"]=J(e.height),q(t,{style:Y.serializeStyle(r)})},Q=["source","altsource"],Z=function(e,t,n){var r,o=G(),i=C(!1),a=0;return U({validate:!1,allow_conditional_comments:!0,comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,u,c){if(i.get());else if(D(u.map,"data-ephox-embed-iri"))i.set(!0),X(t,u);else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&q(u,{width:t.width,height:t.height});break}if(n)switch(e){case"video":q(u,{poster:t.poster,src:""}),t.altsource&&q(u,{src:""});break;case"iframe":q(u,{src:t.source});break;case"source":if(a<2&&(q(u,{src:t[Q[a]],type:t[Q[a]+"mime"]}),!t[Q[a]]))return;a++;break;case"img":if(!t.poster)return;r=!0;break}}o.start(e,u,c)},end:function(e){if(!i.get()){if("video"===e&&n)for(var u=0;u<2;u++)if(t[Q[u]]){var c=[];c.map={},a<=u&&(q(c,{src:t[Q[u]],type:t[Q[u]+"mime"]}),o.start("source",c,!0))}if(t.poster&&"object"===e&&n&&!r){var s=[];s.map={},q(s,{src:t.poster,width:t.width,height:t.height}),o.start("img",s,!0)}}o.end(e)}},V({})).parse(e),o.getContent()},ee=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],te=function(e){var t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"},ne=function(e,t){for(var n=te(t),r=e.regex.exec(t),o=n+e.url,i=function(e){o=o.replace("$"+e,(function(){return r[e]?r[e]:""}))},a=0;a<r.length;a++)i(a);return o.replace(/\?$/,"")},re=function(e){var t=ee.filter((function(t){return t.regex.test(e)}));return t.length>0?B.extend({},t[0],{url:ne(t[0],e)}):null},oe=function(e){var t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"},ie=function(e){var t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t},ae=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>"},ue=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>"},ce=function(e){return'<script src="'+e.source+'"><\/script>'},se=function(e,t){var n=B.extend({},t);if(!n.source&&(B.extend(n,W(A(e),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=K(n.source),n.altsourcemime=K(n.altsource),n.poster=e.convertURL(n.poster,"poster");var r=re(n.source);if(r&&(n.source=r.url,n.type=r.type,n.allowfullscreen=r.allowFullscreen,n.width=n.width||String(r.w),n.height=n.height||String(r.h)),n.embed)return Z(n.embed,n,!0);var o=F(A(e),n.source);o&&(n.type="script",n.width=String(o.width),n.height=String(o.height));var i=P(e),a=N(e);return n.width=n.width||"300",n.height=n.height||"150",B.each(n,(function(t,r){n[r]=e.dom.encode(""+t)})),"iframe"===n.type?oe(n):"application/x-shockwave-flash"===n.sourcemime?ie(n):-1!==n.sourcemime.indexOf("audio")?ae(n,i):"script"===n.type?ce(n):ue(n,a)},le=function(e){return e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri")},fe=function(e){e.on("click keyup touchend",(function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectSelected",(function(e){var t=e.target.getAttribute("data-mce-object");"script"===t&&e.preventDefault()})),e.on("ObjectResized",(function(e){var t=e.target;if(t.getAttribute("data-mce-object")){var n=t.getAttribute("data-mce-html");n&&(n=unescape(n),t.setAttribute("data-mce-html",escape(Z(n,{width:String(e.width),height:String(e.height)}))))}}))},de=tinymce.util.Tools.resolve("tinymce.util.Promise"),me={},ge=function(e,t,n){return new de((function(r,o){var i=function(n){return n.html&&(me[e.source]=n),r({url:e.source,html:n.html?n.html:t(e)})};me[e.source]?i(me[e.source]):n({url:e.source},i,o)}))},pe=function(e,t){return de.resolve({html:t(e),url:e.source})},he=function(e){return function(t){return se(e,t)}},ve=function(e,t){var n=I(e);return n?ge(t,he(e),n):pe(t,he(e))},ye=function(e){return D(me,e)},be=function(e,t){return O(t,e).bind((function(e){return O(e,"meta")}))},we=function(e,t,n){return function(r){var o,a=function(){return O(e,r)},u=function(){return O(t,r)},c=function(e){return O(e,"value").bind((function(e){return e.length>0?y.some(e):y.none()}))},s=function(){return a().bind((function(e){return i(e)?c(e).orThunk(u):u().orThunk((function(){return y.from(e)}))}))},l=function(){return u().orThunk((function(){return a().bind((function(e){return i(e)?c(e):y.from(e)}))}))};return o={},o[r]=(r===n?s():l()).getOr(""),o}},xe=function(e,t){var n={};return O(e,"dimensions").each((function(e){w(["width","height"],(function(r){O(t,r).orThunk((function(){return O(e,r)})).each((function(e){return n[r]=e}))}))})),n},Ce=function(e,n){var r=n?be(n,e).getOr({}):{},o=we(e,r,n);return t(t(t(t(t({},o("source")),o("altsource")),o("poster")),o("embed")),xe(e,r))},ke=function(e){var n=t(t({},e),{source:{value:O(e,"source").getOr("")},altsource:{value:O(e,"altsource").getOr("")},poster:{value:O(e,"poster").getOr("")}});return w(["width","height"],(function(t){O(e,t).each((function(e){var r=n.dimensions||{};r[t]=e,n.dimensions=r}))})),n},Se=function(e){return function(t){var n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})}},Te=function(e,t){return W(A(e),t)},Oe=function(e){var n=e.selection.getNode(),r=le(n)?e.serializer.serialize(n,{selection:!0}):"";return t({embed:r},W(A(e),r))},De=function(e,n){return function(r){if(o(r.url)&&r.url.trim().length>0){var i=r.html,a=Te(n,i),u=t(t({},a),{source:r.url,embed:i});e.setData(ke(u))}}},Ae=function(e,t){for(var n=e.dom.select("*[data-mce-object]"),r=0;r<t.length;r++)for(var o=n.length-1;o>=0;o--)t[r]===n[o]&&n.splice(o,1);e.selection.select(n[0])},Pe=function(e,t){var n=e.dom.select("*[data-mce-object]");e.insertContent(t),Ae(e,n),e.nodeChanged()},Ne=function(e,t,n){t.embed=Z(t.embed,t),t.embed&&(e.source===t.source||ye(t.source))?Pe(n,t.embed):ve(n,t).then((function(e){Pe(n,e.html)})).catch(Se(n))},_e=function(e){var n=Oe(e),r=C(n),o=ke(n),i=function(t,n){var r=Ce(n.getData(),"source");t.source!==r.source&&(De(v,e)({url:r.source,html:""}),ve(e,r).then(De(v,e)).catch(Se(e)))},a=function(t){var n=Ce(t.getData()),r=Te(e,n.embed);t.setData(ke(r))},u=function(n,r){var o=Ce(n.getData(),r),i=se(e,o);n.setData(ke(t(t({},o),{embed:i})))},c=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],s=R(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],l={title:"General",name:"general",items:x([c,s])},f={type:"textarea",name:"embed",label:"Paste your embed code below:"},d={title:"Embed",items:[f]},m=[];L(e)&&m.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),M(e)&&m.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var g={title:"Advanced",name:"advanced",items:m},p=[l,d];m.length>0&&p.push(g);var h={type:"tabpanel",tabs:p},v=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:h,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=Ce(t.getData());Ne(r.get(),n,e),t.close()},onChange:function(e,t){switch(t.name){case"source":i(r.get(),e);break;case"embed":a(e);break;case"dimensions":case"altsource":case"poster":u(e,t.name);break}r.set(Ce(e.getData()))},initialData:o})},Ee=function(e){var t=function(){_e(e)};return{showDialog:t}},Ie=function(e){var t=function(){_e(e)};e.addCommand("mceMedia",t)},Le=tinymce.util.Tools.resolve("tinymce.html.Node"),Me=tinymce.util.Tools.resolve("tinymce.Env"),Re=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Be=function(e,t){if(!1===E(e))return t;var n,r=G();return U({validate:!1,allow_conditional_comments:!1,comment:function(e){n||r.comment(e)},cdata:function(e){n||r.cdata(e)},text:function(e,t){n||r.text(e,t)},start:function(t,o,i){if(n=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=o.length-1;a>=0;a--){var u=o[a].name;0===u.indexOf("on")&&(delete o.map[u],o.splice(a,1)),"style"===u&&(o[a].value=e.dom.serializeStyle(e.dom.parseStyle(o[a].value),t))}r.start(t,o,i),n=!1}},end:function(e){n||r.end(e)}},V({})).parse(t),r.getContent()},je=function(e){var t=e.name;return"iframe"===t||"video"===t||"audio"===t},Ue=function(e,t,n,r){void 0===r&&(r=null);var o=e.attr(n);return c(o)?o:D(t,n)?null:r},Fe=function(e,t,n){var r="img"===t.name||"video"===e.name,o=r?"300":null,i="audio"===e.name?"30":"150",a=r?i:null;t.attr({width:Ue(e,n,"width",o),height:Ue(e,n,"height",a)})},ze=function(e,t,n,r){var o=Re({forced_root_block:!1,validate:!1},e.schema).parse(r,{context:t});while(o.firstChild)n.append(o.firstChild)},He=function(e,t){var n=t.name,r=new Le("img",1);return r.shortEnded=!0,We(e,t,r),Fe(t,r,{}),r.attr({style:t.attr("style"),src:Me.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),r},$e=function(e,t){var n=t.name,r=new Le("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),We(e,t,r);var o=e.dom.parseStyle(t.attr("style")),i=new Le(n,1);if(Fe(t,i,o),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0"});else{var a=["controls","crossorigin","currentTime","loop","muted","poster","preload"];w(a,(function(e){i.attr(e,t.attr(e))}));var u=r.attr("data-mce-html");c(u)&&ze(e,n,i,unescape(u))}var s=new Le("span",1);return s.attr("class","mce-shim"),r.append(i),r.append(s),r},We=function(e,t,n){var r=t.attributes,o=r.length;while(o--){var i=r[o].name,a=r[o].value;"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(a=e.convertURL(a,i)),n.attr("data-mce-p-"+i,a))}var u=t.firstChild&&t.firstChild.value;u&&(n.attr("data-mce-html",escape(Be(e,u))),n.firstChild=null)},Ke=function(e){var t=e.attr("class");return t&&/\btiny-pageembed\b/.test(t)},Ve=function(e){while(e=e.parent)if(e.attr("data-ephox-embed-iri")||Ke(e))return!0;return!1},Ge=function(e){return function(t){var n,r,o=t.length;while(o--)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||("script"!==n.name||(r=F(A(e),n.attr("src")),r))&&(r&&(r.width&&n.attr("width",r.width.toString()),r.height&&n.attr("height",r.height.toString())),je(n)&&_(e)&&Me.ceFalse?Ve(n)||n.replace($e(e,n)):Ve(n)||n.replace(He(e,n))))}},Ye=function(e){e.on("preInit",(function(){var t=e.schema.getSpecialElements();B.each("video audio iframe object".split(" "),(function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")}));var n=e.schema.getBoolAttrs();B.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(e){n[e]={}})),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",Ge(e)),e.serializer.addAttributeFilter("data-mce-object",(function(t,n){var r,o,i,a,u,c,s,l,f=t.length;while(f--)if(r=t[f],r.parent){s=r.attr(n),o=new Le(s,1),"audio"!==s&&"script"!==s&&(l=r.attr("class"),l&&-1!==l.indexOf("mce-preview-object")?o.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):o.attr({width:r.attr("width"),height:r.attr("height")})),o.attr({style:r.attr("style")}),a=r.attributes,i=a.length;while(i--){var d=a[i].name;0===d.indexOf("data-mce-p-")&&o.attr(d.substr(11),a[i].value)}"script"===s&&o.attr("type","text/javascript"),u=r.attr("data-mce-html"),u&&(c=new Le("#text",3),c.raw=!0,c.value=Be(e,unescape(u)),o.append(c)),r.replace(o)}}))})),e.on("SetContent",(function(){e.$("span.mce-preview-object").each((function(t,n){var r=e.$(n);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))},Je=function(e){e.on("ResolveName",(function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))},qe=function(e){var t=function(){return e.execCommand("mceMedia")};e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:function(t){var n=e.selection;return t.setActive(le(n.getNode())),n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t})};function Xe(){e.add("media",(function(e){return Ie(e),qe(e),Je(e),Ye(e),fe(e),Ee(e)}))}Xe()})()},"2cf9":function(e,t,n){n("209c")},3205:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=e.getParam("nonbreaking_force_tab",0);return"boolean"===typeof t?!0===t?3:0:t},n=function(e){return e.getParam("nonbreaking_wrap",!0,"boolean")},r=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},o=function(e){return!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled()},i=function(e,t){var i=function(){return o(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},a=function(){return'<span class="'+i()+'" contenteditable="false">'+r("&nbsp;",t)+"</span>"},u=n(e),c=u||e.plugins.visualchars?a():r("&nbsp;",t);e.undoManager.transact((function(){return e.insertContent(c)}))},a=function(e){e.addCommand("mceNonBreaking",(function(){i(e,1)}))},u=tinymce.util.Tools.resolve("tinymce.util.VK"),c=function(e){var n=t(e);n>0&&e.on("keydown",(function(t){if(t.keyCode===u.TAB&&!t.isDefaultPrevented()){if(t.shiftKey)return;t.preventDefault(),t.stopImmediatePropagation(),i(e,n)}}))},s=function(e){var t=function(){return e.execCommand("mceNonBreaking")};e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t})};function l(){e.add("nonbreaking",(function(e){a(e),s(e),c(e)}))}l()})()},4948:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(e){return e.getParam("content_style","","string")},o=function(e){return e.getParam("content_css_cors",!1,"boolean")},i=function(e){var t=e.getParam("body_class","","hash");return t[e.id]||""},a=function(e){var t=e.getParam("body_class","","string");return-1===t.indexOf("=")?t:i(e)},u=function(e){var t=e.getParam("body_id","","hash");return t[e.id]||t},c=function(e){var t=e.getParam("body_id","tinymce","string");return-1===t.indexOf("=")?t:u(e)},s=function(e){var i="",u=e.dom.encode,s=r(e);i+='<base href="'+u(e.documentBaseURI.getURI())+'">';var l=o(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(function(t){i+='<link type="text/css" rel="stylesheet" href="'+u(e.documentBaseURI.toAbsolute(t))+'"'+l+">"})),s&&(i+='<style type="text/css">'+s+"</style>");var f=c(e),d=a(e),m=t.mac?"e.metaKey":"e.ctrlKey && !e.altKey",g='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+m+")) {e.preventDefault();}}}, false);<\/script> ",p=e.getBody().dir,h=p?' dir="'+u(p)+'"':"",v="<!DOCTYPE html><html><head>"+i+'</head><body id="'+u(f)+'" class="mce-content-body '+u(d)+'"'+h+">"+e.getContent()+g+"</body></html>";return v},l=function(e){var t=s(e),n=e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}});n.focus("close")},f=function(e){e.addCommand("mcePreview",(function(){l(e)}))},d=function(e){var t=function(){return e.execCommand("mcePreview")};e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})};function m(){e.add("preview",(function(e){f(e),d(e)}))}m()})()},"550c":function(e,t,n){n("fb04")},"75b5":function(e,t,n){n("9623")},"7fa5":function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},r=function(e){return function(t){return n(t)===e}},o=function(e){return function(t){return typeof t===e}},i=function(e){return function(t){return e===t}},a=r("string"),u=r("object"),c=r("array"),s=i(null),l=o("boolean"),f=function(e){return null===e||void 0===e},d=function(e){return!f(e)},m=o("function"),g=o("number"),p=function(){},h=function(e){return function(){return e}},v=function(e){return e},y=h(!1),b=h(!0),w=function(){return x},x=function(){var e=function(e){return e()},t=v,n={fold:function(e,t){return e()},isSome:y,isNone:b,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(void 0),or:t,orThunk:e,map:w,each:p,bind:w,exists:y,forall:b,filter:function(){return w()},toArray:function(){return[]},toString:h("none()")};return n}(),C=function(e){var t=h(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:b,isNone:y,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return C(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:x},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},k=function(e){return null===e||void 0===e?x:C(e)},S={some:C,none:w,from:k},T=Object.keys,O=Object.hasOwnProperty,D=function(e,t){for(var n=T(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},A=function(e){return function(t,n){e[n]=t}},P=function(e,t,n,r){var o={};return D(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},N=function(e,t){var n={};return P(e,t,A(n),p),n},_=function(e,t){return O.call(e,t)},E=function(e,t){return _(e,t)&&void 0!==e[t]&&null!==e[t]},I=Array.prototype.push,L=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!c(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);I.apply(t,e[n])}return t},M=function(e,t){return t>=0&&t<e.length?S.some(e[t]):S.none()},R=function(e){return M(e,0)},B=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return S.none()};"undefined"!==typeof window?window:Function("return this;")();var j=function(e,t,n){if(!(a(n)||l(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},U=function(e,t,n){j(e.dom,t,n)},F=function(e,t){e.dom.removeAttribute(t)},z=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return W(r.childNodes[0])},H=function(e,t){var n=t||document,r=n.createElement(e);return W(r)},$=function(e,t){var n=t||document,r=n.createTextNode(e);return W(r)},W=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},K=function(e,t,n){return S.from(e.dom.elementFromPoint(t,n)).map(W)},V={fromHtml:z,fromTag:H,fromText:$,fromDom:W,fromPoint:K},G=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Y=tinymce.util.Tools.resolve("tinymce.util.Promise"),J=tinymce.util.Tools.resolve("tinymce.util.URI"),q=tinymce.util.Tools.resolve("tinymce.util.XHR"),X=function(e){return e.getParam("image_dimensions",!0,"boolean")},Q=function(e){return e.getParam("image_advtab",!1,"boolean")},Z=function(e){return e.getParam("image_uploadtab",!0,"boolean")},ee=function(e){return e.getParam("image_prepend_url","","string")},te=function(e){return e.getParam("image_class_list")},ne=function(e){return e.getParam("image_description",!0,"boolean")},re=function(e){return e.getParam("image_title",!1,"boolean")},oe=function(e){return e.getParam("image_caption",!1,"boolean")},ie=function(e){return e.getParam("image_list",!1)},ae=function(e){return d(e.getParam("images_upload_url"))},ue=function(e){return d(e.getParam("images_upload_handler"))},ce=function(e){return e.getParam("a11y_advanced_options",!1,"boolean")},se=function(e){return e.getParam("automatic_uploads",!0,"boolean")},le=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},fe=function(e){return new Y((function(t){var n=document.createElement("img"),r=function(e){n.onload=n.onerror=null,n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=function(){var e=le(n.width,n.clientWidth),t=le(n.height,n.clientHeight),o={width:e,height:t};r(Y.resolve(o))},n.onerror=function(){r(Y.reject("Failed to get image dimensions for: "+e))};var o=n.style;o.visibility="hidden",o.position="fixed",o.bottom=o.left="0px",o.width=o.height="auto",document.body.appendChild(n),n.src=e}))},de=function(e){return e&&(e=e.replace(/px$/,"")),e},me=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},ge=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},pe=function(e,t){var n=ie(e);a(n)?q.send({url:n,success:function(e){t(JSON.parse(e))}}):m(n)?n(t):t(n)},he=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!X(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},ve=function(e){return new Y((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(){n(r.error.message)},r.readAsDataURL(e)}))},ye=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},be=function(e,t){return J.isDomSafe(t,"img",e.settings)},we=G.DOM,xe=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?de(e.style.marginLeft):""},Ce=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?de(e.style.marginTop):""},ke=function(e){return e.style.borderWidth?de(e.style.borderWidth):""},Se=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},Te=function(e,t){return e.style[t]?e.style[t]:""},Oe=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},De=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},Ae=function(e){var t=we.create("figure",{class:"image"});we.insertAfter(t,e),t.appendChild(e),t.appendChild(we.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},Pe=function(e){var t=e.parentNode;we.insertAfter(e,t),we.remove(t)},Ne=function(e){Oe(e)?Pe(e):Ae(e)},_e=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},Ee=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=me(r),_e(e,t)):De(e,n,r)}},Ie=function(e,t){return e.style[t]?de(e.style[t]):Se(e,t)},Le=function(e,t){var n=me(t);e.style.marginLeft=n,e.style.marginRight=n},Me=function(e,t){var n=me(t);e.style.marginTop=n,e.style.marginBottom=n},Re=function(e,t){var n=me(t);e.style.borderWidth=n},Be=function(e,t){e.style.borderStyle=t},je=function(e){return Te(e,"borderStyle")},Ue=function(e){return"FIGURE"===e.nodeName},Fe=function(e){return"IMG"===e.nodeName},ze=function(e){return 0===we.getAttrib(e,"alt").length&&"presentation"===we.getAttrib(e,"role")},He=function(e){return ze(e)?"":Se(e,"alt")},$e=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},We=function(e,t){var n=document.createElement("img");return De(n,"style",t.style),(xe(n)||""!==t.hspace)&&Le(n,t.hspace),(Ce(n)||""!==t.vspace)&&Me(n,t.vspace),(ke(n)||""!==t.border)&&Re(n,t.border),(je(n)||""!==t.borderStyle)&&Be(n,t.borderStyle),e(n.getAttribute("style"))},Ke=function(e,n){var r=document.createElement("img");if(Xe(e,t(t({},n),{caption:!1}),r),Ye(r,n.alt,n.isDecorative),n.caption){var o=we.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(we.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r},Ve=function(e,t){return{src:Se(t,"src"),alt:He(t),title:Se(t,"title"),width:Ie(t,"width"),height:Ie(t,"height"),class:Se(t,"class"),style:e(Se(t,"style")),caption:Oe(t),hspace:xe(t),vspace:Ce(t),border:ke(t),borderStyle:Te(t,"borderStyle"),isDecorative:ze(t)}},Ge=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},Ye=function(e,t,n){if(n){we.setAttrib(e,"role","presentation");var r=V.fromDom(e);U(r,"alt","")}else{if(s(t)){r=V.fromDom(e);F(r,"alt")}else{r=V.fromDom(e);U(r,"alt",t)}"presentation"===we.getAttrib(e,"role")&&we.setAttrib(e,"role","")}},Je=function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||Ye(e,n.alt,n.isDecorative)},qe=function(e,t){return function(n,r,o){e(n,o),_e(n,t)}},Xe=function(e,t,n){var r=Ve(e,n);Ge(n,r,t,"caption",(function(e,t,n){return Ne(e)})),Ge(n,r,t,"src",De),Ge(n,r,t,"title",De),Ge(n,r,t,"width",Ee("width",e)),Ge(n,r,t,"height",Ee("height",e)),Ge(n,r,t,"class",De),Ge(n,r,t,"style",qe((function(e,t){return De(e,"style",t)}),e)),Ge(n,r,t,"hspace",qe(Le,e)),Ge(n,r,t,"vspace",qe(Me,e)),Ge(n,r,t,"border",qe(Re,e)),Ge(n,r,t,"borderStyle",qe(Be,e)),Je(n,r,t)},Qe=function(e,t){var n=e.dom.styles.parse(t),r=ge(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},Ze=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||ye(t))?null:t},et=function(e,t){var n=e.dom,r=N(e.schema.getTextBlockElements(),(function(t,n){return!e.schema.isValidChild(n,"figure")})),o=n.getParent(t.parentNode,(function(e){return E(r,e.nodeName)}),e.getBody());return o?n.split(o,t):t},tt=function(e){var t=Ze(e);return t?Ve((function(t){return Qe(e,t)}),t):$e()},nt=function(e,t){var n=Ke((function(t){return Qe(e,t)}),t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),Ue(r)){var o=et(e,r);e.selection.select(o)}else e.selection.select(r)},rt=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},ot=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},it=function(e,t){var n=Ze(e);if(Xe((function(t){return Qe(e,t)}),t,n),rt(e,n),Ue(n.parentNode)){var r=n.parentNode;et(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),he(e,t,n)},at=function(e,n){var r=n.src;return t(t({},n),{src:be(e,r)?r:""})},ut=function(e,n){var r=Ze(e);if(r){var o=Ve((function(t){return Qe(e,t)}),r),i=t(t({},o),n),a=at(e,i);i.src?it(e,a):ot(e,r)}else n.src&&nt(e,t(t({},$e()),n))},ct=function(e,t){var n=u(e)&&u(t);return n?lt(e,t):t},st=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)_(i,a)&&(r[a]=e(r[a],i[a]))}return r}},lt=st(ct),ft=function(e){return e.length>0},dt=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),mt=tinymce.util.Tools.resolve("tinymce.util.Tools"),gt=function(e){return a(e.value)?e.value:""},pt=function(e){return a(e.text)?e.text:a(e.title)?e.title:""},ht=function(e,t){var n=[];return mt.each(e,(function(e){var r=pt(e);if(void 0!==e.menu){var o=ht(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}})),n},vt=function(e){return void 0===e&&(e=gt),function(t){return t?S.from(t).map((function(t){return ht(t,e)})):S.none()}},yt=function(e){return vt(gt)(e)},bt=function(e){return _(e,"items")},wt=function(e,t){return B(e,(function(e){return bt(e)?wt(e.items,t):e.value===t?S.some(e):S.none()}))},xt=function(e,t){return e.bind((function(e){return wt(e,t)}))},Ct={sanitizer:vt,sanitize:yt,findEntry:xt},kt=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},St={makeTab:kt},Tt=function(e){var t=Ct.sanitizer((function(t){return e.convertURL(t.value||t.url,"src")})),n=new Y((function(n){pe(e,(function(e){n(t(e).map((function(e){return L([[{text:"None",value:""}],e])})))}))})),r=Ct.sanitize(te(e)),o=Q(e),i=Z(e),u=ae(e),c=ue(e),s=tt(e),l=ne(e),f=re(e),d=X(e),m=oe(e),g=ce(e),p=se(e),h=S.some(ee(e)).filter((function(e){return a(e)&&e.length>0}));return n.then((function(e){return{image:s,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:u,hasUploadHandler:c,hasDescription:l,hasImageTitle:f,hasDimensions:d,hasImageCaption:m,prependURL:h,hasAccessibilityOptions:g,automaticUploads:p}}))},Ot=function(e){var n={name:"src",type:"urlinput",filetype:"image",label:"Source"},r=e.imageList.map((function(e){return{name:"images",type:"listbox",label:"Image list",items:e}})),o={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},i={name:"title",type:"input",label:"Image title"},a={name:"dimensions",type:"sizeinput"},u={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},c=e.classList.map((function(e){return{name:"classes",type:"listbox",label:"Class",items:e}})),s={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},l=function(e){return e?{type:"grid",columns:2}:{type:"panel"}};return L([[n],r.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[u]:[],e.hasDescription?[o]:[],e.hasImageTitle?[i]:[],e.hasDimensions?[a]:[],[t(t({},l(e.classList.isSome()&&e.hasImageCaption)),{items:L([c.toArray(),e.hasImageCaption?[s]:[]])})]])},Dt=function(e){return{title:"General",name:"general",items:Ot(e)}},At={makeTab:Dt,makeItems:Ot},Pt=function(e){var t=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:t}},Nt={makeTab:Pt},_t=function(e){return{prevImage:Ct.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},Et=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},It=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},Lt=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?S.none():e.prependURL.bind((function(e){return t.substring(0,e.length)!==e?S.some(e+t):S.none()}))},Mt=function(e,t){var n=t.getData();Lt(e,n.src.value).each((function(e){t.setData({src:{value:e,meta:n.src.meta}})}))},Rt=function(e,t,n){e.hasDescription&&a(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&a(n.title)&&(t.title=n.title),e.hasDimensions&&(a(n.width)&&(t.dimensions.width=n.width),a(n.height)&&(t.dimensions.height=n.height)),a(n.class)&&Ct.findEntry(e.classList,n.class).each((function(e){t.classes=e.value})),e.hasImageCaption&&l(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(a(n.style)&&(t.style=n.style),a(n.vspace)&&(t.vspace=n.vspace),a(n.border)&&(t.border=n.border),a(n.hspace)&&(t.hspace=n.hspace),a(n.borderstyle)&&(t.borderstyle=n.borderstyle))},Bt=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var o=lt({},n);Rt(e,o,r),t.setData(o)}},jt=function(e,t,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!t.hasDimensions||(ft(i)?e.imageSize(i).then((function(e){n.open&&r.setData({dimensions:e})})).catch((function(e){return console.error(e)})):r.setData({dimensions:{width:"",height:""}}))},Ut=function(e,t,n){var r=n.getData(),o=Ct.findEntry(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map((function(e){return e.value})).getOr("")})},Ft=function(e,t,n,r){Mt(t,r),Bt(t,r),jt(e,t,n,r),Ut(t,n,r)},zt=function(e,t,n,r){var o=r.getData(),i=Ct.findEntry(t.imageList,o.images);i.each((function(e){var t=""===o.alt||n.prevImage.map((function(e){return e.text===o.alt})).getOr(!1);t?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})})),n.prevImage=i,Ft(e,t,n,r)},Ht=function(e){var t=e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"];return t?de(String(e["margin-top"])):""},$t=function(e){var t=e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"];return t?de(String(e["margin-right"])):""},Wt=function(e){return e["border-width"]?de(String(e["border-width"])):""},Kt=function(e){return e["border-style"]?String(e["border-style"]):""},Vt=function(e,t,n){return t(e(t(n)))},Gt=function(e,t,n){var r=ge(e(n.style)),o=lt({},n);return o.vspace=Ht(r),o.hspace=$t(r),o.border=Wt(r),o.borderstyle=Kt(r),o.style=Vt(e,t,r),o},Yt=function(e,t){var n=t.getData(),r=Gt(e.parseStyle,e.serializeStyle,n);t.setData(r)},Jt=function(e,t,n){var r=lt(Et(t.image),n.getData()),o=We(e.normalizeCss,It(r,!1));n.setData({style:o})},qt=function(e,t,n,r){var o=r.getData();r.block("Uploading image"),R(o.fileinput).fold((function(){r.unblock()}),(function(o){var i=URL.createObjectURL(o),a=function(){r.unblock(),URL.revokeObjectURL(i)},u=function(o){r.setData({src:{value:o,meta:{}}}),r.showTab("general"),Ft(e,t,n,r)};ve(o).then((function(n){var c=e.createBlobCache(o,i,n);t.automaticUploads?e.uploadImage(c).then((function(e){u(e.url),a()})).catch((function(t){a(),e.alertErr(t)})):(e.addToBlobCache(c),u(c.blobUri()),r.unblock())}))}))},Xt=function(e,t,n){return function(r,o){"src"===o.name?Ft(e,t,n,r):"images"===o.name?zt(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?Yt(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?Jt(e,t,r):"fileinput"===o.name?qt(e,t,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},Qt=function(e){return function(){e.open=!1}},Zt=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){var t={type:"tabpanel",tabs:L([[At.makeTab(e)],e.hasAdvTab?[St.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[Nt.makeTab(e)]:[]])};return t}var n={type:"panel",items:At.makeItems(e)};return n},en=function(e){return function(t){var n=_t(t);return{title:"Insert/Edit Image",size:"normal",body:Zt(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Et(t.image),onSubmit:e.onSubmit(t),onChange:Xt(e,t,n),onClose:Qt(n)}}},tn=function(e){return function(t){return function(n){var r=lt(Et(t.image),n.getData());e.execCommand("mceUpdateImage",!1,It(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),n.close()}}},nn=function(e){return function(t){return be(e,t)?fe(e.documentBaseURI.toAbsolute(t)).then((function(e){return{width:String(e.width),height:String(e.height)}})):Y.resolve({width:"",height:""})}},rn=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,filename:t.name,base64:r.split(",")[1]})}},on=function(e){return function(t){e.editorUpload.blobCache.add(t)}},an=function(e){return function(t){e.windowManager.alert(t)}},un=function(e){return function(t){return Qe(e,t)}},cn=function(e){return function(t){return e.dom.parseStyle(t)}},sn=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},ln=function(e){return function(t){return dt(e).upload([t],!1).then((function(e){return 0===e.length?Y.reject("Failed to upload image"):!1===e[0].status?Y.reject(e[0].error.message):e[0]}))}},fn=function(e){var t={onSubmit:tn(e),imageSize:nn(e),addToBlobCache:on(e),createBlobCache:rn(e),alertErr:an(e),normalizeCss:un(e),parseStyle:cn(e),serializeStyle:sn(e),uploadImage:ln(e)},n=function(){Tt(e).then(en(t)).then(e.windowManager.open)};return{open:n}},dn=function(e){e.addCommand("mceImage",fn(e).open),e.addCommand("mceUpdateImage",(function(t,n){e.undoManager.transact((function(){return ut(e,n)}))}))},mn=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},gn=function(e){return function(t){var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};while(n--){var o=t[n];mn(o)&&(o.attr("contenteditable",e?"false":null),mt.each(o.getAll("figcaption"),r))}}},pn=function(e){e.on("PreInit",(function(){e.parser.addNodeFilter("figure",gn(!0)),e.serializer.addNodeFilter("figure",gn(!1))}))},hn=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:fn(e).open,onSetup:function(t){return t.setActive(d(Ze(e))),e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:fn(e).open}),e.ui.registry.addContextMenu("image",{update:function(e){return Ue(e)||Fe(e)&&!ye(e)?["image"]:[]}})};function vn(){e.add("image",(function(e){pn(e),hn(e),dn(e)}))}vn()})()},"8e0d":function(e,t,n){n("7fa5")},"8e2c":function(e,t,n){n("2b99")},9153:function(e,t,n){n("3205")},9156:function(e,t,n){n("2c24")},9623:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},n=function(e){return function(n){return t(n)===e}},r=function(e){return function(t){return typeof t===e}},o=n("string"),i=n("object"),a=n("array"),u=r("boolean"),c=r("function"),s=r("number"),l=function(){},f=function(e){return function(){return e}},d=function(e){return e},m=function(e,t){return e===t},g=function(e){return function(t){return!e(t)}},p=f(!1),h=f(!0),v=function(){return y},y=function(){var e=function(e){return e()},t=d,n={fold:function(e,t){return e()},isSome:p,isNone:h,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:t,orThunk:e,map:v,each:l,bind:v,exists:p,forall:h,filter:function(){return v()},toArray:function(){return[]},toString:f("none()")};return n}(),b=function(e){var t=f(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:h,isNone:p,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return b(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},w=function(e){return null===e||void 0===e?y:b(e)},x={some:b,none:v,from:w},C=Array.prototype.slice,k=Array.prototype.push,S=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},T=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},O=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},D=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],c=t(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r},A=function(e,t,n){return T(e,(function(e,r){n=t(n,e,r)})),n},P=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return x.some(i);if(n(i,r))break}return x.none()},N=function(e,t){return P(e,t,p)},_=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},E=function(e,t){return _(S(e,t))},I=function(e){var t=C.call(e,0);return t.reverse(),t},L=function(e,t){return t>=0&&t<e.length?x.some(e[t]):x.none()},M=function(e){return L(e,0)},R=function(e){return L(e,e.length-1)},B=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return x.none()},j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j.apply(this,arguments)};function U(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var F=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},z=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),c=o||!i&&a&&r("(min-device-width:768px)"),s=i||a&&!c,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!s&&!c&&!l;return{isiPad:f(o),isiPhone:f(i),isTablet:f(c),isPhone:f(s),isTouch:f(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:f(l),isDesktop:f(d)}},H=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},$=function(e,t){var n=H(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return V(r(1),r(2))},W=function(e,t){var n=String(t).toLowerCase();return 0===e.length?K():$(e,n)},K=function(){return V(0,0)},V=function(e,t){return{major:e,minor:t}},G={nu:V,detect:W,unknown:K},Y=function(e,t){return B(t.brands,(function(t){var n=t.brand.toLowerCase();return N(e,(function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((function(e){return{current:e.name,version:G.nu(parseInt(t.version,10),0)}}))}))},J=function(e,t){var n=String(t).toLowerCase();return N(e,(function(e){return e.search(n)}))},q=function(e,t){return J(e,t).map((function(e){var n=G.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},X=function(e,t){return J(e,t).map((function(e){var n=G.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},Q=function(e,t){return-1!==e.indexOf(t)},Z=function(e){return function(t){return t.replace(e,"")}},ee=Z(/^\s+|\s+$/g),te=function(e){return e.length>0},ne=function(e){return!te(e)},re=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oe=function(e){return function(t){return Q(t,e)}},ie=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Q(e,"edge/")&&Q(e,"chrome")&&Q(e,"safari")&&Q(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,re],search:function(e){return Q(e,"chrome")&&!Q(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Q(e,"msie")||Q(e,"trident")}},{name:"Opera",versionRegexes:[re,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oe("firefox")},{name:"Safari",versionRegexes:[re,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Q(e,"safari")||Q(e,"mobile/"))&&Q(e,"applewebkit")}}],ae=[{name:"Windows",search:oe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Q(e,"iphone")||Q(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:oe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oe("linux"),versionRegexes:[]},{name:"Solaris",search:oe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ue={browsers:f(ie),oses:f(ae)},ce="Edge",se="Chrome",le="IE",fe="Opera",de="Firefox",me="Safari",ge=function(){return pe({current:void 0,version:G.unknown()})},pe=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(ce),isChrome:r(se),isIE:r(le),isOpera:r(fe),isFirefox:r(de),isSafari:r(me)}},he={unknown:ge,nu:pe,edge:f(ce),chrome:f(se),ie:f(le),opera:f(fe),firefox:f(de),safari:f(me)},ve="Windows",ye="iOS",be="Android",we="Linux",xe="OSX",Ce="Solaris",ke="FreeBSD",Se="ChromeOS",Te=function(){return Oe({current:void 0,version:G.unknown()})},Oe=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(ve),isiOS:r(ye),isAndroid:r(be),isOSX:r(xe),isLinux:r(we),isSolaris:r(Ce),isFreeBSD:r(ke),isChromeOS:r(Se)}},De={unknown:Te,nu:Oe,windows:f(ve),ios:f(ye),android:f(be),linux:f(we),osx:f(xe),solaris:f(Ce),freebsd:f(ke),chromeos:f(Se)},Ae=function(e,t,n){var r=ue.browsers(),o=ue.oses(),i=t.bind((function(e){return Y(r,e)})).orThunk((function(){return q(r,e)})).fold(he.unknown,he.nu),a=X(o,e).fold(De.unknown,De.nu),u=z(a,i,e,n);return{browser:i,os:a,deviceType:u}},Pe={detect:Ae},Ne=function(e){return window.matchMedia(e).matches},_e=F((function(){return Pe.detect(navigator.userAgent,x.from(navigator.userAgentData),Ne)})),Ee=function(){return _e()},Ie=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Le=function(e,t){return Ie(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},Me=1,Re=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Ue(r.childNodes[0])},Be=function(e,t){var n=t||document,r=n.createElement(e);return Ue(r)},je=function(e,t){var n=t||document,r=n.createTextNode(e);return Ue(r)},Ue=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:e}},Fe=function(e,t,n){return x.from(e.dom.elementFromPoint(t,n)).map(Ue)},ze={fromHtml:Re,fromTag:Be,fromText:je,fromDom:Ue,fromPoint:Fe},He=function(e,t){var n=e.dom;if(n.nodeType!==Me)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},$e=function(e,t){return e.dom===t.dom},We=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},Ke=function(e,t){return Le(e.dom,t.dom)},Ve=function(e,t){return Ee().browser.isIE()?Ke(e,t):We(e,t)},Ge=He,Ye=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Je=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),qe=tinymce.util.Tools.resolve("tinymce.util.VK"),Xe=Object.keys,Qe=function(e,t){for(var n=Xe(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},Ze=function(e){return function(t,n){e[n]=t}},et=function(e,t,n,r){var o={};return Qe(e,(function(e,o){(t(e,o)?n:r)(e,o)})),o},tt=function(e,t){var n={};return et(e,t,Ze(n),l),n};"undefined"!==typeof window?window:Function("return this;")();var nt=function(e){var t=e.dom.nodeName;return t.toLowerCase()},rt=function(e){return e.dom.nodeType},ot=function(e){return function(t){return rt(t)===e}},it=ot(Me),at=function(e){return function(t){return it(t)&&nt(t)===e}},ut=function(e,t,n){if(!(o(n)||u(n)||s(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ct=function(e,t){var n=e.dom;Qe(t,(function(e,t){ut(n,t,e)}))},st=function(e){return A(e.dom.attributes,(function(e,t){return e[t.name]=t.value,e}),{})},lt=function(e){return x.from(e.dom.parentNode).map(ze.fromDom)},ft=function(e){return S(e.dom.childNodes,ze.fromDom)},dt=function(e,t){var n=e.dom.childNodes;return x.from(n[t]).map(ze.fromDom)},mt=function(e){return dt(e,0)},gt=function(e){return dt(e,e.dom.childNodes.length-1)},pt=function(e,t){var n=lt(e);n.each((function(n){n.dom.insertBefore(t.dom,e.dom)}))},ht=function(e,t){e.dom.appendChild(t.dom)},vt=function(e,t){T(t,(function(t){pt(e,t)}))},yt=function(e,t){T(t,(function(t){ht(e,t)}))},bt=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},wt=function(e,t){return ze.fromDom(e.dom.cloneNode(t))},xt=function(e){return wt(e,!0)},Ct=function(e,t){var n=ze.fromTag(t),r=st(e);return ct(n,r),n},kt=function(e,t){var n=Ct(e,t);pt(e,n);var r=ft(e);return yt(n,r),bt(e),n},St=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Tt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ot=function(e){return function(t){return t&&t.nodeName.toLowerCase()===e}},Dt=function(e){return function(t){return t&&e.test(t.nodeName)}},At=function(e){return e&&3===e.nodeType},Pt=Dt(/^(OL|UL|DL)$/),Nt=Dt(/^(OL|UL)$/),_t=Ot("ol"),Et=Dt(/^(LI|DT|DD)$/),It=Dt(/^(DT|DD)$/),Lt=Dt(/^(TH|TD)$/),Mt=Ot("br"),Rt=function(e){return e.parentNode.firstChild===e},Bt=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},jt=function(e,t){return e&&e.nodeName in t},Ut=function(e,t){return!!Mt(t)&&(e.isBlock(t.nextSibling)&&!Mt(t.previousSibling))},Ft=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},zt=function(e,t){return e.isChildOf(t,e.getRoot())},Ht=function(e){return e.getParam("lists_indent_on_tab",!0)},$t=function(e){var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Wt=function(e){return e.getParam("forced_root_block_attrs",{})},Kt=function(e,t){var n,r,o,i=e.dom,a=e.schema.getBlockElements(),u=i.createFragment(),c=$t(e);if(c&&(r=i.create(c),r.tagName===c.toUpperCase()&&i.setAttribs(r,Wt(e)),jt(t.firstChild,a)||u.appendChild(r)),t)while(n=t.firstChild){var s=n.nodeName;o||"SPAN"===s&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),jt(n,a)?(u.appendChild(n),r=null):c?(r||(r=i.create(c),u.appendChild(r)),r.appendChild(n)):u.appendChild(n)}return c?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):u.appendChild(i.create("br")),u},Vt=St.DOM,Gt=function(e,t,n){var r=function(e){Tt.each(o,(function(t){e.parentNode.insertBefore(t,n.parentNode)})),Vt.remove(e)},o=Vt.select('span[data-mce-type="bookmark"]',t),i=Kt(e,n),a=Vt.createRng();a.setStartAfter(n),a.setEndAfter(t);for(var u=a.extractContents(),c=u.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&e.dom.isEmpty(c)){Vt.remove(c);break}e.dom.isEmpty(u)||Vt.insertAfter(u,t),Vt.insertAfter(i,t),Ft(e.dom,n.parentNode)&&r(n.parentNode),Vt.remove(n),Ft(e.dom,t)&&Vt.remove(t)},Yt=at("dd"),Jt=at("dt"),qt=function(e,t){Yt(t)?kt(t,"dt"):Jt(t)&&lt(t).each((function(n){return Gt(e,n.dom,t.dom)}))},Xt=function(e){Jt(e)&&kt(e,"dd")},Qt=function(e,t,n){T(n,"Indent"===t?Xt:function(t){return qt(e,t)})},Zt=function(e,t){if(At(e))return{container:e,offset:t};var n=Ye.getNode(e,t);return At(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&At(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&At(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},en=function(e){var t=e.cloneRange(),n=Zt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=Zt(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},tn=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),nn=function(e,t){var n=t||e.selection.getStart(!0);return e.dom.getParent(n,"OL,UL,DL",ln(e,n))},rn=function(e,t){return e&&1===t.length&&t[0]===e},on=function(e){return O(e.querySelectorAll("ol,ul,dl"),Pt)},an=function(e){var t=nn(e),n=e.selection.getSelectedBlocks();return rn(t,n)?on(t):O(n,(function(e){return Pt(e)&&t!==e}))},un=function(e,t){var n=Tt.map(t,(function(t){var n=e.dom.getParent(t,"li,dd,dt",ln(e,t));return n||t}));return tn.unique(n)},cn=function(e){var t=e.selection.getSelectedBlocks();return O(un(e,t),Et)},sn=function(e){return O(cn(e),It)},ln=function(e,t){var n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},fn=function(e,t){var n=e.dom.getParents(t,"ol,ul",ln(e,t));return R(n)},dn=function(e){var t=fn(e,e.selection.getStart()),n=O(e.selection.getSelectedBlocks(),Nt);return t.toArray().concat(n)},mn=function(e){var t=dn(e);return gn(e,t)},gn=function(e,t){var n=S(t,(function(t){return fn(e,t).getOr(t)}));return tn.unique(n)},pn=function(e,t,n){return void 0===n&&(n=m),e.exists((function(e){return n(e,t)}))},hn=function(e,t,n){return e.isSome()&&t.isSome()?x.some(n(e.getOrDie(),t.getOrDie())):x.none()},vn=function(e,t){var n=t||document,r=n.createDocumentFragment();return T(e,(function(e){r.appendChild(e.dom)})),ze.fromDom(r)},yn=function(e,t,n){return e.fire("ListMutation",{action:t,element:n})},bn=function(e){return void 0!==e.style&&c(e.style.getPropertyValue)},wn=function(e,t,n){if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);bn(e)&&e.style.setProperty(t,n)},xn=function(e,t,n){var r=e.dom;wn(r,t,n)},Cn=function(e,t){ht(e.item,t.list)},kn=function(e){for(var t=1;t<e.length;t++)Cn(e[t-1],e[t])},Sn=function(e,t){hn(R(e),M(t),Cn)},Tn=function(e,t){var n={list:ze.fromTag(t,e),item:ze.fromTag("li",e)};return ht(n.list,n.item),n},On=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(Tn(e,t.listType));return r},Dn=function(e,t){for(var n=0;n<e.length-1;n++)xn(e[n].item,"list-style-type","none");R(e).each((function(e){ct(e.list,t.listAttributes),ct(e.item,t.itemAttributes),yt(e.item,t.content)}))},An=function(e,t){nt(e.list)!==t.listType&&(e.list=kt(e.list,t.listType)),ct(e.list,t.listAttributes)},Pn=function(e,t,n){var r=ze.fromTag("li",e);return ct(r,t),yt(r,n),r},Nn=function(e,t){ht(e.list,t),e.item=t},_n=function(e,t,n){var r=t.slice(0,n.depth);return R(r).each((function(t){var r=Pn(e,n.itemAttributes,n.content);Nn(t,r),An(t,n)})),r},En=function(e,t,n){var r=On(e,n,n.depth-t.length);return kn(r),Dn(r,n),Sn(t,r),t.concat(r)},In=function(e,t){var n=A(t,(function(t,n){return n.depth>t.length?En(e,t,n):_n(e,t,n)}),[]);return M(n).map((function(e){return e.list}))},Ln=function(e){return Ge(e,"OL,UL")},Mn=function(e){return mt(e).exists(Ln)},Rn=function(e){return gt(e).exists(Ln)},Bn=function(e){return e.depth>0},jn=function(e){return e.isSelected},Un=function(e){var t=ft(e),n=Rn(e)?t.slice(0,-1):t;return S(n,xt)},Fn=function(e,t,n){return lt(e).filter(it).map((function(r){return{depth:t,dirty:!1,isSelected:n,content:Un(e),itemAttributes:st(e),listAttributes:st(r),listType:nt(r)}}))},zn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0},Hn=function(e,t){e.listType=t.listType,e.listAttributes=j({},t.listAttributes)},$n=function(e){e.listAttributes=tt(e.listAttributes,(function(e,t){return"start"!==t}))},Wn=function(e,t){var n=e[t].depth,r=function(e){return e.depth===n&&!e.dirty},o=function(e){return e.depth<n};return P(I(e.slice(0,t)),r,o).orThunk((function(){return P(e.slice(t+1),r,o)}))},Kn=function(e){return T(e,(function(t,n){Wn(e,n).fold((function(){t.dirty&&$n(t)}),(function(e){return Hn(t,e)}))})),e},Vn=function(e){var t=e,n=function(){return t},r=function(e){t=e};return{get:n,set:r}},Gn=function(e,t,n,r){return mt(r).filter(Ln).fold((function(){t.each((function(e){$e(e.start,r)&&n.set(!0)}));var o=Fn(r,e,n.get());t.each((function(e){$e(e.end,r)&&n.set(!1)}));var i=gt(r).filter(Ln).map((function(r){return Yn(e,t,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return Yn(e,t,n,r)}))},Yn=function(e,t,n,r){return E(ft(r),(function(r){var o=Ln(r)?Yn:Gn,i=e+1;return o(i,t,n,r)}))},Jn=function(e,t){var n=Vn(!1),r=0;return S(e,(function(e){return{sourceList:e,entries:Yn(r,t,n,e)}}))},qn=function(e,t){var n=Kn(t);return S(n,(function(t){var n=vn(t.content);return ze.fromDom(Kt(e,n.dom))}))},Xn=function(e,t){var n=Kn(t);return In(e.contentDocument,n).toArray()},Qn=function(e,t){return E(D(t,Bn),(function(t){var n=M(t).exists(Bn);return n?Xn(e,t):qn(e,t)}))},Zn=function(e,t){T(O(e,jn),(function(e){return zn(t,e)}))},er=function(e){var t=S(cn(e),ze.fromDom);return hn(N(t,g(Mn)),N(I(t),g(Mn)),(function(e,t){return{start:e,end:t}}))},tr=function(e,t,n){var r=Jn(t,er(e));T(r,(function(t){Zn(t.entries,n);var r=Qn(e,t.entries);T(r,(function(t){yn(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),vt(t.sourceList,r),bt(t.sourceList)}))},nr=function(e,t){var n=S(mn(e),ze.fromDom),r=S(sn(e),ze.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();tr(e,n,t),Qt(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(en(e.selection.getRng())),e.nodeChanged(),o=!0}return o},rr=function(e){return nr(e,"Indent")},or=function(e){return nr(e,"Outdent")},ir=function(e){return nr(e,"Flatten")},ar=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),ur=St.DOM,cr=function(e){var t={},n=function(n){var r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"];if(1===r.nodeType){var i=ur.create("span",{"data-mce-type":"bookmark"});r.hasChildNodes()?(o=Math.min(o,r.childNodes.length-1),n?r.insertBefore(i,r.childNodes[o]):ur.insertAfter(i,r.childNodes[o])):r.appendChild(i),r=i,o=0}t[n?"startContainer":"endContainer"]=r,t[n?"startOffset":"endOffset"]=o};return n(!0),e.collapsed||n(),t},sr=function(e){var t=function(t){var n,r=function(e){var t=e.parentNode.firstChild,n=0;while(t){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1},o=n=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"];o&&(1===o.nodeType&&(i=r(o),o=o.parentNode,ur.remove(n),!o.hasChildNodes()&&ur.isBlock(o)&&o.appendChild(ur.create("br"))),e[t?"startContainer":"endContainer"]=o,e[t?"startOffset":"endOffset"]=i)};t(!0),t();var n=ur.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),en(n)},lr=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},fr=function(e){return/\btox\-/.test(e.className)},dr=function(e,t,n){var r=function(e){var r=P(e.parents,Pt,Lt).filter((function(e){return e.nodeName===t&&!fr(e)})).isSome();n(r)},o=e.dom.getParents(e.selection.getNode());return r({parents:o}),e.on("NodeChange",r),function(){return e.off("NodeChange",r)}},mr=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},gr=function(e,t){Tt.each(t,(function(t,n){e.setAttribute(n,t)}))},pr=function(e,t,n){gr(t,n["list-attributes"]),Tt.each(e.select("li",t),(function(e){gr(e,n["list-item-attributes"])}))},hr=function(e,t,n){mr(e,t,n),pr(e,t,n)},vr=function(e,t,n){Tt.each(n,(function(n){var r;return e.setStyle(t,(r={},r[n]="",r))}))},yr=function(e,t,n,r){var o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"];1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Mt(o.nextSibling)&&(o=o.nextSibling);while(o.parentNode!==r){if(Bt(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},br=function(e,t,n){for(var r,o=[],i=e.dom,a=yr(e,t,!0,n),u=yr(e,t,!1,n),c=[],s=a;s;s=s.nextSibling)if(c.push(s),s===u)break;return Tt.each(c,(function(t){if(Bt(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||Mt(t))return Mt(t)&&i.remove(t),void(r=null);var a=t.nextSibling;ar.isBookmarkNode(t)&&(Pt(a)||Bt(e,a)||!a&&t.parentNode===n)?r=null:(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),r.appendChild(t))})),o},wr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},xr=function(e,t,n){var r=e.selection.getRng(),o="LI",i=ln(e,e.selection.getStart(!0)),a=e.dom;if("false"!==a.getContentEditable(e.selection.getNode())){t=t.toUpperCase(),"DL"===t&&(o="DT");var u=cr(r),c=br(e,r,i);Tt.each(c,(function(r){var i,u=r.previousSibling,c=r.parentNode;Et(c)||(u&&Pt(u)&&u.nodeName===t&&wr(a,u,n)?(i=u,r=a.rename(r,o),u.appendChild(r)):(i=a.create(t),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),vr(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),hr(a,i,n),Or(e.dom,i))})),e.selection.setRng(sr(u))}},Cr=function(e,t){return e&&t&&Pt(e)&&e.nodeName===t.nodeName},kr=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),o=e.getStyle(n,"list-style-type",!0);return r===o},Sr=function(e,t){return e.className===t.className},Tr=function(e,t,n){return Cr(t,n)&&kr(e,t,n)&&Sr(t,n)},Or=function(e,t){var n,r;if(n=t.nextSibling,Tr(e,t,n)){while(r=n.firstChild)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Tr(e,t,n)){while(r=n.lastChild)t.insertBefore(r,t.firstChild);e.remove(n)}},Dr=function(e,t,n,r){if(t.nodeName!==n){var o=e.dom.rename(t,n);hr(e.dom,o,r),yn(e,lr(n),o)}else hr(e.dom,t,r),yn(e,lr(n),t)},Ar=function(e,t,n,r,o){var i=Pt(t);if(i&&t.nodeName===r&&!Pr(o))ir(e);else{xr(e,r,o);var a=cr(e.selection.getRng()),u=i?U([t],n,!0):n;Tt.each(u,(function(t){Dr(e,t,r,o)})),e.selection.setRng(sr(a))}},Pr=function(e){return"list-style-type"in e},Nr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||Pr(r)||fr(t)){var o=cr(e.selection.getRng());hr(e.dom,t,r);var i=e.dom.rename(t,n);Or(e.dom,i),e.selection.setRng(sr(o)),xr(e,n,r),yn(e,lr(n),i)}else ir(e);else xr(e,n,r),yn(e,lr(n),t)},_r=function(e,t,n){var r=nn(e),o=an(e),a=i(n)?n:{};o.length>0?Ar(e,r,o,t,a):Nr(e,r,t,a)},Er=St.DOM,Ir=function(e,t){var n=t.parentNode;if("LI"===n.nodeName&&n.firstChild===t){var r=n.previousSibling;r&&"LI"===r.nodeName?(r.appendChild(t),Ft(e,n)&&Er.remove(n)):Er.setStyle(n,"listStyleType","none")}if(Pt(n)){r=n.previousSibling;r&&"LI"===r.nodeName&&r.appendChild(t)}},Lr=function(e,t){var n=Tt.grep(e.select("ol,ul",t));Tt.each(n,(function(t){Ir(e,t)}))},Mr=function(e,t,n,r){var o=t.startContainer,i=t.startOffset;if(At(o)&&(n?i<o.data.length:i>0))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=Ye.getNode(o,i));var u=new Je(o,r);n&&Ut(e.dom,o)&&u.next();while(o=u[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(At(o)&&o.data.length>0)return o}},Rr=function(e,t){var n=t.childNodes;return 1===n.length&&!Pt(n[0])&&e.isBlock(n[0])},Br=function(e,t){Rr(e,t)&&e.remove(t.firstChild,!0)},jr=function(e,t,n){var r,o=Rr(e,n)?n.firstChild:n;if(Br(e,t),!Ft(e,t,!0))while(r=t.firstChild)o.appendChild(r)},Ur=function(e,t,n){var r,o=t.parentNode;if(zt(e,t)&&zt(e,n)){Pt(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&Mt(o.previousSibling)&&e.remove(o.previousSibling);var i=n.lastChild;i&&Mt(i)&&t.hasChildNodes()&&e.remove(i),Ft(e,n,!0)&&e.$(n).empty(),jr(e,t,n),r&&n.appendChild(r);var a=Ve(ze.fromDom(n),ze.fromDom(t)),u=a?e.getParents(t,Pt,n):[];e.remove(t),T(u,(function(t){Ft(e,t)&&t!==e.getRoot()&&e.remove(t)}))}},Fr=function(e,t,n){e.dom.$(n).empty(),Ur(e.dom,t,n),e.selection.setCursorLocation(n,0)},zr=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))Fr(e,n,r);else{var i=cr(t);Ur(o,n,r),e.selection.setRng(sr(i))}},Hr=function(e,t,n,r){var o=cr(t);Ur(e.dom,n,r);var i=sr(o);e.selection.setRng(i)},$r=function(e,t){var n=e.dom,r=e.selection,o=r.getStart(),i=ln(e,o),a=n.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===e.getBody()&&Ft(n,u))return!0;var c=en(r.getRng()),s=n.getParent(Mr(e,c,t,i),"LI",i);if(s&&s!==a)return e.undoManager.transact((function(){t?zr(e,c,s,a):Rt(a)?or(e):Hr(e,c,a,s)})),!0;if(!s&&!t&&0===c.startOffset&&0===c.endOffset)return e.undoManager.transact((function(){ir(e)})),!0}return!1},Wr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Kr=function(e,t){var n=e.dom,r=e.selection.getStart(),o=ln(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=en(e.selection.getRng()),u=n.getParent(Mr(e,a,t,o),"LI",o);if(u)return e.undoManager.transact((function(){Wr(n,i,o),Or(n,u.parentNode),e.selection.select(u,!0),e.selection.collapse(t)})),!0}return!1},Vr=function(e,t){return $r(e,t)||Kr(e,t)},Gr=function(e){var t=e.selection.getStart(),n=ln(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||cn(e).length>0)&&(e.undoManager.transact((function(){e.execCommand("Delete"),Lr(e.dom,e.getBody())})),!0)},Yr=function(e,t){return e.selection.isCollapsed()?Vr(e,t):Gr(e)},Jr=function(e){e.on("keydown",(function(t){t.keyCode===qe.BACKSPACE?Yr(e,!1)&&t.preventDefault():t.keyCode===qe.DELETE&&Yr(e,!0)&&t.preventDefault()}))},qr=function(e){return{backspaceDelete:function(t){Yr(e,t)}}},Xr=function(e,t){var n=nn(e);e.undoManager.transact((function(){i(t.styles)&&e.dom.setStyles(n,t.styles),i(t.attrs)&&Qe(t.attrs,(function(t,r){return e.dom.setAttrib(n,r,t)}))}))},Qr=function(e){var t=I(ee(e).split("")),n=S(t,(function(e,t){var n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return A(n,(function(e,t){return e+t}),0)},Zr=function(e){if(e--,e<0)return"";var t=e%26,n=Math.floor(e/26),r=Zr(n),o=String.fromCharCode("A".charCodeAt(0)+t);return r+o},eo=function(e){return/^[A-Z]+$/.test(e)},to=function(e){return/^[a-z]+$/.test(e)},no=function(e){return/^[0-9]+$/.test(e)},ro=function(e){return no(e)?2:eo(e)?0:to(e)?1:ne(e)?3:4},oo=function(e){switch(ro(e)){case 2:return x.some({listStyleType:x.none(),start:e});case 0:return x.some({listStyleType:x.some("upper-alpha"),start:Qr(e).toString()});case 1:return x.some({listStyleType:x.some("lower-alpha"),start:Qr(e).toString()});case 3:return x.some({listStyleType:x.none(),start:""});case 4:return x.none()}},io=function(e){var t=parseInt(e.start,10);return pn(e.listStyleType,"upper-alpha")?Zr(t):pn(e.listStyleType,"lower-alpha")?Zr(t).toLowerCase():e.start},ao=function(e){var t=nn(e);_t(t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:io({start:e.dom.getAttrib(t,"start","1"),listStyleType:x.some(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(t){var n=t.getData();oo(n.start).each((function(t){e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},uo=function(e,t){return function(){var n=nn(e);return n&&n.nodeName===t}},co=function(e){e.addCommand("mceListProps",(function(){ao(e)}))},so=function(e){e.on("BeforeExecCommand",(function(t){var n=t.command.toLowerCase();"indent"===n?rr(e):"outdent"===n&&or(e)})),e.addCommand("InsertUnorderedList",(function(t,n){_r(e,"UL",n)})),e.addCommand("InsertOrderedList",(function(t,n){_r(e,"OL",n)})),e.addCommand("InsertDefinitionList",(function(t,n){_r(e,"DL",n)})),e.addCommand("RemoveList",(function(){ir(e)})),co(e),e.addCommand("mceListUpdate",(function(t,n){i(n)&&Xr(e,n)})),e.addQueryStateHandler("InsertUnorderedList",uo(e,"UL")),e.addQueryStateHandler("InsertOrderedList",uo(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",uo(e,"DL"))},lo=function(e){e.on("keydown",(function(t){t.keyCode!==qe.TAB||qe.metaKeyPressed(t)||e.undoManager.transact((function(){(t.shiftKey?or(e):rr(e))&&t.preventDefault()}))}))},fo=function(e){Ht(e)&&lo(e),Jr(e)},mo=function(e){var t=function(t){return function(){return e.execCommand(t)}};e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:function(t){return dr(e,"OL",t.setActive)}}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:function(t){return dr(e,"UL",t.setActive)}}))},go=function(e){var t={text:"List properties...",icon:"ordered-list",onAction:function(){return e.execCommand("mceListProps")},onSetup:function(t){return dr(e,"OL",(function(e){return t.setDisabled(!e)}))}};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:function(t){var n=nn(e,t);return _t(n)?["listprops"]:[]}})};function po(){e.add("lists",(function(e){return!1===e.hasPlugin("rtc",!0)?(fo(e),so(e)):co(e),mo(e),go(e),qr(e)}))}po()})()},"9c16":function(e,t,n){n("18f5")},daed:function(e,t,n){n("dfc7c")},dfc7c:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){e.addCommand("mcePrint",(function(){t.browser.isIE()?e.getDoc().execCommand("print",!1,null):e.getWin().print()}))},r=function(e){var t=function(){return e.execCommand("mcePrint")};e.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:t}),e.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:t})};function o(){e.add("print",(function(e){n(e),r(e),e.addShortcut("Meta+P","","mcePrint")}))}o()})()},f016:function(e,t,n){n("4948")},fb04:function(e,t){(function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=function(e){return e.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")},r=function(e){return e.getParam("pagebreak_split_block",!1)},o="mce-pagebreak",i=function(e){var n='<img src="'+t.transparentSrc+'" class="'+o+'" data-mce-resize="false" data-mce-placeholder />';return e?"<p>"+n+"</p>":n},a=function(e){var t=n(e),a=function(){return r(e)},u=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(e){return"\\"+e})),"gi");e.on("BeforeSetContent",(function(e){e.content=e.content.replace(u,i(a()))})),e.on("PreInit",(function(){e.serializer.addNodeFilter("img",(function(n){var r,i,u=n.length;while(u--)if(r=n[u],i=r.attr("class"),i&&-1!==i.indexOf(o)){var c=r.parent;if(e.schema.getBlockElements()[c.name]&&a()){c.type=3,c.value=t,c.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))},u=function(e){e.addCommand("mcePageBreak",(function(){e.insertContent(i(r(e)))}))},c=function(e){e.on("ResolveName",(function(t){"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,o)&&(t.name="pagebreak")}))},s=function(e){var t=function(){return e.execCommand("mcePageBreak")};e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t})};function l(){e.add("pagebreak",(function(e){u(e),s(e),a(e),c(e)}))}l()})()}}]);