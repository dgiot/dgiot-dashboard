{
    "version": 3,
    "file": "Carousel.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Carousel.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport Transition, {\n  ENTERED,\n  ENTERING,\n  EXITING\n} from 'react-transition-group/Transition';\nimport {Renderer, RendererProps} from '../factory';\nimport {resolveVariable} from '../utils/tpl-builtin';\nimport {\n  autobind,\n  createObject,\n  isObject,\n  isArrayChildrenModified,\n  getPropValue\n} from '../utils/helper';\nimport {Icon} from '../components/icons';\nimport {BaseSchema, SchemaCollection, SchemaName, SchemaTpl} from '../Schema';\nimport Html from '../components/Html';\nimport Image from '../renderers/Image';\n\n/**\n * Carousel 轮播图渲染器。\n * 文档：https://baidu.gitee.io/amis/docs/components/carousel\n */\nexport interface CarouselSchema extends BaseSchema {\n  /**\n   * 指定为轮播图类型\n   */\n  type: 'carousel';\n\n  /**\n   * 是否自动播放\n   */\n  auto?: boolean;\n\n  /**\n   * 轮播间隔时间\n   */\n  interval?: number;\n\n  /**\n   * 动画时长\n   */\n  duration?: number;\n\n  /**\n   * 设置宽度\n   */\n  width?: number;\n\n  /**\n   * 设置高度\n   */\n  height?: number;\n\n  controlsTheme?: 'light' | 'dark';\n\n  /**\n   * 占位\n   */\n  placeholder?: string;\n\n  /**\n   * 配置控件内容\n   */\n  controls?: Array<'dots' | 'arrows'>;\n\n  /**\n   * 动画类型\n   */\n  animation?: 'fade' | 'slide';\n\n  /**\n   * 配置单条呈现模板\n   */\n  itemSchema?: SchemaCollection;\n\n  name?: SchemaName;\n\n  /**\n   * 预览图模式\n   */\n  thumbMode?: 'contain' | 'cover';\n\n  /**\n   * 配置固定值\n   */\n  options?: Array<any>;\n}\n\nconst animationStyles: {\n  [propName: string]: string;\n} = {\n  [ENTERING]: 'in',\n  [ENTERED]: 'in',\n  [EXITING]: 'out'\n};\n\nexport interface CarouselProps\n  extends RendererProps,\n    Omit<CarouselSchema, 'className'> {\n  value?: any;\n}\n\nexport interface CarouselState {\n  current: number;\n  options: any[];\n  nextAnimation: string;\n}\n\nconst defaultSchema = {\n  component: (props: any) => {\n    const data = props.data || {};\n    const thumbMode = props.thumbMode;\n    const cx = props.classnames;\n\n    return (\n      <>\n        {data.hasOwnProperty('image') ? (\n          <Image\n            src={data.image}\n            title={data.title}\n            href={data.href}\n            blank={data.blank}\n            htmlTarget={data.htmlTarget}\n            imageCaption={data.description}\n            thumbMode={data.thumbMode ?? thumbMode ?? 'contain'}\n            imageMode=\"original\"\n            className={cx('Carousel-image')}\n          />\n        ) : data.hasOwnProperty('html') ? (\n          <Html html={data.html} />\n        ) : data.hasOwnProperty('item') ? (\n          <span>{data.item}</span>\n        ) : (\n          <p></p>\n        )}\n      </>\n    );\n  }\n};\n\nexport class Carousel extends React.Component<CarouselProps, CarouselState> {\n  wrapperRef: React.RefObject<HTMLDivElement> = React.createRef();\n  intervalTimeout: NodeJS.Timer | number;\n  durationTimeout: NodeJS.Timer | number;\n\n  static defaultProps: Pick<\n    CarouselProps,\n    | 'auto'\n    | 'interval'\n    | 'duration'\n    | 'controlsTheme'\n    | 'animation'\n    | 'controls'\n    | 'placeholder'\n  > = {\n    auto: true,\n    interval: 5000,\n    duration: 500,\n    controlsTheme: 'light',\n    animation: 'fade',\n    controls: ['dots', 'arrows'],\n    placeholder: '-'\n  };\n\n  state = {\n    current: 0,\n    options: this.props.options || getPropValue(this.props) || [],\n    nextAnimation: ''\n  };\n\n  componentDidMount() {\n    this.prepareAutoSlide();\n  }\n\n  componentDidUpdate(prevProps: CarouselProps) {\n    const props = this.props;\n\n    const nextOptions = props.options || getPropValue(props) || [];\n    const prevOptions = prevProps.options || getPropValue(prevProps) || [];\n\n    if (isArrayChildrenModified(prevOptions, nextOptions)) {\n      this.setState({\n        options: nextOptions\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearAutoTimeout();\n  }\n\n  @autobind\n  prepareAutoSlide() {\n    if (this.state.options.length < 2) {\n      return;\n    }\n\n    this.clearAutoTimeout();\n    if (this.props.auto) {\n      this.intervalTimeout = setTimeout(this.autoSlide, this.props.interval);\n    }\n  }\n\n  @autobind\n  autoSlide(rel?: string) {\n    this.clearAutoTimeout();\n    const {animation} = this.props;\n    let {nextAnimation} = this.state;\n\n    switch (rel) {\n      case 'prev':\n        animation === 'slide'\n          ? (nextAnimation = 'slideRight')\n          : (nextAnimation = '');\n        this.transitFramesTowards('right', nextAnimation);\n        break;\n      case 'next':\n      default:\n        nextAnimation = '';\n        this.transitFramesTowards('left', nextAnimation);\n        break;\n    }\n\n    this.durationTimeout = setTimeout(\n      this.prepareAutoSlide,\n      this.props.duration\n    );\n  }\n\n  @autobind\n  transitFramesTowards(direction: string, nextAnimation: string) {\n    let {current} = this.state;\n\n    switch (direction) {\n      case 'left':\n        current = this.getFrameId('next');\n        break;\n      case 'right':\n        current = this.getFrameId('prev');\n        break;\n    }\n\n    this.setState({\n      current,\n      nextAnimation\n    });\n  }\n\n  @autobind\n  getFrameId(pos?: string) {\n    const {options, current} = this.state;\n    const total = options.length;\n    switch (pos) {\n      case 'prev':\n        return (current - 1 + total) % total;\n      case 'next':\n        return (current + 1) % total;\n      default:\n        return current;\n    }\n  }\n\n  @autobind\n  next() {\n    this.autoSlide('next');\n  }\n\n  @autobind\n  prev() {\n    this.autoSlide('prev');\n  }\n\n  @autobind\n  clearAutoTimeout() {\n    clearTimeout(this.intervalTimeout as number);\n    clearTimeout(this.durationTimeout as number);\n  }\n\n  renderDots() {\n    const {classnames: cx} = this.props;\n    const {current, options} = this.state;\n    return (\n      <div\n        className={cx('Carousel-dotsControl')}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        {Array.from({length: options.length}).map((_, i) => (\n          <span\n            key={i}\n            className={cx('Carousel-dot', current === i ? 'is-active' : '')}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  renderArrows() {\n    const {classnames: cx} = this.props;\n    return (\n      <div\n        className={cx('Carousel-arrowsControl')}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n      >\n        <div className={cx('Carousel-leftArrow')} onClick={this.prev}>\n          <Icon icon=\"left-arrow\" className=\"icon\" />\n        </div>\n        <div className={cx('Carousel-rightArrow')} onClick={this.next}>\n          <Icon icon=\"right-arrow\" className=\"icon\" />\n        </div>\n      </div>\n    );\n  }\n\n  @autobind\n  handleMouseEnter() {\n    this.clearAutoTimeout();\n  }\n\n  @autobind\n  handleMouseLeave() {\n    this.prepareAutoSlide();\n  }\n\n  render() {\n    const {\n      render,\n      className,\n      classnames: cx,\n      itemSchema,\n      animation,\n      width,\n      height,\n      controls,\n      controlsTheme,\n      placeholder,\n      data,\n      name\n    } = this.props;\n    const {options, current, nextAnimation} = this.state;\n\n    let body: JSX.Element | null = null;\n    let carouselStyles: {\n      [propName: string]: string;\n    } = {};\n    width ? (carouselStyles.width = width + 'px') : '';\n    height ? (carouselStyles.height = height + 'px') : '';\n    const [dots, arrows] = [\n      controls!.indexOf('dots') > -1,\n      controls!.indexOf('arrows') > -1\n    ];\n    const animationName = nextAnimation || animation;\n\n    if (Array.isArray(options) && options.length) {\n      body = (\n        <div\n          ref={this.wrapperRef}\n          className={cx('Carousel-container')}\n          onMouseEnter={this.handleMouseEnter}\n          onMouseLeave={this.handleMouseLeave}\n        >\n          {options.map((option: any, key: number) => (\n            <Transition\n              mountOnEnter\n              unmountOnExit\n              in={key === current}\n              timeout={500}\n              key={key}\n            >\n              {(status: string) => {\n                if (status === ENTERING) {\n                  this.wrapperRef.current &&\n                    this.wrapperRef.current.childNodes.forEach(\n                      (item: HTMLElement) => item.offsetHeight\n                    );\n                }\n\n                return (\n                  <div\n                    className={cx(\n                      'Carousel-item',\n                      animationName,\n                      animationStyles[status]\n                    )}\n                  >\n                    {render(\n                      `${current}/body`,\n                      itemSchema ? itemSchema : (defaultSchema as any),\n                      {\n                        thumbMode: this.props.thumbMode,\n                        data: createObject(\n                          data,\n                          isObject(option)\n                            ? option\n                            : {item: option, [name!]: option}\n                        )\n                      }\n                    )}\n                  </div>\n                );\n              }}\n            </Transition>\n          ))}\n        </div>\n      );\n    }\n\n    return (\n      <div\n        className={cx(`Carousel Carousel--${controlsTheme}`, className)}\n        style={carouselStyles}\n      >\n        {body ? body : placeholder}\n\n        {dots ? this.renderDots() : null}\n        {arrows ? (\n          <div className={cx('Carousel-leftArrow')} onClick={this.prev}>\n            <Icon icon=\"left-arrow\" className=\"icon\" />\n          </div>\n        ) : null}\n        {arrows ? (\n          <div className={cx('Carousel-rightArrow')} onClick={this.next}>\n            <Icon icon=\"right-arrow\" className=\"icon\" />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\n@Renderer({\n  type: 'carousel'\n})\nexport class CarouselRenderer extends Carousel {}\n"
    ]
}