{
    "version": 3,
    "file": "Textarea.js",
    "sourceRoot": "",
    "sources": [
        "/src/renderers/Form/Textarea.tsx"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import React from 'react';\nimport {FormItem, FormControlProps, FormBaseControl} from './Item';\nimport cx from 'classnames';\nimport Textarea from '../../components/Textarea';\nimport {findDOMNode} from 'react-dom';\nimport {autobind, ucFirst} from '../../utils/helper';\n/**\n * TextArea 多行文本输入框。\n * 文档：https://baidu.gitee.io/amis/docs/components/form/textarea\n */\nexport interface TextareaControlSchema extends FormBaseControl {\n  /**\n   * 指定为多行文本输入框\n   */\n  type: 'textarea';\n\n  /**\n   * 最大行数\n   */\n  maxRows?: number;\n\n  /**\n   * 最小行数\n   */\n  minRows?: number;\n\n  /**\n   * 是否只读\n   */\n  readOnly?: boolean;\n\n  /**\n   * 边框模式，全边框，还是半边框，或者没边框。\n   */\n  borderMode?: 'full' | 'half' | 'none';\n\n  /**\n   * 限制文字个数\n   */\n  maxLength?: number;\n\n  /**\n   * 是否显示计数\n   */\n  showCounter?: boolean;\n}\n\nexport interface TextAreaProps extends FormControlProps {\n  placeholder?: string;\n  minRows?: number;\n  maxRows?: number;\n}\n\nexport default class TextAreaControl extends React.Component<\n  TextAreaProps,\n  {focused: boolean}\n> {\n  static defaultProps: Partial<TextAreaProps> = {\n    minRows: 3,\n    maxRows: 20,\n    trimContents: true\n  };\n\n  state = {\n    focused: false\n  };\n\n  input?: HTMLInputElement;\n  inputRef = (ref: any) => (this.input = findDOMNode(ref) as HTMLInputElement);\n\n  focus() {\n    if (!this.input) {\n      return;\n    }\n\n    this.setState(\n      {\n        focused: true\n      },\n      () => {\n        if (!this.input) {\n          return;\n        }\n\n        this.input.focus();\n\n        // 光标放到最后\n        const len = this.input.value.length;\n        len && this.input.setSelectionRange(len, len);\n      }\n    );\n  }\n\n  @autobind\n  handleChange(e: React.ChangeEvent<any>) {\n    const {onChange} = this.props;\n\n    let value = e.currentTarget.value;\n\n    onChange(value);\n  }\n\n  @autobind\n  handleFocus(e: React.FocusEvent<HTMLTextAreaElement>) {\n    const {onFocus} = this.props;\n\n    this.setState(\n      {\n        focused: true\n      },\n      () => {\n        onFocus && onFocus(e);\n      }\n    );\n  }\n\n  @autobind\n  handleBlur(e: React.FocusEvent<HTMLTextAreaElement>) {\n    const {onBlur, trimContents, value, onChange} = this.props;\n\n    this.setState(\n      {\n        focused: false\n      },\n      () => {\n        if (trimContents && value && typeof value === 'string') {\n          onChange(value.trim());\n        }\n\n        onBlur && onBlur(e);\n      }\n    );\n  }\n\n  render() {\n    const {\n      className,\n      classPrefix: ns,\n      value,\n      type,\n      placeholder,\n      disabled,\n      minRows,\n      maxRows,\n      readOnly,\n      name,\n      borderMode,\n      classnames: cx,\n      maxLength,\n      showCounter\n    } = this.props;\n\n    let counter = showCounter\n      ? (typeof value === 'undefined' || value === null\n          ? ''\n          : typeof value === 'string'\n          ? value\n          : JSON.stringify(value)\n        ).length\n      : 0;\n\n    return (\n      <div\n        className={cx(\n          `TextareaControl`,\n          {\n            [`TextareaControl--border${ucFirst(borderMode)}`]: borderMode,\n            'is-focused': this.state.focused\n          },\n          className\n        )}\n      >\n        <Textarea\n          autoComplete=\"off\"\n          ref={this.inputRef}\n          name={name}\n          disabled={disabled}\n          value={\n            typeof value === 'undefined' || value === null\n              ? ''\n              : typeof value === 'string'\n              ? value\n              : JSON.stringify(value)\n          }\n          placeholder={placeholder}\n          autoCorrect=\"off\"\n          spellCheck=\"false\"\n          readOnly={readOnly}\n          minRows={minRows || undefined}\n          maxRows={maxRows || undefined}\n          onChange={this.handleChange}\n          onFocus={this.handleFocus}\n          onBlur={this.handleBlur}\n        />\n\n        {showCounter ? (\n          <span\n            className={cx(\n              'TextareaControl-counter',\n              counter === 0 ? 'is-empty' : ''\n            )}\n          >\n            {`${counter}${\n              typeof maxLength === 'number' && maxLength ? `/${maxLength}` : ''\n            }`}\n          </span>\n        ) : null}\n      </div>\n    );\n  }\n}\n\n@FormItem({\n  type: 'textarea'\n})\nexport class TextAreaControlRenderer extends TextAreaControl {}\n"
    ]
}